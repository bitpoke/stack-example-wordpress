{"version":3,"sources":["bp-messages/js/blocks/sitewide-notices/edit.js","bp-messages/js/blocks/sitewide-notices/transforms.js","bp-messages/js/blocks/sitewide-notices.js"],"names":["blockEditor","InspectorControls","components","Disabled","PanelBody","TextControl","element","Fragment","createElement","i18n","__","serverSideRender","ServerSideRender","wp","editSitewideNoticesBlock","attributes","setAttributes","title","text","blocks","createBlock","transforms","from","type","isMatch","idBase","instance","raw","transform","registerBlockType","description","icon","background","foreground","src","category","default","edit"],"mappings":";AA6CuC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA1CtC,MACAA,aAAa,kBACZC,GAEDC,YAAY,SACXC,EAAQ,UACRC,EAAS,YACTC,GAEDC,SAAS,SACRC,EAAQ,cACRC,GAEDC,MAAM,GACLC,GAEDC,iBAAkBC,GACfC,GAEEC,EAA2B,IAAqC,IAAnC,WAAEC,EAAU,cAAEC,GAAe,EAC/D,MAAM,MAAEC,GAAUF,EAElB,OACC,EAAC,EACA,KAAA,EAAC,EACA,KAAA,EAAC,EAAS,CAAC,MAAQL,EAAI,WAAY,cAAiB,aAAc,GACjE,EAAC,EAAW,CACX,MAAQA,EAAI,QAAS,cACrB,MAAQO,EACR,SAAaC,IACZF,EAAe,CAAEC,MAAOC,SAK5B,EAAC,EACA,KAAA,EAAC,EAAgB,CAAC,MAAM,sBAAsB,WAAaH,OAI7D,IAEaD,EAAAA,EAAwB,QAAA,QAAA;;ACVd,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAhCxB,MACAK,QAAQ,YACPC,IAEEP,GAOEQ,EAAa,CAClBC,KAAM,CACL,CACCC,KAAM,QACNJ,OAAQ,CAAE,sBACVK,QAAS,IAA4B,IAA1B,OAAEC,EAAM,SAAEC,GAAU,EAC9B,SAAOA,IAAcA,EAASC,MAIZ,wCAAXF,GAERG,UAAW,IAAoB,IAAlB,SAAEF,GAAU,EACxB,OAAON,EAAa,sBAAuB,CAC1CH,MAAOS,EAASC,IAAIV,YAKvB,IAEaI,EAAAA,EAAU,QAAA,QAAA;;ACAtB,aApBH,IAAA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,kCAAuD,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAbvD,MACCF,QAAQ,kBACPU,GAEDpB,MAAM,GACLC,IAEEG,GAQJgB,EAAmB,sBAAuB,CACzCZ,MAAOP,EAAI,mBAAoB,cAC/BoB,YAAapB,EAAI,4DAA6D,cAC9EqB,KAAM,CACLC,WAAY,OACZC,WAAY,UACZC,IAAK,aAENC,SAAU,aACVpB,WAAY,CACXE,MAAO,CACNM,KAAM,SACNa,QAAS,KAGXC,KAAMvB,EAAwB,QAC9BO,WAAYA,EAAAA","file":"sitewide-notices.js","sourceRoot":"../src/js","sourcesContent":["/**\n * WordPress dependencies.\n */\n const {\n\tblockEditor: {\n\t\tInspectorControls,\n\t},\n\tcomponents: {\n\t\tDisabled,\n\t\tPanelBody,\n\t\tTextControl,\n\t},\n\telement: {\n\t\tFragment,\n\t\tcreateElement,\n\t},\n\ti18n: {\n\t\t__,\n\t},\n\tserverSideRender: ServerSideRender,\n} = wp;\n\nconst editSitewideNoticesBlock = ( { attributes, setAttributes } ) => {\n\tconst { title } = attributes;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings', 'buddypress' ) } initialOpen={ true }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Title', 'buddypress' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ ( text ) => {\n\t\t\t\t\t\t\tsetAttributes( { title: text } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<Disabled>\n\t\t\t\t<ServerSideRender block=\"bp/sitewide-notices\" attributes={ attributes } />\n\t\t\t</Disabled>\n\t\t</Fragment>\n\t);\n};\n\nexport default editSitewideNoticesBlock;\n","/**\n * WordPress dependencies.\n */\n const {\n\tblocks: {\n\t\tcreateBlock,\n\t},\n} = wp;\n\n/**\n * Transforms Legacy Widget to Friends Block.\n *\n * @type {Object}\n */\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/legacy-widget' ],\n\t\t\tisMatch: ( { idBase, instance } ) => {\n\t\t\t\tif ( ! instance ||Â ! instance.raw ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn idBase === 'bp_messages_sitewide_notices_widget';\n\t\t\t},\n\t\t\ttransform: ( { instance } ) => {\n\t\t\t\treturn createBlock( 'bp/sitewide-notices', {\n\t\t\t\t\ttitle: instance.raw.title\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n","/**\n * WordPress dependencies.\n */\nconst {\n\tblocks: {\n\t\tregisterBlockType,\n\t},\n\ti18n: {\n\t\t__,\n\t},\n} = wp;\n\n/**\n * Internal dependencies.\n */\nimport editSitewideNoticesBlock from './sitewide-notices/edit';\nimport transforms from './sitewide-notices/transforms';\n\nregisterBlockType( 'bp/sitewide-notices', {\n\ttitle: __( 'Sitewide Notices', 'buddypress' ),\n\tdescription: __( 'Display Sitewide Notices posted by the site administrator', 'buddypress' ),\n\ticon: {\n\t\tbackground: '#fff',\n\t\tforeground: '#d84800',\n\t\tsrc: 'megaphone',\n\t},\n\tcategory: 'buddypress',\n\tattributes: {\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tedit: editSitewideNoticesBlock,\n\ttransforms: transforms,\n} );\n"]}
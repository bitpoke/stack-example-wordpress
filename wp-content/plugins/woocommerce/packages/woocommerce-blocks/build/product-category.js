(()=>{var e,t={5079:(e,t,r)=>{"use strict";r.r(t);var o=r(9196);const l=window.wp.blocks;var n=r(1984),c=r(5617);r(1794);const a=JSON.parse('{"name":"woocommerce/product-category","title":"Products by Category","category":"woocommerce","keywords":["WooCommerce"],"description":"Display a grid of products from your selected categories.","supports":{"align":["wide","full"],"html":false},"attributes":{"columns":{"type":"number","default":3},"rows":{"type":"number","default":3},"alignButtons":{"type":"boolean","default":false},"contentVisibility":{"type":"object","default":{"image":true,"title":true,"price":true,"rating":true,"button":true},"properties":{"image":{"type":"boolean","default":true},"title":{"type":"boolean","default":true},"price":{"type":"boolean","default":true},"rating":{"type":"boolean","default":true},"button":{"type":"boolean","default":true}}},"categories":{"type":"array","default":[]},"catOperator":{"type":"string","default":"any"},"isPreview":{"type":"boolean","default":false},"stockStatus":{"type":"array"},"editMode":{"type":"boolean","default":true},"orderby":{"type":"string","enum":["date","popularity","price_asc","price_desc","rating","title","menu_order"],"default":"date"}},"textdomain":"woocommerce","apiVersion":2,"$schema":"https://schemas.wp.org/trunk/block.json"}'),s=window.wc.wcSettings,i={columns:{type:"number",default:(0,s.getSetting)("defaultColumns",3)},rows:{type:"number",default:(0,s.getSetting)("defaultRows",3)},alignButtons:{type:"boolean",default:!1},categories:{type:"array",default:[]},catOperator:{type:"string",default:"any"},contentVisibility:{type:"object",default:{image:!0,title:!0,price:!0,rating:!0,button:!0}},isPreview:{type:"boolean",default:!1},stockStatus:{type:"array",default:Object.keys((0,s.getSetting)("stockStatusOptions",[]))}},d=window.wp.blockEditor;var u=r(9307);const m=window.wp.components;var g=r(5736);const h=window.wp.serverSideRender;var p=r.n(h);const E=(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 230 250",style:{width:"100%"}},(0,o.createElement)("title",null,"Grid Block Preview"),(0,o.createElement)("rect",{width:"65.374",height:"65.374",x:".162",y:".779",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"47.266",height:"5.148",x:"9.216",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,o.createElement)("rect",{width:"62.8",height:"15",x:"1.565",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,o.createElement)("rect",{width:"65.374",height:"65.374",x:".162",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"47.266",height:"5.148",x:"9.216",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,o.createElement)("rect",{width:"62.8",height:"15",x:"1.565",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,o.createElement)("rect",{width:"65.374",height:"65.374",x:"82.478",y:".779",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"47.266",height:"5.148",x:"91.532",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,o.createElement)("rect",{width:"62.8",height:"15",x:"83.882",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,o.createElement)("rect",{width:"65.374",height:"65.374",x:"82.478",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"47.266",height:"5.148",x:"91.532",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,o.createElement)("rect",{width:"62.8",height:"15",x:"83.882",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,o.createElement)("rect",{width:"65.374",height:"65.374",x:"164.788",y:".779",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"47.266",height:"5.148",x:"173.843",y:"76.153",fill:"#E1E3E6",rx:"2.574"}),(0,o.createElement)("rect",{width:"62.8",height:"15",x:"166.192",y:"101.448",fill:"#E1E3E6",rx:"5"}),(0,o.createElement)("rect",{width:"65.374",height:"65.374",x:"164.788",y:"136.277",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"47.266",height:"5.148",x:"173.843",y:"211.651",fill:"#E1E3E6",rx:"2.574"}),(0,o.createElement)("rect",{width:"62.8",height:"15",x:"166.192",y:"236.946",fill:"#E1E3E6",rx:"5"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"13.283",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"21.498",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"29.713",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"37.927",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"46.238",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"95.599",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"103.814",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"112.029",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"120.243",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"128.554",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"177.909",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"186.124",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"194.339",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"202.553",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"210.864",y:"86.301",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"13.283",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"21.498",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"29.713",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"37.927",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"46.238",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"95.599",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"103.814",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"112.029",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"120.243",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"128.554",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"177.909",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"186.124",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"194.339",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"202.553",y:"221.798",fill:"#E1E3E6",rx:"3"}),(0,o.createElement)("rect",{width:"6.177",height:"6.177",x:"210.864",y:"221.798",fill:"#E1E3E6",rx:"3"})),b=()=>(0,o.createElement)(m.Placeholder,{icon:(0,o.createElement)(n.Z,{icon:c.Z}),label:(0,g.__)("Products by Category","woocommerce"),className:"wc-block-products-grid wc-block-products-category"},(0,g.__)("No products were found that matched your selection.","woocommerce")),w=e=>{const{name:t,attributes:r}=e,l=r.categories.length;return r.isPreview?E:l?(0,o.createElement)(p(),{block:t,attributes:r,EmptyResponsePlaceholder:b}):(0,o.createElement)(o.Fragment,null,(0,g.__)("Select at least one category to display its products.","woocommerce"))};var _=r(4184),y=r.n(_);function f(e,t,r){const o=new Set(t.map((e=>e[r])));return e.filter((e=>!o.has(e[r])))}const k=window.wp.htmlEntities,x={clear:(0,g.__)("Clear all selected items","woocommerce"),noItems:(0,g.__)("No items found.","woocommerce"),
/* Translators: %s search term */
noResults:(0,g.__)("No results for %s","woocommerce"),search:(0,g.__)("Search for items","woocommerce"),selected:e=>(0,g.sprintf)(/* translators: Number of items selected from list. */
(0,g._n)("%d item selected","%d items selected",e,"woocommerce"),e),updated:(0,g.__)("Search results updated.","woocommerce")},v=(e,t=e)=>{const r=e.reduce(((e,t)=>{const r=t.parent||0;return e[r]||(e[r]=[]),e[r].push(t),e}),{}),o=("id",t.reduce(((e,t)=>(e[String(t.id)]=t,e)),{}));const l=["0"],n=(e={})=>e.parent?[...n(o[e.parent]),e.name]:e.name?[e.name]:[],c=e=>e.map((e=>{const t=r[e.id];return l.push(""+e.id),{...e,breadcrumbs:n(o[e.parent]),children:t&&t.length?c(t):[]}})),a=c(r[0]||[]);return Object.entries(r).forEach((([e,t])=>{l.includes(e)||a.push(...c(t||[]))})),a},C=(e,t)=>{if(!t)return e;const r=new RegExp(`(${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"ig");return e.split(r).map(((e,t)=>r.test(e)?(0,o.createElement)("strong",{key:t},e):(0,o.createElement)(u.Fragment,{key:t},e)))},S=({label:e})=>(0,o.createElement)("span",{className:"woocommerce-search-list__item-count"},e),N=e=>{const{item:t,search:r}=e,l=t.breadcrumbs&&t.breadcrumbs.length;return(0,o.createElement)("span",{className:"woocommerce-search-list__item-label"},l?(0,o.createElement)("span",{className:"woocommerce-search-list__item-prefix"},1===(n=t.breadcrumbs).length?n.slice(0,1).toString():2===n.length?n.slice(0,1).toString()+" › "+n.slice(-1).toString():n.slice(0,1).toString()+" … "+n.slice(-1).toString()):null,(0,o.createElement)("span",{className:"woocommerce-search-list__item-name"},C((0,k.decodeEntities)(t.name),r)));var n},P=({countLabel:e,className:t,depth:r=0,controlId:l="",item:n,isSelected:c,isSingle:a,onSelect:s,search:i="",selected:d,useExpandedPanelId:g,...h})=>{var p,E;const[b,w]=g,_=null!=e&&void 0!==n.count&&null!==n.count,x=!(null===(p=n.breadcrumbs)||void 0===p||!p.length),v=!(null===(E=n.children)||void 0===E||!E.length),P=b===n.id,O=y()(["woocommerce-search-list__item",`depth-${r}`,t],{"has-breadcrumbs":x,"has-children":v,"has-count":_,"is-expanded":P,"is-radio-button":a}),I=h.name||`search-list-item-${l}`,B=`${I}-${n.id}`,A=(0,u.useCallback)((()=>{w(P?-1:Number(n.id))}),[P,n.id,w]);return v?(0,o.createElement)("div",{className:O,onClick:A,onKeyDown:e=>"Enter"===e.key||" "===e.key?A():null,role:"treeitem",tabIndex:0},a?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("input",{type:"radio",id:B,name:I,value:n.value,onChange:s(n),onClick:e=>e.stopPropagation(),checked:c,className:"woocommerce-search-list__item-input",...h}),(0,o.createElement)(N,{item:n,search:i}),_?(0,o.createElement)(S,{label:e||n.count}):null):(0,o.createElement)(o.Fragment,null,(0,o.createElement)(m.CheckboxControl,{className:"woocommerce-search-list__item-input",checked:c,...!c&&n.children.some((e=>d.find((t=>t.id===e.id))))?{indeterminate:!0}:{},label:C((0,k.decodeEntities)(n.name),i),onChange:()=>{c?s(f(d,n.children,"id"))():s(function(e,t,r){const o=f(t,e,"id");return[...e,...o]}(d,n.children))()},onClick:e=>e.stopPropagation()}),_?(0,o.createElement)(S,{label:e||n.count}):null)):(0,o.createElement)("label",{htmlFor:B,className:O},a?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("input",{...h,type:"radio",id:B,name:I,value:n.value,onChange:s(n),checked:c,className:"woocommerce-search-list__item-input"}),(0,o.createElement)(N,{item:n,search:i})):(0,o.createElement)(m.CheckboxControl,{...h,id:B,name:I,className:"woocommerce-search-list__item-input",value:(0,k.decodeEntities)(n.value),label:C((0,k.decodeEntities)(n.name),i),onChange:s(n),checked:c}),_?(0,o.createElement)(S,{label:e||n.count}):null)},O=P;var I=r(5430),B=r(4333),A=r(906);r(5932);const R=({id:e,label:t,popoverContents:r,remove:l,screenReaderLabel:c,className:a=""})=>{const[s,i]=(0,u.useState)(!1),d=(0,B.useInstanceId)(R);if(c=c||t,!t)return null;t=(0,k.decodeEntities)(t);const h=y()("woocommerce-tag",a,{"has-remove":!!l}),p=`woocommerce-tag__label-${d}`,E=(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",{className:"screen-reader-text"},c),(0,o.createElement)("span",{"aria-hidden":"true"},t));return(0,o.createElement)("span",{className:h},r?(0,o.createElement)(m.Button,{className:"woocommerce-tag__text",id:p,onClick:()=>i(!0)},E):(0,o.createElement)("span",{className:"woocommerce-tag__text",id:p},E),r&&s&&(0,o.createElement)(m.Popover,{onClose:()=>i(!1)},r),l&&(0,o.createElement)(m.Button,{className:"woocommerce-tag__remove",onClick:l(e),label:(0,g.sprintf)(
// Translators: %s label.
(0,g.__)("Remove %s","woocommerce"),t),"aria-describedby":p},(0,o.createElement)(n.Z,{icon:A.Z,size:20,className:"clear-icon"})))},T=R;r(8462);const $=e=>(0,o.createElement)(O,{...e}),j=e=>{const{list:t,selected:r,renderItem:l,depth:n=0,onSelect:c,instanceId:a,isSingle:s,search:i,useExpandedPanelId:d}=e,[m]=d;return t?(0,o.createElement)(u.Fragment,null,t.map((t=>{var g,h;const p=null!==(g=t.children)&&void 0!==g&&g.length&&!s?t.children.every((({id:e})=>r.find((t=>t.id===e)))):!!r.find((({id:e})=>e===t.id)),E=(null===(h=t.children)||void 0===h?void 0:h.length)&&m===t.id;return(0,o.createElement)(u.Fragment,{key:t.id},(0,o.createElement)("li",null,l({item:t,isSelected:p,onSelect:c,isSingle:s,selected:r,search:i,depth:n,useExpandedPanelId:d,controlId:a})),E?(0,o.createElement)(j,{...e,list:t.children,depth:n+1}):null)}))):null},F=({isLoading:e,isSingle:t,selected:r,messages:l,onChange:n,onRemove:c})=>{if(e||t||!r)return null;const a=r.length;return(0,o.createElement)("div",{className:"woocommerce-search-list__selected"},(0,o.createElement)("div",{className:"woocommerce-search-list__selected-header"},(0,o.createElement)("strong",null,l.selected(a)),a>0?(0,o.createElement)(m.Button,{isLink:!0,isDestructive:!0,onClick:()=>n([]),"aria-label":l.clear},(0,g.__)("Clear all","woocommerce")):null),a>0?(0,o.createElement)("ul",null,r.map(((e,t)=>(0,o.createElement)("li",{key:t},(0,o.createElement)(T,{label:e.name,id:e.id,remove:c}))))):null)},M=({filteredList:e,search:t,onSelect:r,instanceId:l,useExpandedPanelId:c,...a})=>{const{messages:s,renderItem:i,selected:d,isSingle:u}=a,m=i||$;return 0===e.length?(0,o.createElement)("div",{className:"woocommerce-search-list__list is-not-found"},(0,o.createElement)("span",{className:"woocommerce-search-list__not-found-icon"},(0,o.createElement)(n.Z,{icon:I.Z})),(0,o.createElement)("span",{className:"woocommerce-search-list__not-found-text"},t?(0,g.sprintf)(s.noResults,t):s.noItems)):(0,o.createElement)("ul",{className:"woocommerce-search-list__list"},(0,o.createElement)(j,{useExpandedPanelId:c,list:e,selected:d,renderItem:m,onSelect:r,instanceId:l,isSingle:u,search:t}))},L=e=>{const{className:t="",isCompact:r,isHierarchical:l,isLoading:n,isSingle:c,list:a,messages:s=x,onChange:i,onSearch:d,selected:h,type:p="text",debouncedSpeak:E}=e,[b,w]=(0,u.useState)(""),_=(0,u.useState)(-1),f=(0,B.useInstanceId)(L),k=(0,u.useMemo)((()=>({...x,...s})),[s]),C=(0,u.useMemo)((()=>((e,t,r)=>{if(!t)return r?v(e):e;const o=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),l=e.map((e=>!!o.test(e.name)&&e)).filter(Boolean);return r?v(l,e):l})(a,b,l)),[a,b,l]);(0,u.useEffect)((()=>{E&&E(k.updated)}),[E,k]),(0,u.useEffect)((()=>{"function"==typeof d&&d(b)}),[b,d]);const S=(0,u.useCallback)((e=>()=>{c&&i([]);const t=h.findIndex((({id:t})=>t===e));i([...h.slice(0,t),...h.slice(t+1)])}),[c,h,i]),N=(0,u.useCallback)((e=>()=>{Array.isArray(e)?i(e):-1===h.findIndex((({id:t})=>t===e.id))?i(c?[e]:[...h,e]):S(e.id)()}),[c,S,i,h]),P=(0,u.useCallback)((e=>{const[t]=h.filter((t=>!e.find((e=>t.id===e.id))));S(t.id)()}),[S,h]);return(0,o.createElement)("div",{className:y()("woocommerce-search-list",t,{"is-compact":r,"is-loading":n,"is-token":"token"===p})},"text"===p&&(0,o.createElement)(F,{...e,onRemove:S,messages:k}),(0,o.createElement)("div",{className:"woocommerce-search-list__search"},"text"===p?(0,o.createElement)(m.TextControl,{label:k.search,type:"search",value:b,onChange:e=>w(e)}):(0,o.createElement)(m.FormTokenField,{disabled:n,label:k.search,onChange:P,onInputChange:e=>w(e),suggestions:[],__experimentalValidateInput:()=>!1,value:n?[(0,g.__)("Loading…","woocommerce")]:h.map((e=>({...e,value:e.name}))),__experimentalShowHowTo:!1})),n?(0,o.createElement)("div",{className:"woocommerce-search-list__list"},(0,o.createElement)(m.Spinner,null)):(0,o.createElement)(M,{...e,search:b,filteredList:C,messages:k,onSelect:N,instanceId:f,useExpandedPanelId:_}))},Z=((0,m.withSpokenMessages)(L),window.wp.url),D=window.wp.apiFetch;var H=r.n(D);const V=(0,B.createHigherOrderComponent)((e=>class extends u.Component{constructor(){super(...arguments),this.state={error:null,loading:!1,categories:[]},this.loadCategories=this.loadCategories.bind(this)}componentDidMount(){this.loadCategories()}loadCategories(){this.setState({loading:!0}),H()({path:(0,Z.addQueryArgs)("wc/store/v1/products/categories",{per_page:0})}).then((e=>{this.setState({categories:e,loading:!1,error:null})})).catch((async e=>{const t=await(async e=>{if(!("json"in e))return{message:e.message,type:e.type||"general"};try{const t=await e.json();return{message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}})(e);this.setState({categories:[],loading:!1,error:t})}))}render(){const{error:t,loading:r,categories:l}=this.state;return(0,o.createElement)(e,{...this.props,error:t,isLoading:r,categories:l})}}),"withCategories"),J=window.wp.escapeHtml,W=({error:e})=>(0,o.createElement)("div",{className:"wc-block-error-message"},(({message:e,type:t})=>e?"general"===t?(0,o.createElement)("span",null,(0,g.__)("The following error was returned","woocommerce"),(0,o.createElement)("br",null),(0,o.createElement)("code",null,(0,J.escapeHTML)(e))):"api"===t?(0,o.createElement)("span",null,(0,g.__)("The following error was returned from the API","woocommerce"),(0,o.createElement)("br",null),(0,o.createElement)("code",null,(0,J.escapeHTML)(e))):e:(0,g.__)("An error has prevented the block from being updated.","woocommerce"))(e));r(3366);const G=({categories:e,error:t,isLoading:r,onChange:l,onOperatorChange:n,operator:c,selected:a,isCompact:s,isSingle:i,showReviewCount:d})=>{const u={clear:(0,g.__)("Clear all product categories","woocommerce"),list:(0,g.__)("Product Categories","woocommerce"),noItems:(0,g.__)("Your store doesn't have any product categories.","woocommerce"),search:(0,g.__)("Search for product categories","woocommerce"),selected:e=>(0,g.sprintf)(/* translators: %d is the count of selected categories. */
(0,g._n)("%d category selected","%d categories selected",e,"woocommerce"),e),updated:(0,g.__)("Category search results updated.","woocommerce")};return t?(0,o.createElement)(W,{error:t}):(0,o.createElement)(o.Fragment,null,(0,o.createElement)(L,{className:"woocommerce-product-categories",list:e,isLoading:r,selected:a.map((t=>e.find((e=>e.id===t)))).filter(Boolean),onChange:l,renderItem:e=>{const{item:t,search:r,depth:l=0}=e,n=t.breadcrumbs.length?`${t.breadcrumbs.join(", ")}, ${t.name}`:t.name,c=d?(0,g.sprintf)(/* translators: %1$s is the item name, %2$d is the count of reviews for the item. */
(0,g._n)("%1$s, has %2$d review","%1$s, has %2$d reviews",t.review_count,"woocommerce"),n,t.review_count):(0,g.sprintf)(/* translators: %1$s is the item name, %2$d is the count of products for the item. */
(0,g._n)("%1$s, has %2$d product","%1$s, has %2$d products",t.count,"woocommerce"),n,t.count),a=d?(0,g.sprintf)(/* translators: %d is the count of reviews. */
(0,g._n)("%d review","%d reviews",t.review_count,"woocommerce"),t.review_count):(0,g.sprintf)(/* translators: %d is the count of products. */
(0,g._n)("%d product","%d products",t.count,"woocommerce"),t.count);return(0,o.createElement)(P,{className:y()("woocommerce-product-categories__item","has-count",{"is-searching":r.length>0,"is-skip-level":0===l&&0!==t.parent}),...e,countLabel:a,"aria-label":c})},messages:u,isCompact:s,isHierarchical:!0,isSingle:i}),!!n&&(0,o.createElement)("div",{hidden:a.length<2},(0,o.createElement)(m.SelectControl,{className:"woocommerce-product-categories__operator",label:(0,g.__)("Display products matching","woocommerce"),help:(0,g.__)("Pick at least two categories to use this setting.","woocommerce"),value:c,onChange:n,options:[{label:(0,g.__)("Any selected categories","woocommerce"),value:"any"},{label:(0,g.__)("All selected categories","woocommerce"),value:"all"}]})))};G.defaultProps={operator:"any",isCompact:!1,isSingle:!1};const z=V(G),K=(e,t,r)=>r?Math.min(e,t)===e?t:Math.max(e,r)===e?r:e:Math.max(e,t)===t?e:t,Q=({columns:e,rows:t,setAttributes:r,alignButtons:l,minColumns:n=1,maxColumns:c=6,minRows:a=1,maxRows:s=6})=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(m.RangeControl,{label:(0,g.__)("Columns","woocommerce"),value:e,onChange:e=>{const t=K(e,n,c);r({columns:Number.isNaN(t)?"":t})},min:n,max:c}),(0,o.createElement)(m.RangeControl,{label:(0,g.__)("Rows","woocommerce"),value:t,onChange:e=>{const t=K(e,a,s);r({rows:Number.isNaN(t)?"":t})},min:a,max:s}),(0,o.createElement)(m.ToggleControl,{label:(0,g.__)("Align the last block to the bottom","woocommerce"),help:l?(0,g.__)("Align the last block to the bottom.","woocommerce"):(0,g.__)("The last inner block will follow other content.","woocommerce"),checked:l,onChange:()=>r({alignButtons:!l})})),Y=({onChange:e,settings:t})=>{const{image:r,button:l,price:n,rating:c,title:a}=t,s=!1!==r;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(m.ToggleControl,{label:(0,g.__)("Product image","woocommerce"),checked:s,onChange:()=>e({...t,image:!s})}),(0,o.createElement)(m.ToggleControl,{label:(0,g.__)("Product title","woocommerce"),checked:a,onChange:()=>e({...t,title:!a})}),(0,o.createElement)(m.ToggleControl,{label:(0,g.__)("Product price","woocommerce"),checked:n,onChange:()=>e({...t,price:!n})}),(0,o.createElement)(m.ToggleControl,{label:(0,g.__)("Product rating","woocommerce"),checked:c,onChange:()=>e({...t,rating:!c})}),(0,o.createElement)(m.ToggleControl,{label:(0,g.__)("Add to Cart button","woocommerce"),checked:l,onChange:()=>e({...t,button:!l})}))},q=({value:e,setAttributes:t})=>(0,o.createElement)(m.SelectControl,{label:(0,g.__)("Order products by","woocommerce"),value:e,options:[{label:(0,g.__)("Newness - newest first","woocommerce"),value:"date"},{label:(0,g.__)("Price - low to high","woocommerce"),value:"price_asc"},{label:(0,g.__)("Price - high to low","woocommerce"),value:"price_desc"},{label:(0,g.__)("Rating - highest first","woocommerce"),value:"rating"},{label:(0,g.__)("Sales - most first","woocommerce"),value:"popularity"},{label:(0,g.__)("Title - alphabetical","woocommerce"),value:"title"},{label:(0,g.__)("Menu Order","woocommerce"),value:"menu_order"}],onChange:e=>t({orderby:e})}),U=(0,s.getSetting)("hideOutOfStockItems",!1),X=(0,s.getSetting)("stockStatusOptions",{}),ee=({value:e,setAttributes:t})=>{const{outofstock:r,...l}=X,n=U?l:X,c=Object.entries(n).map((([e,t])=>({value:e,label:t}))).filter((e=>!!e.label)),a=Object.keys(n).filter((e=>!!e)),[s,i]=(0,u.useState)(e||a);(0,u.useEffect)((()=>{t({stockStatus:["",...s]})}),[s,t]);const d=(0,u.useCallback)((e=>{const t=s.includes(e),r=s.filter((t=>t!==e));t||(r.push(e),r.sort()),i(r)}),[s]);return(0,o.createElement)(o.Fragment,null,c.map((e=>{const t=s.includes(e.value)?/* translators: %s stock status. */(0,g.__)('Stock status "%s" visible.',"woocommerce"):/* translators: %s stock status. */(0,g.__)('Stock status "%s" hidden.',"woocommerce");return(0,o.createElement)(m.ToggleControl,{label:e.label,key:e.value,help:(0,g.sprintf)(t,e.label),checked:s.includes(e.value),onChange:()=>d(e.value)})})))},te=e=>{const{isEditing:t,attributes:r,setAttributes:l,setChangedAttributes:n}=e,{columns:c,catOperator:a,contentVisibility:i,orderby:u,rows:h,alignButtons:p,stockStatus:E}=r;return(0,o.createElement)(d.InspectorControls,{key:"inspector"},(0,o.createElement)(m.PanelBody,{title:(0,g.__)("Product Category","woocommerce"),initialOpen:!r.categories.length&&!t},(0,o.createElement)(z,{selected:r.categories,onChange:(e=[])=>{const t={categories:e.map((({id:e})=>e))};l(t),n(t)},operator:a,onOperatorChange:(e="any")=>{const t={catOperator:e};l(t),n(t)},isCompact:!0})),(0,o.createElement)(m.PanelBody,{title:(0,g.__)("Layout","woocommerce"),initialOpen:!0},(0,o.createElement)(Q,{columns:c,rows:h,alignButtons:p,setAttributes:l,minColumns:(0,s.getSetting)("minColumns",1),maxColumns:(0,s.getSetting)("maxColumns",6),minRows:(0,s.getSetting)("minRows",1),maxRows:(0,s.getSetting)("maxRows",6)})),(0,o.createElement)(m.PanelBody,{title:(0,g.__)("Content","woocommerce"),initialOpen:!0},(0,o.createElement)(Y,{settings:i,onChange:e=>l({contentVisibility:e})})),(0,o.createElement)(m.PanelBody,{title:(0,g.__)("Order By","woocommerce"),initialOpen:!1},(0,o.createElement)(q,{setAttributes:l,value:u})),(0,o.createElement)(m.PanelBody,{title:(0,g.__)("Filter by stock status","woocommerce"),initialOpen:!1},(0,o.createElement)(ee,{setAttributes:l,value:E})))},re=e=>{const{debouncedSpeak:t,setIsEditing:r,changedAttributes:l,setChangedAttributes:a,attributes:s}=e,i={...s,...l},d=()=>{r(!1),a({})};return(0,o.createElement)(m.Placeholder,{icon:(0,o.createElement)(n.Z,{icon:c.Z}),label:(0,g.__)("Products by Category","woocommerce"),className:"wc-block-products-grid wc-block-products-category"},(0,g.__)("Display a grid of products from your selected categories.","woocommerce"),(0,o.createElement)("div",{className:"wc-block-products-category__selection"},(0,o.createElement)(z,{selected:i.categories,onChange:(e=[])=>{const t=e.map((({id:e})=>e));a({categories:t})},operator:i.catOperator,onOperatorChange:(e="any")=>a({catOperator:e})}),(0,o.createElement)(m.Button,{isPrimary:!0,onClick:()=>{(()=>{const{setAttributes:t}=e;t(l),d()})(),t((0,g.__)("Now displaying a preview of the reviews for the products in the selected categories.","woocommerce"))}},(0,g.__)("Done","woocommerce")),(0,o.createElement)(m.Button,{className:"wc-block-products-category__cancel-button",isTertiary:!0,onClick:()=>{d(),t((0,g.__)("Now displaying a preview of the reviews for the products in the selected categories.","woocommerce"))}},(0,g.__)("Cancel","woocommerce"))))},oe=(0,m.withSpokenMessages)((e=>{const t=(0,d.useBlockProps)(),{attributes:r}=e,[l,n]=(0,u.useState)(!r.categories.length),[c,a]=(0,u.useState)({});return(0,o.createElement)("div",{...t},(0,o.createElement)(d.BlockControls,null,(0,o.createElement)(m.ToolbarGroup,{controls:[{icon:"edit",title:(0,g.__)("Edit selected categories","woocommerce"),onClick:()=>n(!l),isActive:l}]})),(0,o.createElement)(te,{isEditing:l,setChangedAttributes:a,...e}),l?(0,o.createElement)(re,{isEditing:l,setIsEditing:n,changedAttributes:c,setChangedAttributes:a,...e}):(0,o.createElement)(m.Disabled,null,(0,o.createElement)(w,{...e})))}));(0,l.registerBlockType)(a,{icon:{src:(0,o.createElement)(n.Z,{icon:c.Z,className:"wc-block-editor-components-block-icon"})},attributes:{...a.attributes,...i},transforms:{from:[{type:"block",blocks:["woocommerce/product-best-sellers","woocommerce/product-category","woocommerce/product-new","woocommerce/product-on-sale","woocommerce/product-top-rated"].filter((e=>"woocommerce/product-category"!==e)),transform:e=>(0,l.createBlock)("woocommerce/product-category",{...e,editMode:!1})}]},edit:oe,save:()=>null})},1794:()=>{},3366:()=>{},8462:()=>{},5932:()=>{},9196:e=>{"use strict";e.exports=window.React},4333:e=>{"use strict";e.exports=window.wp.compose},9307:e=>{"use strict";e.exports=window.wp.element},5736:e=>{"use strict";e.exports=window.wp.i18n},444:e=>{"use strict";e.exports=window.wp.primitives}},r={};function o(e){var l=r[e];if(void 0!==l)return l.exports;var n=r[e]={exports:{}};return t[e].call(n.exports,n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,r,l,n)=>{if(!r){var c=1/0;for(d=0;d<e.length;d++){for(var[r,l,n]=e[d],a=!0,s=0;s<r.length;s++)(!1&n||c>=n)&&Object.keys(o.O).every((e=>o.O[e](r[s])))?r.splice(s--,1):(a=!1,n<c&&(c=n));if(a){e.splice(d--,1);var i=l();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,l,n]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=6297,(()=>{var e={6297:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var l,n,[c,a,s]=r,i=0;if(c.some((t=>0!==e[t]))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(s)var d=s(o)}for(t&&t(r);i<c.length;i++)n=c[i],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},r=self.webpackChunkwebpackWcBlocksJsonp=self.webpackChunkwebpackWcBlocksJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=o.O(void 0,[2869],(()=>o(5079)));l=o.O(l),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-category"]=l})();
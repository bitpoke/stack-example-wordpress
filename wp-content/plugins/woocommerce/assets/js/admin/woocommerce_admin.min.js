!function(s,l){s(function(){var e,i,r,n,t,o,c;function a(e){t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("is-open"),c=!1,s(document).off("click",a))}void 0!==l&&(e=(o=s(".edit-php.post-type-product")).find(".page-title-action:first"),0===o.find(".woocommerce-BlankState").length?(l.urls.add_product&&e.first().attr("href",l.urls.add_product),l.urls.export_products&&e.after('<a href="'+l.urls.export_products+'" class="page-title-action">'+l.strings.export_products+"</a>"),l.urls.import_products&&e.after('<a href="'+l.urls.import_products+'" class="page-title-action">'+l.strings.import_products+"</a>")):e.hide(),s(".woocommerce-progress-form-wrapper .button-next").on("click",function(){return s(".wc-progress-form-content").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),!0}),s(document.body).on("wc_add_error_tip",function(e,t,o){var i=t.position();0===t.parent().find(".wc_error_tip").length&&(t.after('<div class="wc_error_tip '+o+'">'+l[o]+"</div>"),t.parent().find(".wc_error_tip").css("left",i.left+t.width()-t.width()/2-s(".wc_error_tip").width()/2).css("top",i.top+t.height()).fadeIn("100"))}).on("wc_remove_error_tip",function(e,t,o){t.parent().find(".wc_error_tip."+o).fadeOut("100",function(){s(this).remove()})}).on("click",function(){s(".wc_error_tip").fadeOut("100",function(){s(this).remove()})}).on("blur",".wc_input_decimal[type=text], .wc_input_price[type=text], .wc_input_country_iso[type=text]",function(){s(".wc_error_tip").fadeOut("100",function(){s(this).remove()})}).on("change",".wc_input_price[type=text], .wc_input_decimal[type=text], .wc-order-totals #refund_amount[type=text], .wc_input_variations_price[type=text]",function(){var e,t=l.decimal_point,o=((s(this).is(".wc_input_price")||s(this).is(".wc_input_variations_price")||s(this).is("#refund_amount"))&&(t=l.mon_decimal_point),i=new RegExp("[^-0-9%\\"+t+"]+","gi"),e=new RegExp("\\"+t+"+","gi"),s(this).val()),i=o.replace(i,"").replace(e,t);o!==i&&s(this).val(i)}).on("keyup",".wc_input_price[type=text], .wc_input_decimal[type=text], .wc_input_country_iso[type=text], .wc-order-totals #refund_amount[type=text], .wc_input_variations_price[type=text]",function(){var e,t=!1,o=s(this).is(".wc_input_price")||s(this).is(".wc_input_variations_price")||s(this).is("#refund_amount")?(t=!0,r=new RegExp("[^-0-9%\\"+l.mon_decimal_point+"]+","gi"),e=new RegExp("[^\\"+l.mon_decimal_point+"]","gi"),"i18n_mon_decimal_error"):s(this).is(".wc_input_country_iso")?(r=new RegExp("([^A-Z])+|(.){3,}","im"),"i18n_country_iso_error"):(t=!0,r=new RegExp("[^-0-9%\\"+l.decimal_point+"]+","gi"),e=new RegExp("[^\\"+l.decimal_point+"]","gi"),"i18n_decimal_error"),i=s(this).val(),r=i.replace(r,"");i!==(r=t&&1<r.replace(e,"").length?r.replace(e,""):r)?s(document.body).triggerHandler("wc_add_error_tip",[s(this),o]):s(document.body).triggerHandler("wc_remove_error_tip",[s(this),o])}).on("change","#_sale_price.wc_input_price[type=text], .wc_input_price[name^=variable_sale_price]",function(){var e=s(this),t=-1!==e.attr("name").indexOf("variable")?e.parents(".variable_pricing").find(".wc_input_price[name^=variable_regular_price]"):s("#_regular_price"),e=parseFloat(window.accounting.unformat(e.val(),l.mon_decimal_point));parseFloat(window.accounting.unformat(t.val(),l.mon_decimal_point))<=e&&s(this).val("")}).on("keyup","#_sale_price.wc_input_price[type=text], .wc_input_price[name^=variable_sale_price]",function(){var e=s(this),t=-1!==e.attr("name").indexOf("variable")?e.parents(".variable_pricing").find(".wc_input_price[name^=variable_regular_price]"):s("#_regular_price"),e=parseFloat(window.accounting.unformat(e.val(),l.mon_decimal_point));parseFloat(window.accounting.unformat(t.val(),l.mon_decimal_point))<=e?s(document.body).triggerHandler("wc_add_error_tip",[s(this),"i18n_sale_less_than_regular_error"]):s(document.body).triggerHandler("wc_remove_error_tip",[s(this),"i18n_sale_less_than_regular_error"])}).on("init_tooltips",function(){s(".tips, .help_tip, .woocommerce-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200,keepAlive:!0}),s(".column-wc_actions .wc-action-button").tipTip({fadeIn:50,fadeOut:50,delay:200}),s(".parent-tips").each(function(){s(this).closest("a, th").attr("data-tip",s(this).data("tip")).tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200,keepAlive:!0}).css("cursor","help")})}).on("click",".wc-confirm-delete",function(e){window.confirm(l.i18n_confirm_delete)||e.stopPropagation()}),s(document.body).trigger("init_tooltips"),s(".wc_input_table.sortable tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(e,t){t.item.css("background-color","#f6f6f6")},stop:function(e,t){t.item.removeAttr("style")}}),s(".wc_input_table.sortable tbody input").on("click",function(){s(this).trigger("focus")}),s(".wc_input_table .remove_rows").on("click",function(){var e=s(this).closest(".wc_input_table").find("tbody");return 0<e.find("tr.current").length&&e.find("tr.current").each(function(){s(this).remove()}),!1}),n=r=i=!1,s(document.body).on("keyup keydown",function(e){r=e.shiftKey,i=e.ctrlKey||e.metaKey}),s(".wc_input_table").on("focus click","input",function(e){var t=s(this).closest("table, tbody"),o=s(this).closest("tr");("focus"===e.type&&n!==o.index()||"click"===e.type&&s(this).is(":focus"))&&(n=o.index(),r||i?r?(s("tr",t).removeClass("current"),o.addClass("selected_now").addClass("current"),0<s("tr.last_selected",t).length&&(o.index()>s("tr.last_selected",t).index()?s("tr",t).slice(s("tr.last_selected",t).index(),o.index()):s("tr",t).slice(o.index(),s("tr.last_selected",t).index()+1)).addClass("current"),s("tr",t).removeClass("last_selected"),o.addClass("last_selected")):(s("tr",t).removeClass("last_selected"),i&&s(this).closest("tr").is(".current")?o.removeClass("current"):o.addClass("current").addClass("last_selected")):(s("tr",t).removeClass("current").removeClass("last_selected"),o.addClass("current").addClass("last_selected")),s("tr",t).removeClass("selected_now"))}).on("blur","input",function(){n=!1}),s(".woocommerce_page_wc-settings .shippingrows tbody tr:even, table.attributes-table tbody tr:nth-child(odd)").addClass("alternate"),s(document.body).on("click",".show_order_items",function(){return s(this).closest("td").find("table").toggle(),!1}),s("select.availability").on("change",function(){"all"===s(this).val()?s(this).closest("tr").next("tr").hide():s(this).closest("tr").next("tr").show()}).trigger("change"),s(".hide_options_if_checked").each(function(){s(this).find("input:eq(0)").on("change",function(){s(this).is(":checked")?s(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").hide():s(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").show()}).trigger("change")}),s(".show_options_if_checked").each(function(){s(this).find("input:eq(0)").on("change",function(){s(this).is(":checked")?s(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").show():s(this).closest("fieldset, tr").nextUntil(".hide_options_if_checked, .show_options_if_checked",".hidden_option").hide()}).trigger("change")}),s("input#woocommerce_enable_reviews").on("change",function(){s(this).is(":checked")?s("#woocommerce_enable_review_rating").closest("tr").show():s("#woocommerce_enable_review_rating").closest("tr").hide()}).trigger("change"),s("table.attributes-table tbody tr:nth-child(odd)").addClass("alternate"),s(".wc_gateways").on("click",".wc-payment-gateway-method-toggle-enabled",function(){var t=s(this),e=t.closest("tr"),o=t.find(".woocommerce-input-toggle"),e={action:"woocommerce_toggle_gateway_enabled",security:l.nonces.gateway_toggle,gateway_id:e.data("gateway_id")};return o.addClass("woocommerce-input-toggle--loading"),s.ajax({url:l.ajax_url,data:e,dataType:"json",type:"POST",success:function(e){!0===e.data?(o.removeClass("woocommerce-input-toggle--enabled, woocommerce-input-toggle--disabled"),o.addClass("woocommerce-input-toggle--enabled"),o.removeClass("woocommerce-input-toggle--loading")):!1===e.data?(o.removeClass("woocommerce-input-toggle--enabled, woocommerce-input-toggle--disabled"),o.addClass("woocommerce-input-toggle--disabled"),o.removeClass("woocommerce-input-toggle--loading")):"needs_setup"===e.data&&(window.location.href=t.attr("href"))}}),!1}),s("#wpbody").on("click","#doaction, #doaction2",function(){if("remove_personal_data"===(s(this).is("#doaction")?s("#bulk-action-selector-top"):s("#bulk-action-selector-bottom")).val())return window.confirm(l.i18n_remove_personal_data_notice)}),t=s("#marketplace-current-section-dropdown"),o=s("#marketplace-current-section-name"),c=!1,t.length)&&("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?o.on("click",function(){(c=!c)?(t.addClass("is-open"),s(document).on("click",a)):(t.removeClass("is-open"),s(document).off("click",a))}):document.body.classList.add("no-touch"))}),s(function(){var o={init:function(){this.$lock_dialog=s(".woocommerce_page_wc-orders #post-lock-dialog.order-lock-dialog"),0!==this.$lock_dialog.length&&"undefined"!=typeof woocommerce_admin_meta_boxes&&(s(document).on("heartbeat-send",this.refresh_order_lock),s(document).on("heartbeat-tick",this.check_order_lock)),this.$list_table=s(".woocommerce_page_wc-orders table.wc-orders-list-table"),0!==this.$list_table.length&&(s(document).on("heartbeat-send",this.send_orders_in_list),s(document).on("heartbeat-tick",this.check_orders_in_list))},refresh_order_lock:function(e,t){t["wc-refresh-order-lock"]=woocommerce_admin_meta_boxes.post_id},check_order_lock:function(e,t){t=t["wc-refresh-order-lock"];t&&t.error&&(o.$lock_dialog.is(":visible")||(t.error.user_avatar_src&&o.$lock_dialog.find(".post-locked-avatar").empty().append(s("<img />",{"class":"avatar avatar-64 photo",width:64,height:64,alt:"",src:t.error.user_avatar_src,srcset:t.error.user_avatar_src_2x?t.error.user_avatar_src_2x+" 2x":undefined})),o.$lock_dialog.find(".currently-editing").text(t.error.message),o.$lock_dialog.show(),o.$lock_dialog.find(".wp-tab-first").trigger("focus")))},send_orders_in_list:function(e,t){t["wc-check-locked-orders"]=o.$list_table.find('tr input[name="order"]').map(function(){return this.value}).get()},check_orders_in_list:function(e,t){var i=t["wc-check-locked-orders"]||{};o.$list_table.find("tr").each(function(e,t){var t=s(t),o=t.find('input[name="order"]').val();i[o]?t.hasClass("wp-locked")||(t.find(".check-column checkbox").prop("checked",!1),t.addClass("wp-locked")):t.removeClass("wp-locked").find(".locked-info span").empty()})}};o.init()})}(jQuery,woocommerce_admin);
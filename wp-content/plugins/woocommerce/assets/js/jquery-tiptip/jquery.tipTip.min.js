!function(t){t.fn.tipTip=function(e){var o=t.extend({activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},e);if(t("#tiptip_holder").length<=0){var n=t('<div id="tiptip_holder" style="max-width:'+o.maxWidth+';"></div>'),i=t('<div id="tiptip_content"></div>'),r=t('<div id="tiptip_arrow"></div>');t("body").append(n.html(i).prepend(r.html('<div id="tiptip_arrow_inner"></div>')))}else n=t("#tiptip_holder"),i=t("#tiptip_content"),r=t("#tiptip_arrow");return this.each(function(){var e=t(this);if(o.content)var a=o.content;else a=DOMPurify.sanitize(e.attr(o.attribute),{ALLOWED_TAGS:["a","b","em","i","strong","p","br","pre","span","img"],ALLOWED_ATTR:["target","href","rel","name","download","title","src","alt","class","style"]});if(""!=a){o.content||e.removeAttr(o.attribute);var f=!1;function d(){var d="function"==typeof o.content?o.content():a;if(d){o.enter.call(this),i.html(d),n.hide().css("margin","0"),n.removeAttr("class"),r.removeAttr("style");var u=parseInt(e.offset().top),s=parseInt(e.offset().left),l=parseInt(e.outerWidth()),p=parseInt(e.outerHeight()),c=n.outerWidth(),h=n.outerHeight(),_=Math.round((l-c)/2),m=Math.round((p-h)/2),v=Math.round(s+_),g=Math.round(u+p+o.edgeOffset),b="",M="",O=Math.round(c-12)/2;"bottom"==o.defaultPosition?b="_bottom":"top"==o.defaultPosition?b="_top":"left"==o.defaultPosition?b="_left":"right"==o.defaultPosition&&(b="_right");var w=_+s<parseInt(t(window).scrollLeft()),A=c+s>parseInt(t(window).width());w&&_<0||"_right"==b&&!A||"_left"==b&&s<c+o.edgeOffset+5?(b="_right",M=Math.round(h-13)/2,O=-12,v=Math.round(s+l+o.edgeOffset),g=Math.round(u+m)):(A&&_<0||"_left"==b&&!w)&&(b="_left",M=Math.round(h-13)/2,O=Math.round(c),v=Math.round(s-(c+o.edgeOffset+5)),g=Math.round(u+m));var x=u+p+o.edgeOffset+h+8>parseInt(t(window).height()+t(window).scrollTop()),I=u+p-(o.edgeOffset+h+8)<0;x||"_bottom"==b&&x||"_top"==b&&!I?("_top"==b||"_bottom"==b?b="_top":b+="_top",M=h,g=Math.round(u-(h+5+o.edgeOffset))):(I|("_top"==b&&I)||"_bottom"==b&&!x)&&("_top"==b||"_bottom"==b?b="_bottom":b+="_bottom",M=-12,g=Math.round(u+p+o.edgeOffset)),"_right_top"==b||"_left_top"==b?g+=5:"_right_bottom"!=b&&"_left_bottom"!=b||(g-=5),"_left_top"!=b&&"_left_bottom"!=b||(v+=5),r.css({"margin-left":O+"px","margin-top":M+"px"}),n.css({"margin-left":v+"px","margin-top":g+"px"}).attr("class","tip"+b),f&&clearTimeout(f),f=setTimeout(function(){n.stop(!0,!0).fadeIn(o.fadeIn)},o.delay)}}function u(){o.exit.call(this),f&&clearTimeout(f),n.fadeOut(o.fadeOut)}"hover"==o.activation?(e.on("mouseenter",function(){d()}).on("mouseleave",function(){o.keepAlive&&n.is(":hover")||u()}),o.keepAlive&&n.on("mouseenter",function(){}).on("mouseleave",function(){u()})):"focus"==o.activation?e.on("focus",function(){d()}).on("blur",function(){u()}):"click"==o.activation&&(e.on("click",function(){return d(),!1}).on("mouseenter",function(){}).on("mouseleave",function(){o.keepAlive||u()}),o.keepAlive&&n.on("mouseenter",function(){}).on("mouseleave",function(){u()}))}})}}(jQuery);
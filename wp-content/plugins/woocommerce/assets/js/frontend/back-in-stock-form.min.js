!function(i,o){var t=function(o){this.$variationsForm=o,this.product_id=this.$variationsForm.data("product_id"),this.$formContainer=i('.wc_bis_form[data-bis-product-id="'+this.product_id+'"]'),this.$form=this.$formContainer.find("form"),this.$formProductInput=this.$formContainer.find('input[name="wc_bis_product_id"]'),this.$variationsForm.off(".wc-bis-form"),this.$variationsForm.on("found_variation.wc-bis-form",{bisForm:this},this.onFoundVariation),this.$variationsForm.on("show_variation.wc-bis-form",{bisForm:this},this.onShowVariation),this.$variationsForm.on("reset_data.wc-bis-form",{bisForm:this},this.onAnnounceReset),this.$form.off(".wc-bis-form"),this.$form.on("submit.wc-bis-form",{bisForm:this},this.onSendForm)};t.prototype.onFoundVariation=function(i,o){var t=i.data.bisForm;o.is_in_stock&&o.is_purchasable||o.variation_is_active&&o.variation_is_visible&&t.$formProductInput.val(o.variation_id).trigger("change")},t.prototype.onShowVariation=function(i,o){var t=i.data.bisForm;o.is_in_stock&&o.is_purchasable?t.$formContainer.addClass("hidden"):o.variation_is_active&&o.variation_is_visible?t.$formContainer.removeClass("hidden"):t.$formContainer.addClass("hidden")},t.prototype.onAnnounceReset=function(i){var o=i.data.bisForm;o.$formProductInput.val(o.product_id).trigger("change"),o.$formContainer.addClass("hidden")},t.prototype.onSendForm=function(o){var t=o.data.bisForm;if(t.$variationsForm.length){var n=t.$variationsForm.find(".variations select");n.length&&n.each(function(o,n){var r=i(n),a=i("<input/>");a.val(r.val()),a.prop("name",r.attr("name")),a.prop("type","hidden"),t.$form.find('input[name="'+a.prop("name")+'"]').length||t.$form.append(a)})}},i.fn.extend({wc_back_in_stock_form:function(){return this.each(function(){new t(i(this))})}}),i(function(){i(".variations_form").wc_back_in_stock_form()})}(jQuery,document);
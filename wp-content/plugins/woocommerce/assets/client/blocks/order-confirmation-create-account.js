(()=>{var e,t,r,o={700:(e,t,r)=>{"use strict";r.r(t);var o=r(1609);const n=window.wp.blocks;var a=r(7104),c=r(4777);const s=JSON.parse('{"name":"woocommerce/order-confirmation-create-account","version":"1.0.0","title":"Account Creation","description":"Allow customers to create an account after their purchase.","category":"woocommerce","keywords":["WooCommerce"],"attributes":{"customerEmail":{"type":"string","default":""},"nonceToken":{"type":"string","default":""},"align":{"type":"string","default":"wide"},"className":{"type":"string","default":""},"hasDarkControls":{"type":"boolean","default":false},"lock":{"type":"object","default":{"remove":true}}},"supports":{"multiple":false,"inserter":false,"html":false,"lock":false,"align":["wide","full"],"color":{"background":true,"text":true,"button":true},"spacing":{"padding":true,"margin":true,"__experimentalDefaultControls":{"margin":false,"padding":false}}},"textdomain":"woocommerce","apiVersion":3,"$schema":"https://schemas.wp.org/trunk/block.json"}');var l=r(7723),i=r(851);const m=window.wp.components,d=window.wp.blockEditor,u=window.wc.wcSettings;r(5055);const p={adminUrl:"",countries:[],currency:{code:"USD",precision:2,symbol:"$",symbolPosition:"left",decimalSeparator:".",priceFormat:"%1$s%2$s",thousandSeparator:","},currentUserId:0,currentUserIsAdmin:!1,homeUrl:"",locale:{siteLocale:"en_US",userLocale:"en_US",weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},orderStatuses:[],placeholderImgSrc:"",siteTitle:"",storePages:[],wcAssetUrl:"",wcVersion:"",wpLoginUrl:"",wpVersion:""},w="object"==typeof window.wcSettings?window.wcSettings:{},g={...p,...w};g.currency={...p.currency,...g.currency},g.locale={...p.locale,...g.locale},g.adminUrl,g.countries,g.currentUserIsAdmin,g.homeUrl,g.locale,g.orderStatuses,g.placeholderImgSrc;const f=g.siteTitle,h=(g.storePages,g.wcAssetUrl,g.wcVersion,g.wpLoginUrl,g.wpVersion,g.currency);h.code,h.symbol,h.thousandSeparator,h.decimalSeparator,h.precision,h.symbol,h.symbolPosition,h.symbol,h.symbolPosition;var b=r(6087),_=r(1777),E=r(4040),v=r.n(E);r(2080),r(7791);const y=()=>(0,o.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"}),k=(0,b.forwardRef)(((e,t)=>{"showSpinner"in e&&v()("showSpinner prop",{version:"8.9.0",alternative:"Render a spinner in the button children instead.",plugin:"WooCommerce"});const{className:r,showSpinner:n=!1,children:a,variant:c="contained",removeTextWrap:s=!1,...l}=e,m=(0,i.A)("wc-block-components-button","wp-element-button",r,c,{"wc-block-components-button--loading":n});if("href"in e)return(0,o.createElement)(_.$,{render:(0,o.createElement)("a",{ref:t,href:e.href},n&&(0,o.createElement)(y,null),(0,o.createElement)("span",{className:"wc-block-components-button__text"},a)),className:m,...l});const d=s?e.children:(0,o.createElement)("span",{className:"wc-block-components-button__text"},e.children);return(0,o.createElement)(_.$,{ref:t,className:m,...l},n&&(0,o.createElement)(y,null),d)}));var S=r(9491),O=r(3876);r(3091);const P=[(0,l.__)("Too weak","woocommerce"),(0,l.__)("Weak","woocommerce"),(0,l.__)("Medium","woocommerce"),(0,l.__)("Strong","woocommerce"),(0,l.__)("Very strong","woocommerce")],A=e=>void 0===window.zxcvbn?(0,O.Bi)(e,[{id:0,value:P[0],minDiversity:0,minLength:0},{id:1,value:P[1],minDiversity:1,minLength:4},{id:2,value:P[2],minDiversity:2,minLength:8},{id:3,value:P[3],minDiversity:4,minLength:12},{id:4,value:P[4],minDiversity:4,minLength:20}]).id:window.zxcvbn(e).score,C=({password:e="",onChange:t})=>{var r;const n=(0,S.useInstanceId)(C,"woocommerce-password-strength-meter");let a=-1;e.length>0&&(a=A(e));const c=function(e,t){const r=(0,b.useRef)();return(0,b.useEffect)((()=>{r.current===e||(r.current=e)}),[e,t]),r.current}(a);return(0,b.useEffect)((()=>{a!==c&&t&&t(a)}),[a,c,t]),(0,o.createElement)("div",{id:n,className:(0,i.A)("wc-block-components-password-strength",{hidden:-1===a})},(0,o.createElement)("label",{htmlFor:n+"-meter",className:"screen-reader-text"},(0,l.__)("Password strength","woocommerce")),(0,o.createElement)("meter",{id:n+"-meter",className:"wc-block-components-password-strength__meter",min:0,max:4,value:a>-1?a:0},null!==(r=P[a])&&void 0!==r?r:""),!!P[a]&&(0,o.createElement)("div",{id:n+"-result",className:"wc-block-components-password-strength__result"},(0,o.createElement)("span",{className:"screen-reader-text","aria-live":"polite"},(0,l.sprintf)(/* translators: %s: Password strength */ /* translators: %s: Password strength */
(0,l.__)("Password strength: %1$s (%2$d characters long)","woocommerce"),P[a],e.length))," ",(0,o.createElement)("span",{"aria-hidden":!0},P[a])))};var T,x,j,N,I,R,U,D,L,B;const M=(0,u.getSetting)("wcBlocksConfig",{pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),F=(M.pluginUrl,M.pluginUrl,null===(T=u.STORE_PAGES.shop)||void 0===T||T.permalink,null===(x=u.STORE_PAGES.checkout)||void 0===x||x.id,null===(j=u.STORE_PAGES.checkout)||void 0===j||j.permalink,null===(N=u.STORE_PAGES.privacy)||void 0===N?void 0:N.permalink),G=(null===(I=u.STORE_PAGES.privacy)||void 0===I||I.title,null===(R=u.STORE_PAGES.terms)||void 0===R?void 0:R.permalink),V=(null===(U=u.STORE_PAGES.terms)||void 0===U||U.title,null===(D=u.STORE_PAGES.cart)||void 0===D||D.id,null===(L=u.STORE_PAGES.cart)||void 0===L||L.permalink,null!==(B=u.STORE_PAGES.myaccount)&&void 0!==B&&B.permalink?u.STORE_PAGES.myaccount.permalink:(0,u.getSetting)("wpLoginUrl","/wp-login.php"),(0,u.getSetting)("localPickupEnabled",!1),(0,u.getSetting)("shippingMethodsExist",!1),(0,u.getSetting)("shippingEnabled",!0),(0,u.getSetting)("countries",{})),$=(0,u.getSetting)("countryData",{}),W=(Object.fromEntries(Object.keys($).filter((e=>!0===$[e].allowBilling)).map((e=>[e,V[e]||""]))),Object.fromEntries(Object.keys($).filter((e=>!0===$[e].allowBilling)).map((e=>[e,$[e].states||{}]))),Object.fromEntries(Object.keys($).filter((e=>!0===$[e].allowShipping)).map((e=>[e,V[e]||""]))),Object.fromEntries(Object.keys($).filter((e=>!0===$[e].allowShipping)).map((e=>[e,$[e].states||{}]))),Object.fromEntries(Object.keys($).map((e=>[e,$[e].locale||{}]))),{address:["first_name","last_name","company","address_1","address_2","city","postcode","country","state","phone"],contact:["email"],order:[]}),J=((0,u.getSetting)("addressFieldsLocations",W).address,(0,u.getSetting)("addressFieldsLocations",W).contact,(0,u.getSetting)("addressFieldsLocations",W).order,(0,u.getSetting)("additionalOrderFields",{}),(0,u.getSetting)("additionalContactFields",{}),(0,u.getSetting)("additionalAddressFields",{}),window.wc.blocksComponents),z=window.wp.data,q=window.wc.wcBlocksData,X=G?(0,o.createElement)("a",{href:G,target:"_blank",rel:"noreferrer"},(0,l.__)("Terms","woocommerce")):(0,o.createElement)("span",null,(0,l.__)("Terms","woocommerce")),H=F?(0,o.createElement)("a",{href:F,target:"_blank",rel:"noreferrer"},(0,l.__)("Privacy Policy","woocommerce")):(0,o.createElement)("span",null,(0,l.__)("Privacy Policy","woocommerce")),K=({isLoading:e,password:t,setPassword:r})=>(0,o.createElement)("div",null,(0,o.createElement)(J.ValidatedTextInput,{disabled:e,type:"password",label:(0,l.__)("Password","woocommerce"),className:"wc-block-components-address-form__password",value:t,required:!0,errorId:"account-password",customValidityMessage:e=>{if(e.valueMissing||e.badInput||e.typeMismatch)return(0,l.__)("Please enter a valid password","woocommerce")},customValidation:e=>!(A(e.value)<2&&(e.setCustomValidity((0,l.__)("Please create a stronger password","woocommerce")),1)),onChange:e=>r(e),feedback:(0,o.createElement)(C,{password:t})})),Q=({attributes:e,isEditor:t})=>{const[r,n]=(0,b.useState)(!1),[a,c]=(0,b.useState)(""),s=(0,z.useSelect)((e=>e(q.validationStore).getValidationError("account-password")),[]),m=(null==e?void 0:e.customerEmail)||(t?"customer@email.com":""),d=(null==e?void 0:e.nonceToken)||"",p=(0,u.getSetting)("registrationGeneratePassword",!1),w=!p&&!a;return m?(0,o.createElement)("form",{className:"wc-block-order-confirmation-create-account-form",id:"create-account",method:"POST",action:"#create-account",onSubmit:e=>{s?e.preventDefault():n(!0)}},!p&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("p",null,(0,b.createInterpolateElement)((0,l.__)("Set a password for <email/>","woocommerce"),{email:(0,o.createElement)("strong",null,m)})),(0,o.createElement)(K,{isLoading:r,password:a,setPassword:c})),(0,o.createElement)(k,{className:(0,i.A)("wc-block-order-confirmation-create-account-button",{"is-loading":r}),type:"submit",disabled:!!s||w||r},!!r&&(0,o.createElement)(J.Spinner,null),(0,o.createElement)("span",{className:"wc-block-order-confirmation-create-account-button-text"},(0,l.__)("Create account","woocommerce"))),(0,o.createElement)("input",{type:"hidden",name:"email",value:m}),(0,o.createElement)("input",{type:"hidden",name:"password",value:a}),(0,o.createElement)("input",{type:"hidden",name:"create-account",value:"1"}),(0,o.createElement)("input",{type:"hidden",name:"_wpnonce",value:d}),(0,o.createElement)("div",{className:"wc-block-order-confirmation-create-account-description"},(0,o.createElement)("p",null,p&&(0,o.createElement)(o.Fragment,null,(0,b.createInterpolateElement)((0,l.__)("Check your email at <email/> for the link to set up an account password.","woocommerce"),{email:(0,o.createElement)(o.Fragment,null,m)})," "),(0,b.createInterpolateElement)((0,l.__)("By creating an account you agree to our <terms/> and <privacy/>.","woocommerce"),{terms:X,privacy:H})))):null},Y=[["core/heading",{level:3,content:(0,l.sprintf)(/* translators: %s: site name */ /* translators: %s: site name */
(0,l.__)("Create an account with %s","woocommerce"),f)}],["core/list",{className:"is-style-checkmark-list"},[["core/list-item",{content:(0,l.__)("Faster future purchases","woocommerce")}],["core/list-item",{content:(0,l.__)("Securely save payment info","woocommerce")}],["core/list-item",{content:(0,l.__)("Track orders & view shopping history","woocommerce")}]]]];(0,n.registerBlockType)(s,{apiVersion:3,icon:{src:(0,o.createElement)(a.A,{icon:c.A,className:"wc-block-editor-components-block-icon"})},attributes:{...s.attributes},edit:({attributes:e,setAttributes:t})=>{const r=(0,i.A)("wc-block-order-confirmation-create-account",{"has-dark-controls":e.hasDarkControls}),n=(0,d.useBlockProps)({className:r});if(!(0,u.getSetting)("delayedAccountCreationEnabled",!0))return null;const a=(0,u.getSetting)("registrationGeneratePassword",!0);return(0,o.createElement)("div",{...n},(0,o.createElement)(d.InnerBlocks,{allowedBlocks:["core/heading","core/paragraph","core/list","core/list-item","core/image"],template:Y,templateLock:!1}),(0,o.createElement)(m.Disabled,null,(0,o.createElement)(Q,{isEditor:!0})),!a&&(0,o.createElement)(d.InspectorControls,null,(0,o.createElement)(m.PanelBody,{title:(0,l.__)("Style","woocommerce")},(0,o.createElement)(m.ToggleControl,{label:(0,l.__)("Dark mode inputs","woocommerce"),help:(0,l.__)("Inputs styled specifically for use on dark background colors.","woocommerce"),checked:e.hasDarkControls,onChange:()=>t({hasDarkControls:!e.hasDarkControls})}))),(0,o.createElement)(d.InspectorControls,null,(0,o.createElement)(m.PanelBody,null,(0,o.createElement)("p",null,(0,l.__)("Configure this feature in your store settings.","woocommerce")),(0,o.createElement)(m.ExternalLink,{href:`${u.ADMIN_URL}admin.php?page=wc-settings&tab=account`},(0,l.__)("Manage account settings","woocommerce")))))},save:()=>(0,o.createElement)("div",{...d.useBlockProps.save()},(0,o.createElement)(d.InnerBlocks.Content,null))})},2080:()=>{},3091:()=>{},5055:()=>{},7791:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},9491:e=>{"use strict";e.exports=window.wp.compose},4040:e=>{"use strict";e.exports=window.wp.deprecated},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},5573:e=>{"use strict";e.exports=window.wp.primitives}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e].call(r.exports,r,r.exports,a),r.exports}a.m=o,e=[],a.O=(t,r,o,n)=>{if(!r){var c=1/0;for(m=0;m<e.length;m++){for(var[r,o,n]=e[m],s=!0,l=0;l<r.length;l++)(!1&n||c>=n)&&Object.keys(a.O).every((e=>a.O[e](r[l])))?r.splice(l--,1):(s=!1,n<c&&(c=n));if(s){e.splice(m--,1);var i=o();void 0!==i&&(t=i)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[r,o,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var n=Object.create(null);a.r(n);var c={};t=t||[null,r({}),r([]),r(r)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,a.d(n,c),n},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=5932,(()=>{var e={5932:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var o,n,[c,s,l]=r,i=0;if(c.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var m=l(a)}for(t&&t(r);i<c.length;i++)n=c[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(m)},r=self.webpackChunkwebpackWcBlocksMainJsonp=self.webpackChunkwebpackWcBlocksMainJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var c=a.O(void 0,[94],(()=>a(700)));c=a.O(c),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["order-confirmation-create-account"]=c})();
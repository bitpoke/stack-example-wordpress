(()=>{var e,t,o,s={8084:(e,t,o)=>{"use strict";o.r(t),o.d(t,{settings:()=>gc});var s=o(4921);const r=window.wp.blockEditor,c=window.wp.blocks;var n=o(7723),i=o(6087);const a=window.wc.wcSettings,l=(0,a.getSetting)("wcBlocksConfig",{pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),d=l.pluginUrl+"assets/images/",m=(l.pluginUrl,a.STORE_PAGES.shop?.permalink),u=a.STORE_PAGES.checkout?.id,p=(a.STORE_PAGES.checkout,a.STORE_PAGES.privacy,a.STORE_PAGES.privacy,a.STORE_PAGES.terms,a.STORE_PAGES.terms,a.STORE_PAGES.cart?.id),h=a.STORE_PAGES.cart?.permalink,g=(a.STORE_PAGES.myaccount?.permalink?a.STORE_PAGES.myaccount.permalink:(0,a.getSetting)("wpLoginUrl","/wp-login.php"),(0,a.getSetting)("localPickupEnabled",!1)),_=((0,a.getSetting)("shippingMethodsExist",!1),(0,a.getSetting)("shippingEnabled",!0)),w=(0,a.getSetting)("countries",{}),k=(0,a.getSetting)("countryData",{}),b={...Object.fromEntries(Object.keys(k).filter((e=>!0===k[e].allowBilling)).map((e=>[e,w[e]||""]))),...Object.fromEntries(Object.keys(k).filter((e=>!0===k[e].allowShipping)).map((e=>[e,w[e]||""])))},y=(Object.fromEntries(Object.keys(b).map((e=>[e,k[e].states||{}]))),Object.fromEntries(Object.keys(b).map((e=>[e,k[e].locale||{}])))),x={address:["first_name","last_name","company","address_1","address_2","city","postcode","country","state","phone"],contact:["email"],order:[]},v=(0,a.getSetting)("addressFieldsLocations",x).address;(0,a.getSetting)("addressFieldsLocations",x).contact,(0,a.getSetting)("addressFieldsLocations",x).order,(0,a.getSetting)("additionalOrderFields",{}),(0,a.getSetting)("additionalContactFields",{}),(0,a.getSetting)("additionalAddressFields",{});var f=o(790);const S=({imageUrl:e=`${d}/block-error.svg`,header:t=(0,n.__)("Oops!","woocommerce"),text:o=(0,n.__)("There was an error loading the content.","woocommerce"),errorMessage:s,errorMessagePrefix:r=(0,n.__)("Error:","woocommerce"),button:c,showErrorBlock:i=!0})=>i?(0,f.jsxs)("div",{className:"wc-block-error wc-block-components-error",children:[e&&(0,f.jsx)("img",{className:"wc-block-error__image wc-block-components-error__image",src:e,alt:""}),(0,f.jsxs)("div",{className:"wc-block-error__content wc-block-components-error__content",children:[t&&(0,f.jsx)("p",{className:"wc-block-error__header wc-block-components-error__header",children:t}),o&&(0,f.jsx)("p",{className:"wc-block-error__text wc-block-components-error__text",children:o}),s&&(0,f.jsxs)("p",{className:"wc-block-error__message wc-block-components-error__message",children:[r?r+" ":"",s]}),c&&(0,f.jsx)("p",{className:"wc-block-error__button wc-block-components-error__button",children:c})]})]}):null;o(5893);class j extends i.Component{state={errorMessage:"",hasError:!1};static getDerivedStateFromError(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("strong",{children:e.status}),": ",e.statusText]}),hasError:!0}:{errorMessage:e.message,hasError:!0}}render(){const{header:e,imageUrl:t,showErrorMessage:o=!0,showErrorBlock:s=!0,text:r,errorMessagePrefix:c,renderError:n,button:i}=this.props,{errorMessage:a,hasError:l}=this.state;return l?"function"==typeof n?n({errorMessage:a}):(0,f.jsx)(S,{showErrorBlock:s,errorMessage:o?a:null,header:e,imageUrl:t,text:r,errorMessagePrefix:c,button:i}):this.props.children}}const C=j,E=window.wp.data,P=(0,i.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),N=()=>(0,i.useContext)(P),A=({children:e,currentPostId:t=0,previewData:o={},currentView:s="",isPreview:r=!1})=>{const c=(0,E.useSelect)((e=>t||e("core/editor").getCurrentPostId()),[t]),n=(0,i.useCallback)(((e,t={})=>o&&e in o?o[e]:t),[o]),a={isEditor:!0,currentPostId:c,currentView:s,previewData:o,getPreviewData:n,isPreview:r};return(0,f.jsx)(P.Provider,{value:a,children:e})},R=window.wp.plugins,I=window.wc.wcBlocksData;var T=o(4040),B=o.n(T);let D=function(e){return e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback",e}({});const M={},L=(e=M,{type:t,eventType:o,id:s,callback:r,priority:c})=>{const n=e.hasOwnProperty(o)?new Map(e[o]):new Map;switch(t){case D.ADD_EVENT_CALLBACK:return n.set(s,{priority:c,callback:r}),{...e,[o]:n};case D.REMOVE_EVENT_CALLBACK:return n.delete(s),{...e,[o]:n}}},O=(e,t)=>(o,s=10)=>{const r=((e,t,o=10)=>({id:Math.floor(Math.random()*Date.now()).toString(),type:D.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:o}))(e,o,s);return t(r),()=>{var o;t((o=e,{id:r.id,type:D.REMOVE_EVENT_CALLBACK,eventType:o}))}},F=(0,i.createContext)({onPaymentProcessing:()=>()=>()=>{},onPaymentSetup:()=>()=>()=>{}}),V=({children:e})=>{const{isProcessing:t,isIdle:o,isCalculating:s,hasError:r}=(0,E.useSelect)((e=>{const t=e(I.checkoutStore);return{isProcessing:t.isProcessing(),isIdle:t.isIdle(),hasError:t.hasError(),isCalculating:t.isCalculating()}})),{isPaymentReady:c}=(0,E.useSelect)((e=>{const t=e(I.paymentStore);return{isPaymentProcessing:t.isPaymentProcessing(),isPaymentReady:t.isPaymentReady()}})),{setValidationErrors:n}=(0,E.useDispatch)(I.validationStore),[a,l]=(0,i.useReducer)(L,{}),{onPaymentSetup:d}=(e=>(0,i.useMemo)((()=>({onPaymentSetup:O("payment_setup",e)})),[e]))(l),m=(0,i.useRef)(a);(0,i.useEffect)((()=>{m.current=a}),[a]);const{__internalSetPaymentProcessing:u,__internalSetPaymentIdle:p,__internalEmitPaymentProcessingEvent:h}=(0,E.useDispatch)(I.paymentStore);(0,i.useEffect)((()=>{!t||r||s||(u(),h(m.current,n))}),[t,r,s,u,h,n]),(0,i.useEffect)((()=>{o&&!c&&p()}),[o,c,p]),(0,i.useEffect)((()=>{r&&c&&p()}),[r,c,p]);const g={onPaymentProcessing:(0,i.useMemo)((()=>function(...e){return B()("onPaymentProcessing",{alternative:"onPaymentSetup",plugin:"WooCommerce Blocks"}),d(...e)}),[d]),onPaymentSetup:d};return(0,f.jsx)(F.Provider,{value:g,children:e})},z={NONE:"none",INVALID_ADDRESS:"invalid_address",UNKNOWN:"unknown_error"},H={INVALID_COUNTRY:"woocommerce_rest_cart_shipping_rates_invalid_country",MISSING_COUNTRY:"woocommerce_rest_cart_shipping_rates_missing_country",INVALID_STATE:"woocommerce_rest_cart_shipping_rates_invalid_state"},U={shippingErrorStatus:{isPristine:!0,isValid:!1,hasInvalidAddress:!1,hasError:!1},dispatchErrorStatus:e=>e,shippingErrorTypes:z,onShippingRateSuccess:()=>()=>{},onShippingRateFail:()=>()=>{},onShippingRateSelectSuccess:()=>()=>{},onShippingRateSelectFail:()=>()=>{}},W=(e,{type:t})=>Object.values(z).includes(t)?t:e,q="shipping_rates_success",$="shipping_rates_fail",Y="shipping_rate_select_success",X="shipping_rate_select_fail",G=e=>({onSuccess:O(q,e),onFail:O($,e),onSelectSuccess:O(Y,e),onSelectFail:O(X,e)}),J=window.wc.wcTypes;let K=function(e){return e.CART="wc/cart",e.CHECKOUT="wc/checkout",e.PAYMENTS="wc/checkout/payments",e.EXPRESS_PAYMENTS="wc/checkout/express-payments",e.CONTACT_INFORMATION="wc/checkout/contact-information",e.SHIPPING_ADDRESS="wc/checkout/shipping-address",e.BILLING_ADDRESS="wc/checkout/billing-address",e.SHIPPING_METHODS="wc/checkout/shipping-methods",e.CHECKOUT_ACTIONS="wc/checkout/checkout-actions",e.ORDER_INFORMATION="wc/checkout/order-information",e}({});const Q=async(e,t,o)=>{const s=((e,t)=>e[t]?Array.from(e[t].values()).sort(((e,t)=>e.priority-t.priority)):[])(e,t),r=[];for(const e of s)try{const t=await Promise.resolve(e.callback(o));"object"==typeof t&&r.push(t)}catch(e){console.error(e)}return!r.length||r};var Z=o(1824),ee=o.n(Z);const te=window.wp.htmlEntities,oe=Object.entries(y).reduce(((e,[t,o])=>(e[t]=Object.entries(o).reduce(((e,[t,o])=>(e[t]=(e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=(0,n.sprintf)(/* translators: %s Field label. */ /* translators: %s Field label. */
(0,n.__)("%s (optional)","woocommerce"),e.label)),void 0!==e.optionalLabel&&(t.optionalLabel=e.optionalLabel),e.index&&((0,J.isNumber)(e.index)&&(t.index=e.index),(0,J.isString)(e.index)&&(t.index=parseInt(e.index,10))),e.hidden&&(t.required=!1),t})(o),e)),{}),e)),{}),se=e=>{const t=((e,t,o="")=>{const s=o&&void 0!==oe[o]?oe[o]:{};return e.map((e=>({key:e,...t&&e in t?t[e]:{},...s&&e in s?s[e]:{}}))).sort(((e,t)=>e.index-t.index))})(v,a.defaultFields,e.country),o=Object.assign({},e);return t.forEach((({key:t,hidden:s})=>{!0===s&&((e,t)=>e in t)(t,e)&&(o[t]="")})),o},re=window.CustomEvent||null,ce=(e,t,o=!1,s=!1)=>{if("function"!=typeof jQuery)return()=>{};const r=()=>{((e,{bubbles:t=!1,cancelable:o=!1,element:s,detail:r={}})=>{if(!re)return;s||(s=document.body);const c=new re(e,{bubbles:t,cancelable:o,detail:r});s.dispatchEvent(c)})(t,{bubbles:o,cancelable:s})};return jQuery(document).on(e,r),()=>jQuery(document).off(e,r)},ne=e=>{const t=e?.detail;t&&t.preserveCartData||(0,E.dispatch)(I.cartStore).invalidateResolutionForStore()},ie=e=>{(e?.persisted||"back_forward"===(window.performance&&window.performance.getEntriesByType("navigation").length?window.performance.getEntriesByType("navigation")[0].type:""))&&(0,E.dispatch)(I.cartStore).invalidateResolutionForStore()},ae=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},le={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},de={...le,email:""},me={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:I.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},ue=e=>Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(0,te.decodeEntities)(t)]))),pe=(e,t)=>{const o=se(ue(e));return ee()(t.current,o)||(t.current=o),t.current},he={billingAddress:de,billingData:de,cartCoupons:I.EMPTY_CART_COUPONS,cartErrors:I.EMPTY_CART_ERRORS,cartFees:I.EMPTY_CART_FEES,cartHasCalculatedShipping:!1,cartIsLoading:!0,cartItemErrors:I.EMPTY_CART_ITEM_ERRORS,cartItems:I.EMPTY_CART_ITEMS,cartItemsCount:0,cartItemsWeight:0,cartNeedsPayment:!0,cartNeedsShipping:!0,cartTotals:me,crossSellsProducts:I.EMPTY_CART_CROSS_SELLS,extensions:I.EMPTY_EXTENSIONS,hasPendingItemsOperations:!1,isLoadingRates:!1,paymentMethods:I.EMPTY_PAYMENT_METHODS,paymentRequirements:I.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},receiveCartContents:()=>{},shippingAddress:le,shippingRates:I.EMPTY_SHIPPING_RATES},ge=(e={shouldSelect:!0})=>{const{shouldSelect:t}=e,o=(0,i.useRef)(),s=(0,i.useRef)(de),r=(0,i.useRef)(le);(0,i.useEffect)((()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),window.wcBlocksStoreCartListeners?.count>0)return void window.wcBlocksStoreCartListeners.count++;document.body.addEventListener("wc-blocks_added_to_cart",ne),document.body.addEventListener("wc-blocks_removed_from_cart",ne),window.addEventListener("pageshow",ie);const e=ce("added_to_cart","wc-blocks_added_to_cart"),t=ce("removed_from_cart","wc-blocks_removed_from_cart");window.wcBlocksStoreCartListeners.count=1,window.wcBlocksStoreCartListeners.remove=()=>{document.body.removeEventListener("wc-blocks_added_to_cart",ne),document.body.removeEventListener("wc-blocks_removed_from_cart",ne),window.removeEventListener("pageshow",ie),e(),t()}})(),ae)),[]);const{receiveCart:c,receiveCartContents:n}=(0,E.useDispatch)(I.cartStore),{cartData:a,cartErrors:l,cartTotals:d,cartIsLoading:m,isLoadingRates:u,hasPendingItemsOperations:p}=(0,E.useSelect)((e=>{const t=e(I.cartStore),o=!t.hasFinishedResolution("getCartData",[]);return{cartData:t.getCartData(),cartErrors:t.getCartErrors(),cartTotals:t.getCartTotals(),cartIsLoading:o,isLoadingRates:t.isAddressFieldsForShippingRatesUpdating(),hasPendingItemsOperations:t.hasPendingItemsOperations()}}),[]);if(!t)return he;const h=pe(a.billingAddress,s),g=a.needsShipping?pe(a.shippingAddress,r):h,_={billingAddress:h,billingData:h,cartCoupons:(b=a.coupons,b.length>0?b.map((e=>({...e,label:(0,te.decodeEntities)(e.code)}))):I.EMPTY_CART_COUPONS),cartErrors:l,cartFees:(k=a.fees,k.length>0?k.map((e=>ue(e))):I.EMPTY_CART_FEES),cartHasCalculatedShipping:a.hasCalculatedShipping,cartIsLoading:m,cartItemErrors:a.errors,cartItems:a.items,cartItemsCount:a.itemsCount,cartItemsWeight:a.itemsWeight,cartNeedsPayment:a.needsPayment,cartNeedsShipping:a.needsShipping,cartTotals:d,crossSellsProducts:a.crossSells,extensions:a.extensions,hasPendingItemsOperations:p,isLoadingRates:u,paymentMethods:a.paymentMethods,paymentRequirements:a.paymentRequirements,receiveCart:c,receiveCartContents:n,shippingAddress:g,shippingRates:(w=a.shippingRates,w.length>0?w.map((e=>({...e,shipping_rates:e.shipping_rates.length>0?e.shipping_rates.map((e=>ue(e))):[]}))):[])};var w,k,b;return o.current&&ee()(o.current,_)||(o.current=_),o.current},_e=(0,a.getSetting)("collectableMethodIds",[]),we=e=>!!g&&(Array.isArray(e)?!!e.find((e=>_e.includes(e))):_e.includes(e)),ke=e=>!!(e=>e.some((e=>!!e.shipping_rates.length)))(e)&&e.some((e=>e.shipping_rates.some((e=>e.selected)))),be=e=>Array.from(new Set(e.flatMap((e=>e.shipping_rates.filter((e=>e.selected)).map((e=>e.name))))));var ye=o(923),xe=o.n(ye);const ve=window.wp.hooks,fe=()=>({dispatchStoreEvent:(0,i.useCallback)(((e,t={})=>{try{(0,ve.doAction)(`experimental__woocommerce_blocks-${e}`,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:(0,i.useCallback)(((e,t={})=>{try{(0,ve.doAction)(`experimental__woocommerce_blocks-checkout-${e}`,{...t,storeCart:(0,E.select)("wc/store/cart").getCartData()})}catch(e){console.error(e)}}),[])}),Se=()=>{const{shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:s,isCollectable:r,isSelectingRate:c}=(0,E.useSelect)((e=>{const t=e(I.cartStore),o=t.getShippingRates();return{shippingRates:o,needsShipping:t.getNeedsShipping(),hasCalculatedShipping:t.getHasCalculatedShipping(),isLoadingRates:t.isAddressFieldsForShippingRatesUpdating(),isCollectable:o.every((({shipping_rates:e})=>e.find((({method_id:e})=>we(e))))),isSelectingRate:t.isShippingRateBeingSelected()}}),[]),n=(0,i.useRef)({});(0,i.useEffect)((()=>{const t=(e=>Object.fromEntries(e.map((({package_id:e,shipping_rates:t})=>[e,t.find((e=>e.selected))?.rate_id||""]))))(e);(0,J.isObject)(t)&&!xe()(n.current,t)&&(n.current=t)}),[e]);const{selectShippingRate:a}=(0,E.useDispatch)(I.cartStore),l=we(Object.values(n.current).map((e=>e.split(":")[0]))),{dispatchCheckoutEvent:d}=fe(),m=(0,i.useCallback)(((e,t)=>{let o;void 0!==e&&(o=we(e.split(":")[0])?a(e,null):a(e,t),o.then((()=>{d("set-selected-shipping-rate",{shippingRateId:e})})).catch((e=>{(0,I.processErrorResponse)(e)})))}),[a,d]);return{isSelectingRate:c,selectedRates:n.current,selectShippingRate:m,shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:s,isCollectable:r,hasSelectedLocalPickup:l}},{NONE:je,INVALID_ADDRESS:Ce,UNKNOWN:Ee}=z,Pe=(0,i.createContext)(U),Ne=()=>(0,i.useContext)(Pe),Ae=({children:e})=>{const{__internalStartCalculation:t,__internalFinishCalculation:o}=(0,E.useDispatch)(I.checkoutStore),{shippingRates:s,isLoadingRates:r,cartErrors:c}=ge(),{selectedRates:n,isSelectingRate:a}=Se(),[l,d]=(0,i.useReducer)(W,je),[m,u]=(0,i.useReducer)(L,{}),p=(0,i.useRef)(m),h=(0,i.useMemo)((()=>({onShippingRateSuccess:G(u).onSuccess,onShippingRateFail:G(u).onFail,onShippingRateSelectSuccess:G(u).onSelectSuccess,onShippingRateSelectFail:G(u).onSelectFail})),[u]);(0,i.useEffect)((()=>{p.current=m}),[m]),(0,i.useEffect)((()=>{r?t():o()}),[r,t,o]),(0,i.useEffect)((()=>{a?t():o()}),[t,o,a]),(0,i.useEffect)((()=>{c.length>0&&c.some((e=>!(!e.code||!Object.values(H).includes(e.code))))?d({type:Ce}):d({type:je})}),[c]);const g=(0,i.useMemo)((()=>({isPristine:l===je,isValid:l===je,hasInvalidAddress:l===Ce,hasError:l===Ee||l===Ce})),[l]);(0,i.useEffect)((()=>{r||0!==s.length&&!g.hasError||Q(p.current,$,{hasInvalidAddress:g.hasInvalidAddress,hasError:g.hasError})}),[s,r,g.hasError,g.hasInvalidAddress]),(0,i.useEffect)((()=>{!r&&s.length>0&&!g.hasError&&Q(p.current,q,s)}),[s,r,g.hasError]),(0,i.useEffect)((()=>{a||(g.hasError?Q(p.current,X,{hasError:g.hasError,hasInvalidAddress:g.hasInvalidAddress}):Q(p.current,Y,n.current))}),[n,a,g.hasError,g.hasInvalidAddress]);const _={shippingErrorStatus:g,dispatchErrorStatus:d,shippingErrorTypes:z,...h};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(Pe.Provider,{value:_,children:e})})};function Re(e,t){const o=(0,i.useRef)();return(0,i.useEffect)((()=>{o.current===e||t&&!t(e,o.current)||(o.current=e)}),[e,t]),o.current}const Ie=window.wp.notices,Te=window.wc.blocksCheckoutEvents,Be=window.wc.wcBlocksRegistry,De=(0,i.createContext)({onSubmit:()=>{},onCheckoutAfterProcessingWithSuccess:()=>()=>{},onCheckoutAfterProcessingWithError:()=>()=>{},onCheckoutBeforeProcessing:()=>()=>{},onCheckoutValidationBeforeProcessing:()=>()=>{},onCheckoutSuccess:()=>()=>{},onCheckoutFail:()=>()=>{},onCheckoutValidation:()=>()=>{}}),Me=({children:e,redirectUrl:t})=>{const o=(0,Be.getPaymentMethods)(),s=(0,Be.getExpressPaymentMethods)(),r=(0,Be.getExpressPaymentMethods)(),{isEditor:c}=N(),{__internalUpdateAvailablePaymentMethods:n,__internalSetRegisteredExpressPaymentMethods:a}=(0,E.useDispatch)(I.paymentStore);(0,i.useEffect)((()=>{a((e=>{const t={};return Object.keys(e).forEach((o=>{const s=e[o];t[o]={name:s.name,title:s.title,description:s.description,gatewayId:s.gatewayId,supportsStyle:s.supports?.style||[]}})),t})(r))}),[r]),(0,i.useEffect)((()=>{(c||0!==Object.keys(o).length||0!==Object.keys(s).length)&&n()}),[c,o,s,n]);const{__internalSetRedirectUrl:l,__internalEmitValidateEvent:d,__internalEmitAfterProcessingEvents:m,__internalSetBeforeProcessing:u}=(0,E.useDispatch)(I.checkoutStore),{checkoutRedirectUrl:p,checkoutStatus:h,isCheckoutBeforeProcessing:g,isCheckoutAfterProcessing:_,checkoutHasError:w,checkoutOrderId:k,checkoutOrderNotes:b,checkoutCustomerId:y}=(0,E.useSelect)((e=>{const t=e(I.checkoutStore);return{checkoutRedirectUrl:t.getRedirectUrl(),checkoutStatus:t.getCheckoutStatus(),isCheckoutBeforeProcessing:t.isBeforeProcessing(),isCheckoutAfterProcessing:t.isAfterProcessing(),checkoutHasError:t.hasError(),checkoutOrderId:t.getOrderId(),checkoutOrderNotes:t.getOrderNotes(),checkoutCustomerId:t.getCustomerId()}}));t&&t!==p&&l(t);const{setValidationErrors:x}=(0,E.useDispatch)(I.validationStore),{dispatchCheckoutEvent:v}=fe(),S=Object.values(K).filter((e=>e!==K.PAYMENTS&&e!==K.EXPRESS_PAYMENTS)),j=(0,E.useSelect)((e=>{const{getNotices:t}=e(Ie.store);return S.reduce(((e,o)=>[...e,...t(o)]),[])}),[S]),{paymentNotices:C,expressPaymentNotices:P}=(0,E.useSelect)((e=>{const{getNotices:t}=e(Ie.store);return{paymentNotices:t(K.PAYMENTS),expressPaymentNotices:t(K.EXPRESS_PAYMENTS)}}),[]),[A]=(0,i.useReducer)(L,{}),R=(0,i.useRef)(A),{onCheckoutValidation:T,onCheckoutSuccess:D,onCheckoutFail:M}=Te.checkoutEvents;(0,i.useEffect)((()=>{R.current=A}),[A]);const O=(0,i.useMemo)((()=>function(...e){return B()("onCheckoutBeforeProcessing",{alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks"}),T(...e)}),[T]),F=(0,i.useMemo)((()=>function(...e){return B()("onCheckoutValidationBeforeProcessing",{since:"9.7.0",alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),T(...e)}),[T]),V=(0,i.useMemo)((()=>function(...e){return B()("onCheckoutAfterProcessingWithSuccess",{since:"9.7.0",alternative:"onCheckoutSuccess",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),D(...e)}),[D]),z=(0,i.useMemo)((()=>function(...e){return B()("onCheckoutAfterProcessingWithError",{since:"9.7.0",alternative:"onCheckoutFail",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),M(...e)}),[M]);(0,i.useEffect)((()=>{g&&d({setValidationErrors:x})}),[g,x,d]);const H=Re(h),U=Re(w);(0,i.useEffect)((()=>{h===H&&w===U||_&&m({notices:{checkoutNotices:j,paymentNotices:C,expressPaymentNotices:P}})}),[h,w,p,k,y,b,_,g,H,U,j,P,C,d,m]);const W={onSubmit:(0,i.useCallback)((()=>{v("submit"),u()}),[v,u]),onCheckoutBeforeProcessing:O,onCheckoutValidationBeforeProcessing:F,onCheckoutAfterProcessingWithSuccess:V,onCheckoutAfterProcessingWithError:z,onCheckoutSuccess:D,onCheckoutFail:M,onCheckoutValidation:T};return(0,f.jsx)(De.Provider,{value:W,children:e})},Le=window.wp.apiFetch;var Oe=o.n(Le);(0,n.__)("Something went wrong. Please contact us to get assistance.","woocommerce");const Fe=(e,t,o)=>{const s=Object.keys(e).map((t=>({key:t,value:e[t]})),[]),r=`wc-${o}-new-payment-method`;return s.push({key:r,value:t}),s},Ve=e=>{if(!e)return;const{__internalSetCustomerId:t}=(0,E.dispatch)(I.checkoutStore);Oe().setNonce&&"function"==typeof Oe().setNonce&&Oe().setNonce(e),Oe().setCartHash&&"function"==typeof Oe().setCartHash&&Oe().setCartHash(e),e?.get("User-ID")&&t(parseInt(e.get("User-ID")||"0",10))},ze=()=>{const{onCheckoutValidation:e}=Te.checkoutEvents,{additionalFields:t,customerId:o,customerPassword:s,extensionData:r,hasError:c,isBeforeProcessing:l,isComplete:d,isProcessing:m,orderNotes:u,redirectUrl:p,shouldCreateAccount:h}=(0,E.useSelect)((e=>{const t=e(I.checkoutStore);return{additionalFields:t.getAdditionalFields(),customerId:t.getCustomerId(),customerPassword:t.getCustomerPassword(),extensionData:t.getExtensionData(),hasError:t.hasError(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),isProcessing:t.isProcessing(),orderNotes:t.getOrderNotes(),redirectUrl:t.getRedirectUrl(),shouldCreateAccount:t.getShouldCreateAccount()}}),[]),{__internalSetHasError:g,__internalProcessCheckoutResponse:_}=(0,E.useDispatch)(I.checkoutStore),w=(0,E.useSelect)((e=>e(I.validationStore).hasValidationErrors),[]),{shippingErrorStatus:k}=Ne(),{shippingAddress:b,billingAddress:y,useBillingAsShipping:x}=(()=>{const{isEditor:e,getPreviewData:t}=N(),{needsShipping:o}=Se(),{useShippingAsBilling:s,prefersCollection:r,editingBillingAddress:c,editingShippingAddress:n}=(0,E.useSelect)((e=>({useShippingAsBilling:e(I.checkoutStore).getUseShippingAsBilling(),prefersCollection:e(I.checkoutStore).prefersCollection(),editingBillingAddress:e(I.checkoutStore).getEditingBillingAddress(),editingShippingAddress:e(I.checkoutStore).getEditingShippingAddress()}))),{__internalSetUseShippingAsBilling:l,setEditingBillingAddress:d,setEditingShippingAddress:m}=(0,E.useDispatch)(I.checkoutStore),{billingAddress:u,setBillingAddress:p,shippingAddress:h,setShippingAddress:g}=(()=>{const{customerData:e,isInitialized:t}=(0,E.useSelect)((e=>{const t=e(I.cartStore);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}})),{setShippingAddress:o,setBillingAddress:s}=(0,E.useDispatch)(I.cartStore);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:s,setShippingAddress:o}})(),_=(0,i.useCallback)((e=>{p({email:e})}),[p]),w=(0,a.getSetting)("forcedBillingAddress",!1);return{shippingAddress:h,billingAddress:u,setShippingAddress:g,setBillingAddress:p,setEmail:_,defaultFields:e?t("defaultFields",a.defaultFields):a.defaultFields,useShippingAsBilling:s,setUseShippingAsBilling:l,editingBillingAddress:c,editingShippingAddress:n,setEditingBillingAddress:d,setEditingShippingAddress:m,needsShipping:o,showShippingFields:!w&&o&&!r,showShippingMethods:o&&!r,showBillingFields:!o||!s||!!r,forcedBillingAddress:w,useBillingAsShipping:w||!!r}})(),{cartNeedsPayment:v,cartNeedsShipping:f,receiveCartContents:S}=ge(),{activePaymentMethod:j,paymentMethodData:C,isExpressPaymentMethodActive:P,hasPaymentError:A,isPaymentReady:R,shouldSavePayment:T}=(0,E.useSelect)((e=>{const t=e(I.paymentStore);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive(),hasPaymentError:t.hasPaymentError(),isPaymentReady:t.isPaymentReady(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),[]),B=(0,Be.getPaymentMethods)(),D=(0,Be.getExpressPaymentMethods)(),M=(0,i.useRef)(y),L=(0,i.useRef)(b),O=(0,i.useRef)(p),[F,V]=(0,i.useState)(!1),z=(0,i.useMemo)((()=>{const e={...D,...B};return e?.[j]?.paymentMethodId}),[j,D,B]),H=w()&&!P||A||k.hasError,U=!c&&!H&&(R||!v)&&m;(0,i.useEffect)((()=>{H===c||!m&&!l||P||g(H)}),[H,c,m,l,P,g]),(0,i.useEffect)((()=>{M.current=y,L.current=b,O.current=p}),[y,b,p]);const W=(0,i.useCallback)((()=>w()?void 0!==(0,E.select)(I.validationStore).getValidationError("shipping-rates-error")&&{type:J.responseTypes.ERROR,errorMessage:(0,n.__)("Sorry, this order requires a shipping option.","woocommerce")}:A?{type:J.responseTypes.ERROR,errorMessage:(0,n.__)("There was a problem with your payment option.","woocommerce"),context:"wc/checkout/payments"}:!k.hasError||{type:J.responseTypes.ERROR,errorMessage:(0,n.__)("There was a problem with your shipping option.","woocommerce"),context:"wc/checkout/shipping-methods"}),[w,A,k.hasError]);(0,i.useEffect)((()=>{let t;return P||(t=e(W,0)),()=>{P||"function"!=typeof t||t()}}),[e,W,P]),(0,i.useEffect)((()=>{window.localStorage.removeItem("WOOCOMMERCE_CHECKOUT_IS_CUSTOMER_DATA_DIRTY"),O.current&&(window.location.href=O.current)}),[d]);const q=(0,i.useCallback)((async()=>{if(F)return;V(!0),(()=>{const e=(0,E.select)("wc/store/store-notices").getRegisteredContainers(),{removeNotice:t}=(0,E.dispatch)(Ie.store),{getNotices:o}=(0,E.select)(Ie.store);e.forEach((e=>{o(e).forEach((o=>{t(o.id,e)}))}))})();const e=v?{payment_method:z,payment_data:Fe(C,T,j)}:{},c=se(M.current),i=x?c:se(L.current),a={additional_fields:t,billing_address:c,create_account:h,customer_note:u,customer_password:s,extensions:{...r},shipping_address:f?i:void 0,...e};(0,I.clearCheckoutPutRequests)(),Oe()({path:"/wc/store/v1/checkout",method:"POST",data:a,cache:"no-store",parse:!1}).then((e=>{if((0,J.assertResponseIsValid)(e),Ve(e.headers),!e.ok)throw e;return e.json()})).then((e=>{_(e),V(!1)})).catch((e=>{Ve(e?.headers);try{e.json().then((e=>e)).then((e=>{e.data?.cart&&S(e.data.cart),(0,I.processErrorResponse)(e),_(e)}))}catch{let e=(0,n.__)("Something went wrong when placing the order. Check your email for order updates before retrying.","woocommerce");0!==o&&(e=(0,n.__)("Something went wrong when placing the order. Check your account's order history or your email for order updates before retrying.","woocommerce")),(0,I.processErrorResponse)({code:"unknown_error",message:e,data:null})}g(!0),V(!1)}))}),[F,v,z,C,T,j,u,h,o,s,r,t,f,S,g,_,x]);return(0,i.useEffect)((()=>{U&&!F&&q()}),[q,U,F]),null},He=({children:e,redirectUrl:t})=>(0,f.jsx)(Me,{redirectUrl:t,children:(0,f.jsx)(Ae,{children:(0,f.jsxs)(V,{children:[e,(0,f.jsx)(C,{renderError:a.CURRENT_USER_IS_ADMIN?null:()=>null,children:(0,f.jsx)(R.PluginArea,{scope:"woocommerce-checkout"})}),(0,f.jsx)(ze,{})]})})}),Ue=({children:e,redirectUrl:t})=>(0,f.jsx)(He,{redirectUrl:t,children:e}),We={currency_code:a.SITE_CURRENCY.code,currency_symbol:a.SITE_CURRENCY.symbol,currency_minor_unit:a.SITE_CURRENCY.minorUnit,currency_decimal_separator:a.SITE_CURRENCY.decimalSeparator,currency_thousand_separator:a.SITE_CURRENCY.thousandSeparator,currency_prefix:a.SITE_CURRENCY.prefix,currency_suffix:a.SITE_CURRENCY.suffix},qe=(e,t=2)=>{const o=a.SITE_CURRENCY.minorUnit;if(o===t||!e)return e;const s=Math.pow(10,o);return(Math.round(parseInt(e,10)/Math.pow(10,t))*s).toString()},$e=(0,a.getSetting)("localPickupEnabled",!1),Ye=(0,a.getSetting)("localPickupText",(0,n.__)("Local pickup","woocommerce")),Xe=(0,a.getSetting)("localPickupCost",""),Ge=$e?(0,a.getSetting)("localPickupLocations",[]):[],Je=Ge?Object.values(Ge).map(((e,t)=>({...We,name:`${Ye} (${e.name})`,description:"",delivery_time:"",price:qe(Xe,0)||"0",taxes:"0",rate_id:`pickup_location:${t+1}`,instance_id:t+1,meta_data:[{key:"pickup_location",value:e.name},{key:"pickup_address",value:e.formatted_address},{key:"pickup_details",value:e.details}],method_id:"pickup_location",selected:!1}))):[],Ke=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:(0,n.__)("Shipping","woocommerce"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:(0,n._x)("Beanie with Logo","example product in Cart Block","woocommerce"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:(0,n._x)("Beanie","example product in Cart Block","woocommerce"),quantity:1}],shipping_rates:[{...We,name:(0,n.__)("Flat rate shipping","woocommerce"),description:"",delivery_time:"",price:qe("500"),taxes:"0",rate_id:"flat_rate:0",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!1},{...We,name:(0,n.__)("Free shipping","woocommerce"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},...Je]}],Qe=(0,a.getSetting)("displayCartPricesIncludingTax",!1),Ze={coupons:[],shipping_rates:(0,a.getSetting)("shippingMethodsExist",!1)||(0,a.getSetting)("localPickupEnabled",!1)?Ke:[],items:[{key:"1",id:1,type:"simple",quantity:2,catalog_visibility:"visible",name:(0,n.__)("Beanie","woocommerce"),summary:(0,n.__)("Beanie","woocommerce"),short_description:(0,n.__)("Warm hat for winter","woocommerce"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:10,src:d+"previews/beanie.jpg",thumbnail:d+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,n.__)("Color","woocommerce"),value:(0,n.__)("Yellow","woocommerce")},{attribute:(0,n.__)("Size","woocommerce"),value:(0,n.__)("Small","woocommerce")}],prices:{...We,price:qe(Qe?"12000":"10000"),regular_price:qe(Qe?"120":"100"),sale_price:qe(Qe?"12000":"10000"),price_range:null,raw_prices:{precision:6,price:Qe?"12000000":"10000000",regular_price:Qe?"12000000":"10000000",sale_price:Qe?"12000000":"10000000"}},totals:{...We,line_subtotal:qe("2000"),line_subtotal_tax:qe("400"),line_total:qe("2000"),line_total_tax:qe("400")},extensions:{},item_data:[]},{key:"2",id:2,type:"simple",quantity:1,catalog_visibility:"visible",name:(0,n.__)("Cap","woocommerce"),summary:(0,n.__)("Cap","woocommerce"),short_description:(0,n.__)("Lightweight baseball cap","woocommerce"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",low_stock_remaining:null,permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:11,src:d+"previews/cap.jpg",thumbnail:d+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,n.__)("Color","woocommerce"),value:(0,n.__)("Orange","woocommerce")}],prices:{...We,price:qe(Qe?"2400":"2000"),regular_price:qe(Qe?"2400":"2000"),sale_price:qe(Qe?"2400":"2000"),price_range:null,raw_prices:{precision:6,price:Qe?"24000000":"20000000",regular_price:Qe?"24000000":"20000000",sale_price:Qe?"24000000":"20000000"}},totals:{...We,line_subtotal:qe("2000"),line_subtotal_tax:qe("400"),line_total:qe("2000"),line_total_tax:qe("400")},extensions:{},item_data:[]}],cross_sells:[{id:1,name:(0,n.__)("Polo","woocommerce"),slug:"polo",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-polo",short_description:(0,n.__)("Polo","woocommerce"),description:(0,n.__)("Polo","woocommerce"),on_sale:!1,prices:{...We,price:qe(Qe?"24000":"20000"),regular_price:qe(Qe?"24000":"20000"),sale_price:qe(Qe?"12000":"10000"),price_range:null},price_html:"",average_rating:"4.5",review_count:2,images:[{id:17,src:d+"previews/polo.jpg",thumbnail:d+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:2,name:(0,n.__)("Long Sleeve Tee","woocommerce"),slug:"long-sleeve-tee",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-long-sleeve-tee",short_description:(0,n.__)("Long Sleeve Tee","woocommerce"),description:(0,n.__)("Long Sleeve Tee","woocommerce"),on_sale:!1,prices:{...We,price:qe(Qe?"30000":"25000"),regular_price:qe(Qe?"30000":"25000"),sale_price:qe(Qe?"30000":"25000"),price_range:null},price_html:"",average_rating:"4",review_count:2,images:[{id:17,src:d+"previews/long-sleeve-tee.jpg",thumbnail:d+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:3,name:(0,n.__)("Hoodie with Zipper","woocommerce"),slug:"hoodie-with-zipper",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-zipper",short_description:(0,n.__)("Hoodie with Zipper","woocommerce"),description:(0,n.__)("Hoodie with Zipper","woocommerce"),on_sale:!0,prices:{...We,price:qe(Qe?"15000":"12500"),regular_price:qe(Qe?"30000":"25000"),sale_price:qe(Qe?"15000":"12500"),price_range:null},price_html:"",average_rating:"1",review_count:2,images:[{id:17,src:d+"previews/hoodie-with-zipper.jpg",thumbnail:d+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:4,name:(0,n.__)("Hoodie with Logo","woocommerce"),slug:"hoodie-with-logo",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-logo",short_description:(0,n.__)("Polo","woocommerce"),description:(0,n.__)("Polo","woocommerce"),on_sale:!1,prices:{...We,price:qe(Qe?"4500":"4250"),regular_price:qe(Qe?"4500":"4250"),sale_price:qe(Qe?"4500":"4250"),price_range:null},price_html:"",average_rating:"5",review_count:2,images:[{id:17,src:d+"previews/hoodie-with-logo.jpg",thumbnail:d+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:5,name:(0,n.__)("Hoodie with Pocket","woocommerce"),slug:"hoodie-with-pocket",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-pocket",short_description:(0,n.__)("Hoodie with Pocket","woocommerce"),description:(0,n.__)("Hoodie with Pocket","woocommerce"),on_sale:!0,prices:{...We,price:qe(Qe?"3500":"3250"),regular_price:qe(Qe?"4500":"4250"),sale_price:qe(Qe?"3500":"3250"),price_range:null},price_html:"",average_rating:"3.75",review_count:4,images:[{id:17,src:d+"previews/hoodie-with-pocket.jpg",thumbnail:d+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:6,name:(0,n.__)("T-Shirt","woocommerce"),slug:"t-shirt",parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-t-shirt",short_description:(0,n.__)("T-Shirt","woocommerce"),description:(0,n.__)("T-Shirt","woocommerce"),on_sale:!1,prices:{...We,price:qe(Qe?"1800":"1500"),regular_price:qe(Qe?"1800":"1500"),sale_price:qe(Qe?"1800":"1500"),price_range:null},price_html:"",average_rating:"3",review_count:2,images:[{id:17,src:d+"previews/tshirt.jpg",thumbnail:d+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}}],fees:[{id:"fee",name:(0,n.__)("Fee","woocommerce"),totals:{...We,total:qe("100"),total_tax:qe("20")}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:_,has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{...We,total_items:qe("4000"),total_items_tax:qe("800"),total_fees:qe("100"),total_fees_tax:qe("20"),total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:qe("820"),total_price:qe("4920"),tax_lines:[{name:(0,n.__)("Sales tax","woocommerce"),rate:"20%",price:qe("820")}]},errors:[],payment_methods:["cod","bacs","cheque"],payment_requirements:["products"],extensions:{}},et=window.wc.blocksCheckout,tt=window.wp.url;var ot=o(5573);const st=(0,f.jsxs)(ot.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0 0 20.01 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45ZM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2Zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2Z"})]})," "]});var rt=o(4530),ct=o(9491);const nt=(0,i.createContext)({hasContainerWidth:!1,containerClassName:"",isMobile:!1,isSmall:!1,isMedium:!1,isLarge:!1}),it=({children:e,className:t=""})=>{const[o,r]=(()=>{const[e,{width:t}]=(0,ct.useResizeObserver)();let o="";return t>700?o="is-large":t>520?o="is-medium":t>400?o="is-small":t&&(o="is-mobile"),[e,o]})(),c={hasContainerWidth:""!==r,containerClassName:r,isMobile:"is-mobile"===r,isSmall:"is-small"===r,isMedium:"is-medium"===r,isLarge:"is-large"===r};return(0,f.jsx)(nt.Provider,{value:c,children:(0,f.jsxs)("div",{className:(0,s.A)(t,r),children:[o,e]})})};o(9163);const at=({children:e,className:t})=>(0,f.jsx)(it,{className:(0,s.A)("wc-block-components-sidebar-layout",t),children:e}),lt=["core/paragraph","core/image","core/separator"],dt=e=>{const t=(0,et.applyCheckoutFilter)({filterName:"additionalCartCheckoutInnerBlockTypes",defaultValue:[],extensions:(0,E.select)(I.cartStore).getCartData().extensions,arg:{block:e},validation:e=>{if(Array.isArray(e)&&e.every((e=>"string"==typeof e)))return!0;throw new Error("allowedBlockTypes filters must return an array of strings.")}});return Array.from(new Set([...(0,c.getBlockTypes)().filter((t=>(t?.parent||[]).includes(e))).map((({name:e})=>e)),...lt,...t]))},mt=({clientId:e,registeredBlocks:t,defaultTemplate:o=[]})=>{const s=(0,i.useRef)(t),r=(0,i.useRef)(o),n=(0,E.useRegistry)(),{isPreview:a}=N();(0,i.useEffect)((()=>{let t=!1;if(a)return;const{replaceInnerBlocks:o}=(0,E.dispatch)("core/block-editor");return n.subscribe((()=>{if(!n.select("core/block-editor").getBlock(e))return;const i=n.select("core/block-editor").getBlocks(e);if(0===i.length&&r.current.length>0&&!t){const s=(0,c.createBlocksFromInnerBlocksTemplate)(r.current);if(0!==s.length)return t=!0,void o(e,s)}const a=s.current.map((e=>(0,c.getBlockType)(e))),l=((e,t)=>{const o=t.filter((e=>e&&(({attributes:e})=>Boolean(e.lock?.remove||e.lock?.default?.remove))(e))),s=[];return o.forEach((t=>{if(void 0===t)return;const o=e.find((e=>e.name===t.name));o||s.push(t)})),s})(i,a);if(0===l.length)return;let d=-1;const m=l.map((e=>{const t=r.current.findIndex((([t])=>t===e.name)),o=(0,c.createBlock)(e.name);return-1===d&&(d=(({defaultTemplatePosition:e,innerBlocks:t,currentDefaultTemplate:o})=>{switch(e){case-1:return t.length;case 0:return 0;default:const s=o.current[e-1],r=t.findIndex((({name:e})=>e===s[0]));return-1===r?e:r+1}})({defaultTemplatePosition:t,innerBlocks:i,currentDefaultTemplate:r})),o}));n.batch((()=>{n.dispatch("core/block-editor").insertBlocks(m,d,e)}))}),"core/block-editor")}),[e,a,n])};o(398);const ut=(0,i.createContext)({hasDarkControls:!1}),pt=JSON.parse('{"DD":"Filled Cart","XV":3}');(0,c.registerBlockType)("woocommerce/filled-cart-block",{apiVersion:pt.XV,title:pt.DD,icon:{src:(0,f.jsx)(rt.A,{icon:st,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,r.useBlockProps)(),{currentView:o}=N(),{hasDarkControls:c}=(0,i.useContext)(ut),n=dt(et.innerBlockAreas.FILLED_CART),a=[["woocommerce/cart-items-block",{},[]],["woocommerce/cart-totals-block",{},[]]];return mt({clientId:e,registeredBlocks:n,defaultTemplate:a}),(0,f.jsx)("div",{...t,hidden:"woocommerce/filled-cart-block"!==o,children:(0,f.jsx)(at,{className:(0,s.A)("wc-block-cart",{"has-dark-controls":c}),children:(0,f.jsx)(r.InnerBlocks,{allowedBlocks:n,template:a,templateLock:"insert"})})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})})});var ht=o(4782);const gt=(0,i.forwardRef)((({children:e,className:t=""},o)=>(0,f.jsx)("div",{ref:o,className:(0,s.A)("wc-block-components-main",t),children:e})));var _t=o(3255);const wt=JSON.parse('{"name":"woocommerce/product-collection"}');let kt=function(e){return e.GRID="flex",e.STACK="list",e.CAROUSEL="carousel",e}({}),bt=function(e){return e.FILL="fill",e.FIXED="fixed",e}({}),yt=function(e){return e.PRODUCT_CATALOG="woocommerce/product-collection/product-catalog",e.BEST_SELLERS="woocommerce/product-collection/best-sellers",e.FEATURED="woocommerce/product-collection/featured",e.NEW_ARRIVALS="woocommerce/product-collection/new-arrivals",e.ON_SALE="woocommerce/product-collection/on-sale",e.TOP_RATED="woocommerce/product-collection/top-rated",e.HAND_PICKED="woocommerce/product-collection/hand-picked",e.RELATED="woocommerce/product-collection/related",e.UPSELLS="woocommerce/product-collection/upsells",e.CROSS_SELLS="woocommerce/product-collection/cross-sells",e.BY_CATEGORY="woocommerce/product-collection/by-category",e.BY_TAG="woocommerce/product-collection/by-tag",e}({}),xt=function(e){return e.ATTRIBUTES="attributes",e.CREATED="created",e.FEATURED="featured",e.HAND_PICKED="hand-picked",e.INHERIT="inherit",e.KEYWORD="keyword",e.ON_SALE="on-sale",e.ORDER="order",e.DEFAULT_ORDER="default-order",e.STOCK_STATUS="stock-status",e.TAXONOMY="taxonomy",e.PRICE_RANGE="price-range",e.FILTERABLE="filterable",e.PRODUCTS_PER_PAGE="products-per-page",e.MAX_PAGES_TO_SHOW="max-pages-to-show",e.OFFSET="offset",e.RELATED_BY="related-by",e}({}),vt=function(e){return e.SINGLE="single",e.THUMBNAIL="thumbnail",e}({});const ft=`${wt.name}/product-title`,St=(0,a.getSetting)("stockStatusOptions",[]),jt={perPage:9,pages:0,offset:0,postType:"product",order:"asc",orderBy:"title",search:"",exclude:[],inherit:!1,taxQuery:{},isProductCollectionBlock:!0,featured:!1,woocommerceOnSale:!1,woocommerceStockStatus:(0,a.getSetting)("hideOutOfStockItems",!1)?Object.keys(function(e,t){const{[t]:o,...s}=e;return s}(St,"outofstock")):Object.keys(St),woocommerceAttributes:[],woocommerceHandPickedProducts:[],timeFrame:void 0,priceRange:void 0,filterable:!1,relatedBy:{categories:!0,tags:!0}},Ct={query:jt,tagName:"div",displayLayout:{type:kt.GRID,columns:3,shrinkColumns:!0},dimensions:{widthType:bt.FILL},queryContextIncludes:["collection"],forcePageReload:!1},Et=["woocommerce/product-template",{},[["woocommerce/product-image",{imageSizing:vt.THUMBNAIL,showSaleBadge:!1},[["woocommerce/product-sale-badge",{align:"right"}]]],["core/post-title",{textAlign:"center",level:2,fontSize:"medium",style:{spacing:{margin:{bottom:"0.75rem",top:"0"}},typography:{lineHeight:"1.4"}},isLink:!0,__woocommerceNamespace:ft}],["woocommerce/product-price",{textAlign:"center",fontSize:"small"}],["woocommerce/product-button",{textAlign:"center",fontSize:"small"}]]],Pt={name:yt.CROSS_SELLS,title:(0,n.__)("Cross-Sells","woocommerce"),icon:(0,f.jsx)(rt.A,{icon:_t.A}),description:(0,n.__)("By suggesting complementary products in the cart using cross-sells, you can significantly increase the average order value.","woocommerce"),keywords:["boost","promotion"],scope:["inserter","block"],usesReference:["product","cart","order"],attributes:{...Ct,displayLayout:{type:"flex",columns:4,shrinkColumns:!0},query:{...jt,perPage:8,pages:1},hideControls:[xt.FILTERABLE]},innerBlocks:[["core/heading",{textAlign:"left",level:2,content:(0,n.__)("You may be interested in…","woocommerce"),style:{spacing:{margin:{bottom:"1rem"}}}}],Et]},Nt=JSON.parse('{"DD":"Cart Items","XV":3}');(0,c.registerBlockType)("woocommerce/cart-items-block",{apiVersion:Nt.XV,title:Nt.DD,icon:{src:(0,f.jsx)(rt.A,{icon:ht.A,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,r.useBlockProps)({className:"wc-block-cart__main"}),o=dt(et.innerBlockAreas.CART_ITEMS);o.push("woocommerce/product-collection");const s=[["woocommerce/cart-line-items-block",{},[]],["woocommerce/product-collection",{...Pt.attributes,displayLayout:{...Pt.attributes.displayLayout,columns:3},query:{...Pt.attributes.query,perPage:3},collection:"woocommerce/product-collection/cross-sells"},Pt.innerBlocks]];return mt({clientId:e,registeredBlocks:o,defaultTemplate:s}),(0,f.jsx)(gt,{...t,children:(0,f.jsx)(r.InnerBlocks,{allowedBlocks:o,template:s,templateLock:!1,renderAppender:r.InnerBlocks.ButtonBlockAppender})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})})});var At=o(8107),Rt=o(4347);const It=["BUTTON","FIELDSET","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA","A"],Tt=({children:e,style:t={},...o})=>{const s=(0,i.useRef)(null),r=()=>{s.current&&At.focus.focusable.find(s.current).forEach((e=>{It.includes(e.nodeName)&&e.setAttribute("tabindex","-1"),e.hasAttribute("contenteditable")&&e.setAttribute("contenteditable","false")}))},c=(0,Rt.YQ)(r,0,{leading:!0});return(0,i.useLayoutEffect)((()=>{let e;return r(),s.current&&(e=new window.MutationObserver(c),e.observe(s.current,{childList:!0,attributes:!0,subtree:!0})),()=>{e&&e.disconnect(),c.cancel()}}),[c]),(0,f.jsx)("div",{ref:s,"aria-disabled":"true",style:{userSelect:"none",pointerEvents:"none",cursor:"normal",...t},...o,children:e})};o(2405);const Bt=({tag:e="div",width:t="100%",height:o="8px",maxWidth:r="",className:c="",borderRadius:n="",isStatic:i=!1,ariaMessage:a})=>(0,f.jsx)(e,{className:(0,s.A)("wc-block-components-skeleton__element",{"wc-block-components-skeleton__element--static":i},c),...a?{"aria-live":"polite","aria-label":a}:{"aria-hidden":"true"},style:{width:t,height:o,borderRadius:n,maxWidth:r}});o(359),o(7826),o(2336);const Dt=({rows:e=2})=>(0,f.jsx)(f.Fragment,{children:Array.from({length:e}).map(((e,t)=>(0,f.jsxs)("tr",{className:"wc-block-cart-items__row","aria-label":(0,n.__)("Loading products in cart…","woocommerce"),children:[(0,f.jsx)("td",{className:"wc-block-cart-item__image",children:(0,f.jsx)(Bt,{height:"0"})}),(0,f.jsx)("td",{className:"wc-block-cart-item__product",children:(0,f.jsxs)("div",{className:"wc-block-cart-item__wrap",children:[(0,f.jsx)(Bt,{width:"90%",maxWidth:"173px",height:".875em"}),(0,f.jsx)(Bt,{width:"50%",maxWidth:"85px",height:".875em"})]})}),(0,f.jsx)("td",{className:"wc-block-cart-item__total",children:(0,f.jsx)(Bt,{height:".875em",maxWidth:"45px"})})]},t)))}),Mt=({children:e,isLoading:t,skeleton:o})=>{const s=(0,ct.useReducedMotion)(),[r,c]=(0,i.useState)(t),[n,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(s)return void c(t);let e;if(t)c(!0),a(Date.now());else if(n){const t=Date.now()-n,o=Math.max(0,2e3-t);e=setTimeout((()=>{c(!1),a(null)}),o)}return()=>{e&&clearTimeout(e)}}),[t,n,s]),(0,f.jsx)(f.Fragment,{children:r?o:e})};var Lt=o(195),Ot=o(8558);o(9959);const Ft=({className:e,quantity:t=1,minimum:o=1,maximum:r,onChange:c=()=>{},step:a=1,itemName:l="",disabled:d,editable:m=!0})=>{const u=(0,s.A)("wc-block-components-quantity-selector",e),p=(0,i.useRef)(null),h=(0,i.useRef)(null),g=(0,i.useRef)(null),_=void 0!==r,w=!d&&t-a>=o,k=!d&&(!_||t+a<=r),[b,y]=(0,i.useState)(t),x=(0,i.useRef)(t),v=(0,i.useRef)("input"),S=(0,i.useCallback)((e=>{let t=e;_&&(t=Math.min(t,Math.floor(r/a)*a)),t=Math.max(t,Math.ceil(o/a)*a),t=Math.round(t/a)*a;const s=a.toString().split(".")[1]?.length||0;return t=Math.round(t*Math.pow(10,s))/Math.pow(10,s),t}),[_,r,o,a]),j=(0,Rt.YQ)((e=>{c(e)}),600),C=(0,i.useCallback)((e=>{if(isNaN(e))return void y(t);j.cancel();const o=S(e);y(o),x.current=o,o!==t&&c(o)}),[S,t,j,c]);(0,i.useLayoutEffect)((()=>{t!==x.current?"increase"===v.current&&t<x.current||"decrease"===v.current&&t>x.current||(y(t),x.current=t,v.current="input"):v.current="input"}),[t,S]);const E=(0,i.useCallback)((e=>{const t="ArrowDown"===e.key||e.keyCode===Ot.DOWN,o="ArrowUp"===e.key||e.keyCode===Ot.UP,s="Enter"===e.key||e.keyCode===Ot.ENTER;t&&(e.preventDefault(),h.current?.click()),o&&(e.preventDefault(),g.current?.click()),s&&(e.preventDefault(),p.current?.blur())}),[]),P=(0,i.useCallback)((e=>{const o=e.target.value,s=Number(o);if(y(s),isNaN(s))return void j.cancel();const r=S(s);x.current=r,r===s&&r!==t?j(r):j.cancel()}),[j,S,t]),N=(0,i.useCallback)((()=>{C(b)}),[b,C]),A=(0,i.useCallback)((e=>e.toString()),[]);return(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("input",{ref:p,className:"wc-block-components-quantity-selector__input",disabled:d,readOnly:!m,type:"number",step:a,min:o,max:r,value:A(b),onKeyDown:E,onBlur:N,onChange:P,"aria-label":(0,n.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,n.__)("Quantity of %s in your cart.","woocommerce"),l)}),m&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{ref:h,"aria-label":(0,n.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,n.__)("Reduce quantity of %s","woocommerce"),l),className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--minus",disabled:!w,onClick:()=>{const e=b-a;C(e),v.current="decrease",(0,Lt.speak)((0,n.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */ /* translators: %s refers to the item's new quantity in the cart. */
(0,n.__)("Quantity reduced to %s.","woocommerce"),e))},children:"−"}),(0,f.jsx)("button",{ref:g,"aria-label":(0,n.sprintf)(/* translators: %s refers to the item's name in the cart. */ /* translators: %s refers to the item's name in the cart. */
(0,n.__)("Increase quantity of %s","woocommerce"),l),disabled:!k,className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--plus",onClick:()=>{const e=b+a;C(e),v.current="increase",(0,Lt.speak)((0,n.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */ /* translators: %s refers to the item's new quantity in the cart. */
(0,n.__)("Quantity increased to %s.","woocommerce"),e))},children:"＋"})]})]})},Vt=window.wc.blocksComponents,zt=window.wc.priceFormat;o(8501);const Ht=({currency:e,maxPrice:t,minPrice:o,priceClassName:r,priceStyle:c={}})=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"screen-reader-text",children:(0,n.sprintf)(/* translators: %1$s min price, %2$s max price */ /* translators: %1$s min price, %2$s max price */
(0,n.__)("Price between %1$s and %2$s","woocommerce"),(0,zt.formatPrice)(o),(0,zt.formatPrice)(t))}),(0,f.jsxs)("span",{"aria-hidden":!0,children:[(0,f.jsx)(Vt.FormattedMonetaryAmount,{className:(0,s.A)("wc-block-components-product-price__value",r),currency:e,value:o,style:c})," — ",(0,f.jsx)(Vt.FormattedMonetaryAmount,{className:(0,s.A)("wc-block-components-product-price__value",r),currency:e,value:t,style:c})]})]}),Ut=({currency:e,regularPriceClassName:t,regularPriceStyle:o,regularPrice:r,priceClassName:c,priceStyle:i,price:a})=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"screen-reader-text",children:(0,n.__)("Previous price:","woocommerce")}),(0,f.jsx)(Vt.FormattedMonetaryAmount,{currency:e,renderText:e=>(0,f.jsx)("del",{className:(0,s.A)("wc-block-components-product-price__regular",t),style:o,children:e}),value:r}),(0,f.jsx)("span",{className:"screen-reader-text",children:(0,n.__)("Discounted price:","woocommerce")}),(0,f.jsx)(Vt.FormattedMonetaryAmount,{currency:e,renderText:e=>(0,f.jsx)("ins",{className:(0,s.A)("wc-block-components-product-price__value","is-discounted",c),style:i,children:e}),value:a})]}),Wt=({align:e,className:t,currency:o,format:r="<price/>",maxPrice:c,minPrice:n,price:a,priceClassName:l,priceStyle:d,regularPrice:m,regularPriceClassName:u,regularPriceStyle:p,style:h})=>{const g=(0,s.A)(t,"price","wc-block-components-product-price",{[`wc-block-components-product-price--align-${e}`]:e});r.includes("<price/>")||(r="<price/>",console.error("Price formats need to include the `<price/>` tag."));const _=m&&a&&a<m;let w=(0,f.jsx)("span",{className:(0,s.A)("wc-block-components-product-price__value",l)});return _?w=(0,f.jsx)(Ut,{currency:o,price:a,priceClassName:l,priceStyle:d,regularPrice:m,regularPriceClassName:u,regularPriceStyle:p}):void 0!==n&&void 0!==c?w=(0,f.jsx)(Ht,{currency:o,maxPrice:c,minPrice:n,priceClassName:l,priceStyle:d}):(a||0===a)&&(w=(0,f.jsx)(Vt.FormattedMonetaryAmount,{className:(0,s.A)("wc-block-components-product-price__value",l),currency:o,value:a,style:d})),(0,f.jsx)("span",{className:g,style:h,children:(0,i.createInterpolateElement)(r,{price:w})})};o(959);const qt=({className:e="",disabled:t=!1,name:o,permalink:r="",target:c,rel:n,style:i,onClick:a,disabledTagName:l="span",...d})=>{const m=(0,s.A)("wc-block-components-product-name",e),u=l;if(t){const e=d;return(0,f.jsx)(u,{className:m,...e,dangerouslySetInnerHTML:{__html:o}})}return(0,f.jsx)("a",{className:m,href:r,target:c,...d,dangerouslySetInnerHTML:{__html:o},style:i})};var $t=o(6513);o(7605);const Yt=({children:e,className:t})=>(0,f.jsx)("div",{className:(0,s.A)("wc-block-components-product-badge",t),children:e}),Xt=()=>(0,f.jsx)(Yt,{className:"wc-block-components-product-backorder-badge",children:(0,n.__)("Available on backorder","woocommerce")}),Gt=({image:e={},fallbackAlt:t="",width:o,height:s})=>{const r=e.thumbnail?{src:e.thumbnail,alt:(0,te.decodeEntities)(e.alt)||t||"Product Image"}:{src:a.PLACEHOLDER_IMG_SRC,alt:""};return(0,f.jsx)("img",{src:r.src,alt:r.alt,width:o,height:s})},Jt=({lowStockRemaining:e})=>e?(0,f.jsx)(Yt,{className:"wc-block-components-product-low-stock-badge",children:(0,n.sprintf)(/* translators: %d stock amount (number of items in stock for product) */ /* translators: %d stock amount (number of items in stock for product) */
(0,n.__)("%d left in stock","woocommerce"),e)}):null;var Kt=o(7356);o(3692);const Qt=({details:e=[]})=>{if(!Array.isArray(e))return null;if(0===(e=e.filter((e=>!e.hidden))).length)return null;let t="ul",o="li";return 1===e.length&&(t="div",o="div"),(0,f.jsx)(t,{className:"wc-block-components-product-details",children:e.map((e=>{const t=e?.key||e.name||"",s=e?.className||(t?`wc-block-components-product-details__${(0,Kt.c)(t)}`:"");return(0,f.jsxs)(o,{className:s,children:[t&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("span",{className:"wc-block-components-product-details__name",children:[(0,te.decodeEntities)(t),":"]})," "]}),(0,f.jsx)("span",{className:"wc-block-components-product-details__value",children:(0,te.decodeEntities)(e.display||e.value)})]},t+(e.display||e.value))}))})};var Zt=o(3240),eo=o.n(Zt);const to=["a","b","em","i","strong","p","br"],oo=["target","href","rel","name","download"],so=(e,t)=>{const o=t?.tags||to,s=t?.attr||oo;return eo().sanitize(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:s})},ro=window.wp.autop,co=e=>e.replace(/<\/?[a-z][^>]*?>/gi,""),no=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t,io=window.wp.wordcount,ao=["a","b","em","i","strong","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6","pre","blockquote","img"],lo=["target","href","rel","name","download","src","class","alt","style"],mo=({source:e,maxLength:t=15,countType:o="words",className:s="",style:r={}})=>{const c=(0,i.useMemo)((()=>((e,t=15,o="words")=>{const s=(0,ro.autop)(e);if((0,io.count)(s,o)<=t)return s;const r=(e=>{const t=e.indexOf("</p>");return-1===t?e:e.substr(0,t+4)})(s);return(0,io.count)(r,o)<=t?r:"words"===o?((e,t,o="&hellip;",s=!0)=>{const r=co(e),c=r.split(" ").splice(0,t).join(" ");return c===r?s?(0,ro.autop)(r):r:s?(0,ro.autop)(no(c,o)):no(c,o)})(r,t):((e,t,o=!0,s="&hellip;",r=!0)=>{const c=co(e),n=c.slice(0,t);if(n===c)return r?(0,ro.autop)(c):c;if(o)return(0,ro.autop)(no(n,s));const i=n.match(/([\s]+)/g),a=i?i.length:0,l=c.slice(0,t+a);return r?(0,ro.autop)(no(l,s)):no(l,s)})(r,t,"characters_including_spaces"===o)})(e,t,o)),[e,t,o]);return(0,f.jsx)(i.RawHTML,{style:r,className:s,children:so(c,{tags:ao,attr:lo})})},uo=({className:e,shortDescription:t="",fullDescription:o=""})=>{const s=t||o;return s?(0,f.jsx)(mo,{className:e,source:s,maxLength:15,countType:l.wordCountType||"words"}):null};o(8879);const po=({shortDescription:e="",fullDescription:t="",itemData:o=[],variation:s=[]})=>(0,f.jsxs)("div",{className:"wc-block-components-product-metadata",children:[(0,f.jsx)(uo,{className:"wc-block-components-product-metadata__description",shortDescription:e,fullDescription:t}),(0,f.jsx)(Qt,{details:o}),(0,f.jsx)(Qt,{details:s.map((({attribute:e="",value:t})=>({key:e,value:t})))})]}),ho=({currency:e,saleAmount:t,format:o="<price/>"})=>{if(!t||t<=0)return null;o.includes("<price/>")||(o="<price/>",console.error("Price formats need to include the `<price/>` tag."));const s=(0,n.sprintf)(/* translators: %s will be replaced by the discount amount */ /* translators: %s will be replaced by the discount amount */
(0,n.__)("Save %s","woocommerce"),o);return(0,f.jsx)(Yt,{className:"wc-block-components-sale-badge",children:(0,i.createInterpolateElement)(s,{price:(0,f.jsx)(Vt.FormattedMonetaryAmount,{currency:e,value:t})})})},go=(e,t)=>e.convertPrecision(t.minorUnit).getAmount(),_o=(0,i.forwardRef)((({lineItem:e,onRemove:t=()=>{},tabIndex:o},r)=>{const{name:c="",catalog_visibility:l="visible",short_description:d="",description:m="",low_stock_remaining:u=null,show_backorder_badge:p=!1,quantity_limits:h={minimum:1,maximum:99,multiple_of:1,editable:!0},sold_individually:g=!1,permalink:_="",images:w=[],variation:k=[],item_data:b=[],prices:y={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",price:"0",regular_price:"0",sale_price:"0",price_range:null,raw_prices:{precision:6,price:"0",regular_price:"0",sale_price:"0"}},totals:x={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",line_subtotal:"0",line_subtotal_tax:"0"},extensions:v}=e,{quantity:S,setItemQuantity:j,removeItem:C,isPendingDelete:P}=(e=>{const t={key:"",quantity:1};(e=>(0,J.isObject)(e)&&(0,J.objectHasProp)(e,"key")&&(0,J.objectHasProp)(e,"quantity")&&(0,J.isString)(e.key)&&(0,J.isNumber)(e.quantity))(e)&&(t.key=e.key,t.quantity=e.quantity);const{key:o="",quantity:s=1}=t,{cartErrors:r}=ge(),{__internalStartCalculation:c,__internalFinishCalculation:n}=(0,E.useDispatch)(I.checkoutStore),[a,l]=(0,i.useState)(s),[d]=(0,Rt.d7)(a,400),m=Re(d),{removeItemFromCart:u,changeCartItemQuantity:p}=(0,E.useDispatch)(I.cartStore);(0,i.useEffect)((()=>l(s)),[s]);const h=(0,E.useSelect)((e=>{if(!o)return{quantity:!1,delete:!1};const t=e(I.cartStore);return{quantity:t.isItemPendingQuantity(o),delete:t.isItemPendingDelete(o)}}),[o]),g=(0,i.useCallback)((()=>o?u(o).catch((e=>{(0,I.processErrorResponse)(e)})):Promise.resolve(!1)),[o,u]);return(0,i.useEffect)((()=>{o&&(0,J.isNumber)(m)&&Number.isFinite(m)&&m!==d&&p(o,d).catch((e=>{(0,I.processErrorResponse)(e)}))}),[o,p,d,m]),(0,i.useEffect)((()=>(h.delete?c():n(),()=>{h.delete&&n()})),[n,c,h.delete]),(0,i.useEffect)((()=>(h.quantity||d!==a?c():n(),()=>{(h.quantity||d!==a)&&n()})),[c,n,h.quantity,d,a]),{isPendingDelete:h.delete,quantity:a,setItemQuantity:l,removeItem:g,cartItemQuantityErrors:r}})(e),{dispatchStoreEvent:N}=fe(),{receiveCart:A,...R}=ge(),T=(0,i.useMemo)((()=>({context:"cart",cartItem:e,cart:R})),[e,R]),B=(0,zt.getCurrencyFromPriceResponse)(y),D=(0,et.applyCheckoutFilter)({filterName:"itemName",defaultValue:c,extensions:v,arg:T}),M=(0,$t.A)({amount:parseInt(y.raw_prices.regular_price,10),precision:y.raw_prices.precision}),L=(0,$t.A)({amount:parseInt(y.raw_prices.price,10),precision:y.raw_prices.precision}),O=M.subtract(L),F=O.multiply(S),V=(0,zt.getCurrencyFromPriceResponse)(x);let z=parseInt(x.line_subtotal,10);(0,a.getSetting)("displayCartPricesIncludingTax",!1)&&(z+=parseInt(x.line_subtotal_tax,10));const H=(0,$t.A)({amount:z,precision:V.minorUnit}),U=w.length?w[0]:{},W="hidden"===l||"search"===l,q=(0,et.applyCheckoutFilter)({filterName:"cartItemClass",defaultValue:"",extensions:v,arg:T}),$=(0,et.applyCheckoutFilter)({filterName:"cartItemPrice",defaultValue:"<price/>",extensions:v,arg:T,validation:et.productPriceValidation}),Y=(0,et.applyCheckoutFilter)({filterName:"subtotalPriceFormat",defaultValue:"<price/>",extensions:v,arg:T,validation:et.productPriceValidation}),X=(0,et.applyCheckoutFilter)({filterName:"saleBadgePriceFormat",defaultValue:"<price/>",extensions:v,arg:T,validation:et.productPriceValidation}),G=(0,et.applyCheckoutFilter)({filterName:"showRemoveItemLink",defaultValue:!0,extensions:v,arg:T});return(0,f.jsxs)("tr",{className:(0,s.A)("wc-block-cart-items__row",q,{"is-disabled":P}),ref:r,tabIndex:o,children:[(0,f.jsx)("td",{className:"wc-block-cart-item__image","aria-hidden":!(0,J.objectHasProp)(U,"alt")||!U.alt,children:W?(0,f.jsx)(Gt,{image:U,fallbackAlt:D}):(0,f.jsx)("a",{href:_,tabIndex:-1,children:(0,f.jsx)(Gt,{image:U,fallbackAlt:D})})}),(0,f.jsx)("td",{className:"wc-block-cart-item__product",children:(0,f.jsxs)("div",{className:"wc-block-cart-item__wrap",children:[(0,f.jsx)(qt,{disabled:P||W,name:D,permalink:_}),p?(0,f.jsx)(Xt,{}):!!u&&(0,f.jsx)(Jt,{lowStockRemaining:u}),(0,f.jsx)("div",{className:"wc-block-cart-item__prices",children:(0,f.jsx)(Wt,{currency:B,regularPrice:go(M,B),price:go(L,B),format:Y})}),(0,f.jsx)(ho,{currency:B,saleAmount:go(O,B),format:X}),(0,f.jsx)(po,{shortDescription:d,fullDescription:m,itemData:b,variation:k}),(0,f.jsxs)("div",{className:"wc-block-cart-item__quantity",children:[!g&&(0,f.jsx)(Ft,{disabled:P,editable:h.editable,quantity:S,minimum:h.minimum,maximum:h.maximum,step:h.multiple_of,onChange:t=>{j(t),N("cart-set-item-quantity",{product:e,quantity:t})},itemName:D}),G&&(0,f.jsx)("button",{className:"wc-block-cart-item__remove-link","aria-label":(0,n.sprintf)(/* translators: %s refers to the item's name in the cart. */ /* translators: %s refers to the item's name in the cart. */
(0,n.__)("Remove %s from cart","woocommerce"),D),onClick:()=>{t(),C(),N("cart-remove-item",{product:e,quantity:S}),(0,Lt.speak)((0,n.sprintf)(/* translators: %s refers to the item name in the cart. */ /* translators: %s refers to the item name in the cart. */
(0,n.__)("%s has been removed from your cart.","woocommerce"),D))},disabled:P,children:(0,n.__)("Remove item","woocommerce")})]})]})}),(0,f.jsx)("td",{className:"wc-block-cart-item__total",children:(0,f.jsxs)("div",{className:"wc-block-cart-item__total-price-and-sale-badge-wrapper",children:[(0,f.jsx)(Wt,{currency:V,format:$,price:H.getAmount()}),S>1&&(0,f.jsx)(ho,{currency:B,saleAmount:go(F,B),format:X})]})})]})})),wo=_o,ko=e=>{const t={};return e.forEach((({key:e})=>{t[e]=(0,i.createRef)()})),t},bo=({lineItems:e=[],isLoading:t=!1,className:o})=>{const r=(0,i.useRef)(null),c=(0,i.useRef)(ko(e));(0,i.useEffect)((()=>{c.current=ko(e)}),[e]);const a=e=>()=>{requestAnimationFrame((()=>{c?.current&&e&&c.current[e].current instanceof HTMLElement?c.current[e].current.focus():r.current instanceof HTMLElement&&r.current.focus()}))},l=(0,f.jsx)(Mt,{isLoading:t,skeleton:(0,f.jsx)(Dt,{}),children:(0,f.jsx)(f.Fragment,{children:e.map(((t,o)=>{const s=e.length>o+1?e[o+1].key:null;return(0,f.jsx)(wo,{lineItem:t,onRemove:a(s),ref:c.current[t.key],tabIndex:-1},t.key)}))})});return(0,f.jsxs)("table",{className:(0,s.A)("wc-block-cart-items",o),ref:r,tabIndex:-1,children:[(0,f.jsx)("caption",{className:"screen-reader-text",children:(0,f.jsx)("h2",{children:(0,n.__)("Products in cart","woocommerce")})}),(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:"wc-block-cart-items__header",children:[(0,f.jsx)("th",{className:"wc-block-cart-items__header-image",children:(0,f.jsx)("span",{children:(0,n.__)("Product","woocommerce")})}),(0,f.jsx)("th",{className:"wc-block-cart-items__header-product",children:(0,f.jsx)("span",{children:(0,n.__)("Details","woocommerce")})}),(0,f.jsx)("th",{className:"wc-block-cart-items__header-total",children:(0,f.jsx)("span",{children:(0,n.__)("Total","woocommerce")})})]})}),(0,f.jsx)("tbody",{children:l})]})},yo=({className:e})=>{const{cartItems:t,cartIsLoading:o}=ge();return(0,f.jsx)(bo,{className:e,lineItems:t,isLoading:o})},xo=JSON.parse('{"DD":"Cart Line Items","XV":3}');(0,c.registerBlockType)("woocommerce/cart-line-items-block",{apiVersion:xo.XV,title:xo.DD,icon:{src:(0,f.jsx)(rt.A,{icon:ht.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,r.useBlockProps)();return(0,f.jsx)("div",{...o,children:(0,f.jsx)(Tt,{children:(0,f.jsx)(yo,{className:t})})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});const vo=JSON.parse('{"DD":"Cart Cross-Sells","XV":3}');(0,c.registerBlockType)("woocommerce/cart-cross-sells-block",{apiVersion:vo.XV,title:vo.DD,icon:{src:(0,f.jsx)(rt.A,{icon:ht.A,className:"wc-block-editor-components-block-icon"})},edit:()=>{const e=(0,r.useBlockProps)({className:"wc-block-cart__cross-sells"}),t=[["core/heading",{content:(0,n.__)("You may be interested in…","woocommerce"),level:2,fontSize:"large"},[]],["woocommerce/cart-cross-sells-products-block",{},[]]];return(0,f.jsx)("div",{...e,children:(0,f.jsx)(r.InnerBlocks,{template:t,templateLock:!1})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})}),transforms:{to:[{type:"block",blocks:["woocommerce/product-collection"],transform:()=>(0,c.createBlock)("woocommerce/product-collection",{...Pt.attributes,displayLayout:{...Pt.attributes.displayLayout,columns:3},query:{...Pt.attributes.query,perPage:3},collection:"woocommerce/product-collection/cross-sells"},(0,c.createBlocksFromInnerBlocksTemplate)(Pt.innerBlocks))}]}});const fo=window.wp.components,So=window.wc.wcBlocksSharedContext,jo=window.wp.styleEngine;function Co(e={}){const t={};return(0,jo.getCSSRules)(e,{selector:""}).forEach((e=>{t[e.key]=e.value})),t}function Eo(e,t){return e&&t?`has-${(0,Kt.c)(t)}-${e}`:""}const Po=e=>{const t=(e=>{const t=(0,J.isObject)(e)?e:{style:{}};let o=t.style;return(0,J.isString)(o)&&(o=JSON.parse(o)||{}),(0,J.isObject)(o)||(o={}),{...t,style:o}})(e),o=function(e){const{backgroundColor:t,textColor:o,gradient:r,style:c}=e,n=Eo("background-color",t),i=Eo("color",o),a=function(e){if(e)return`has-${e}-gradient-background`}(r),l=a||c?.color?.gradient;return{className:(0,s.A)(i,a,{[n]:!l&&!!n,"has-text-color":o||c?.color?.text,"has-background":t||c?.color?.background||r||c?.color?.gradient,"has-link-color":(0,J.isObject)(c?.elements?.link)?c?.elements?.link?.color:void 0}),style:Co({color:c?.color||{}})}}(t),r=function(e){const t=e.style?.border||{};return{className:function(e){const{borderColor:t,style:o}=e,r=t?Eo("border-color",t):"";return(0,s.A)({"has-border-color":!!t||!!o?.border?.color,[r]:!!r})}(e),style:Co({border:t})}}(t),c=function(e){return{className:void 0,style:Co({spacing:e.style?.spacing||{}})}}(t),n=(e=>{const t=(0,J.isObject)(e.style.typography)?e.style.typography:{},o=(0,J.isString)(t.fontFamily)?t.fontFamily:"";return{className:e.fontFamily?`has-${e.fontFamily}-font-family`:o,style:{fontSize:e.fontSize?`var(--wp--preset--font-size--${e.fontSize})`:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,lineHeight:t.lineHeight,textDecoration:t.textDecoration,textTransform:t.textTransform}}})(t);return{className:(0,s.A)(n.className,o.className,r.className,c.className),style:{...n.style,...o.style,...r.style,...c.style}}},No=window.wc.wcBlocksSharedHocs;o(4313);const Ao=(0,No.withProductDataContext)((e=>{const{className:t,align:o,isDescendentOfSingleProductTemplate:r}=e,c=Po(e),{parentClassName:i}=(0,So.useInnerBlockLayoutContext)(),{product:a}=(0,So.useProductDataContext)();if(!(a.id&&a.on_sale||r))return null;const l="string"==typeof o?`wc-block-components-product-sale-badge--align-${o}`:"";return(0,f.jsx)("div",{className:(0,s.A)("wc-block-components-product-sale-badge",t,l,{[`${i}__product-onsale`]:i},c.className),style:c.style,children:(0,f.jsx)(Vt.Label,{label:(0,n.__)("Sale","woocommerce"),screenReaderLabel:(0,n.__)("Product on sale","woocommerce")})})}));o(1189);const Ro=e=>{const{aspectRatio:t,height:o,width:s,scale:r}=e;return{height:o,width:s,objectFit:r,aspectRatio:t}},Io=e=>{const{showFullSize:t,...o}=e,s=t?(0,a.getSetting)("placeholderImgSrcFullSize",a.PLACEHOLDER_IMG_SRC):a.PLACEHOLDER_IMG_SRC;return(0,f.jsx)("img",{...o,src:s,alt:"",width:void 0,height:void 0})},To=({image:e,loaded:t,showFullSize:o,fallbackAlt:s,width:r,scale:c,height:n,aspectRatio:i})=>{const{thumbnail:a,src:l,srcset:d,sizes:m,alt:u}=e||{},p={alt:u||s,hidden:!t,src:o?l:a,...o&&{srcSet:d,sizes:m}},h=Ro({height:n,width:r,scale:c,aspectRatio:i});return e?(0,f.jsx)("img",{style:h,"data-testid":"product-image",...p}):(0,f.jsx)(Io,{showFullSize:o,style:h})},Bo=e=>{const{product:t}=e;return!(0,J.isEmpty)(t)&&(void 0===(o=e.showSaleBadge)||o);var o},Do=e=>{const{aspectRatio:t,children:o,className:r,height:c,imageId:a,imageSizing:l=vt.SINGLE,scale:d,showProductLink:m=!0,style:u,width:p,isAdmin:h,product:g,isResolving:_,...w}=e,k=Po(e),{parentClassName:b}=(0,So.useInnerBlockLayoutContext)(),{product:y,isLoading:x}=(0,So.useProductDataContext)({isAdmin:h,product:g,isResolving:_}),{dispatchStoreEvent:v}=fe(),S=l!==vt.THUMBNAIL,j=(0,J.objectHasProp)(u,"dimensions")&&(0,J.objectHasProp)(u.dimensions,"aspectRatio")&&(0,J.isString)(u.dimensions.aspectRatio)?u.dimensions.aspectRatio:t,C=`wc-block-components-product-image--aspect-ratio-${j?j.replace("/","-"):"auto"}`;if(!y?.id){const e=Ro({height:c,width:p,scale:d,aspectRatio:j});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:(0,s.A)(r,"wc-block-components-product-image",C,{[`${b}__product-image`]:b},k.className),style:k.style,children:(0,f.jsx)(Io,{showFullSize:S,style:e})}),o]})}const E=((e,t)=>e.images.length?t&&e.images.find((e=>e.id===t))||e.images[0]:null)(y,a);E&&(E.alt=E.alt||(0,te.decodeEntities)(y.name));const P=m?"a":i.Fragment,N=y?.name?
// translators: %s is the product name.
// translators: %s is the product name.
(0,n.sprintf)((0,n.__)("Link to %s","woocommerce"),y.name):"",A={href:m?y?.permalink:void 0,...m&&{"aria-label":N,onClick:()=>{v("product-view-link",{product:y})}}};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:(0,s.A)(r,"wc-block-components-product-image",C,{[`${b}__product-image`]:b},k.className),style:k.style,children:[Bo(e)&&(0,f.jsx)(Ao,{align:e.saleBadgeAlign||"right",...w}),(0,f.jsx)(P,{...m&&A,children:(0,f.jsx)(To,{fallbackAlt:(0,te.decodeEntities)(y.name),image:E,loaded:!x,showFullSize:S,width:p,height:c,scale:d,aspectRatio:j})})]}),o]})};(0,No.withProductDataContext)(Do),o(7578);const Mo=({children:e,headingLevel:t,elementType:o=`h${t}`,...s})=>(0,f.jsx)(o,{...s,children:e}),Lo=e=>{const{className:t,headingLevel:o=2,showProductLink:r=!0,linkTarget:c,align:n}=e,i=Po(e),{parentClassName:a}=(0,So.useInnerBlockLayoutContext)(),{product:l}=(0,So.useProductDataContext)(),{dispatchStoreEvent:d}=fe();return l.id?(0,f.jsx)(Mo,{headingLevel:o,className:(0,s.A)(t,i.className,"wc-block-components-product-title",{[`${a}__product-title`]:a,[`wc-block-components-product-title--align-${n}`]:n}),style:i.style,children:(0,f.jsx)(qt,{disabled:!r,name:l.name,permalink:l.permalink,target:c,onClick:()=>{d("product-view-link",{product:l})}})}):(0,f.jsx)(Mo,{headingLevel:o,className:(0,s.A)(t,i.className,"wc-block-components-product-title",{[`${a}__product-title`]:a,[`wc-block-components-product-title--align-${n}`]:n}),style:i.style})},Oo=((0,No.withProductDataContext)(Lo),e=>({width:e/5*100+"%"})),Fo=({className:e,parentClassName:t})=>{const o=Oo(0);return(0,f.jsxs)("div",{className:(0,s.A)(`${e}__norating-container`,`${t}-product-rating__norating-container`),children:[(0,f.jsx)("div",{className:`${e}__norating`,role:"img",children:(0,f.jsx)("span",{style:o})}),(0,f.jsx)("span",{children:(0,n.__)("No Reviews","woocommerce")})]})},Vo=e=>{const{className:t,rating:o,reviews:r,parentClassName:c}=e,i=Oo(o),a=(0,n.sprintf)(/* translators: %f is referring to the average rating value */ /* translators: %f is referring to the average rating value */
(0,n.__)("Rated %f out of 5","woocommerce"),o),l={__html:(0,n.sprintf)(/* translators: %1$s is referring to the average rating value, %2$s is referring to the number of ratings */ /* translators: %1$s is referring to the average rating value, %2$s is referring to the number of ratings */
(0,n._n)("Rated %1$s out of 5 based on %2$s customer rating","Rated %1$s out of 5 based on %2$s customer ratings",r,"woocommerce"),(0,n.sprintf)('<strong class="rating">%f</strong>',o),(0,n.sprintf)('<span class="rating">%d</span>',r))};return(0,f.jsx)("div",{className:(0,s.A)(`${t}__stars`,`${c}__product-rating__stars`),role:"img","aria-label":a,children:(0,f.jsx)("span",{style:i,dangerouslySetInnerHTML:l})})},zo=e=>{const{className:t,reviews:o}=e,s=(0,n.sprintf)(/* translators: %s is referring to the total of reviews for a product */ /* translators: %s is referring to the total of reviews for a product */
(0,n._n)("(%s customer review)","(%s customer reviews)",o,"woocommerce"),o);return(0,f.jsx)("span",{className:`${t}__reviews_count`,children:s})},Ho=e=>{const{className:t="wc-block-components-product-rating",showReviewCount:o,showMockedReviews:r,parentClassName:c="",rating:n,reviews:i,styleProps:a,textAlign:l}=e,d=(0,s.A)(a.className,t,{[`${c}__product-rating`]:c,[`has-text-align-${l}`]:l}),m=r&&(0,f.jsx)(Fo,{className:t,parentClassName:c}),u=i?(0,f.jsx)(Vo,{className:t,rating:n,reviews:i,parentClassName:c}):m,p=i&&o;return(0,f.jsx)("div",{className:d,style:a.style,children:(0,f.jsxs)("div",{className:`${t}__container`,children:[u,p?(0,f.jsx)(zo,{className:t,reviews:i}):null]})})};o(7545);const Uo=e=>{const{textAlign:t="",shouldDisplayMockedReviewsWhenProductHasNoReviews:o}=e,s=Po(e),{parentClassName:r}=(0,So.useInnerBlockLayoutContext)(),{product:c}=(0,So.useProductDataContext)(),n=(e=>{const t=parseFloat(e.average_rating);return Number.isFinite(t)&&t>0?t:0})(c),i=(e=>{if("review_count"in e){const t=(0,J.isNumber)(e.review_count)?e.review_count:parseInt(e.review_count,10);return Number.isFinite(t)&&t>0?t:0}if("rating_count"in e){const t=(0,J.isNumber)(e.rating_count)?e.rating_count:parseInt(e.rating_count,10);return Number.isFinite(t)&&t>0?t:0}return 0})(c);return(0,f.jsx)(Ho,{className:"wc-block-components-product-rating-stars",showMockedReviews:o,styleProps:s,parentClassName:r,reviews:i,rating:n,textAlign:t})},Wo=((0,No.withProductDataContext)(Uo),(e,t,o="0")=>{const s=10**t.minorUnit;return(Number.parseFloat(null!=e?e:o)*s).toString()}),qo=e=>{var t;const{className:o,textAlign:r,isDescendentOfSingleProductTemplate:c,isAdmin:n,product:i,isExperimentalWcRestApiEnabled:l}=e,d=Po(e),{parentName:m,parentClassName:u}=(0,So.useInnerBlockLayoutContext)(),{product:p}=(0,So.useProductDataContext)(l?{isAdmin:n,product:i}:void 0),h="woocommerce/all-products"===m,g=c&&!("woocommerce/add-to-cart-with-options-grouped-product-item"===m),_=(0,s.A)("wc-block-components-product-price",o,d.className,{[`${u}__product-price`]:u});if(!p?.id&&!c){const e=(0,f.jsx)(Wt,{align:r,className:_});return h?(0,f.jsx)("div",{className:"wp-block-woocommerce-product-price",children:e}):e}let w=null!==(t=p?.prices)&&void 0!==t?t:{};const k=g?(0,zt.getCurrencyFromPriceResponse)():(0,zt.getCurrencyFromPriceResponse)(w);l&&(w={price:Wo(p?.price,k),...p?.sale_price?{sale_price:Wo(p?.sale_price,k)}:{},...p?.regular_price?{regular_price:Wo(p?.regular_price,k)}:{},currency_minor_unit:a.SITE_CURRENCY.minorUnit,price_range:p?.__experimental_max_price&&p?.__experimental_min_price?{min_amount:Wo(p.__experimental_min_price,k),max_amount:Wo(p.__experimental_max_price,k)}:null});const b="5000",y=w.price!==w.regular_price,x=(0,s.A)({[`${u}__product-price__value`]:u,[`${u}__product-price__value--on-sale`]:y}),v=(0,f.jsx)(Wt,{align:r,className:_,style:d.style,regularPriceStyle:d.style,priceStyle:d.style,priceClassName:x,currency:k,price:g?b:w.price,minPrice:w?.price_range?.min_amount,maxPrice:w?.price_range?.max_amount,regularPrice:g?b:w.regular_price,regularPriceClassName:(0,s.A)({[`${u}__product-price__regular`]:u})});return h?(0,f.jsx)("div",{className:"wp-block-woocommerce-product-price",children:v}):v},$o=(e,t)=>{const o=e.find((({id:e})=>e===t));return o?o.quantity:0};o(7316);const Yo="woocommerce/product-type-template-state",Xo="SWITCH_PRODUCT_TYPE",Go="SET_PRODUCT_TYPES",Jo="REGISTER_LISTENER",Ko="UNREGISTER_LISTENER",Qo=(0,a.getSetting)("productTypes",{}),Zo=Object.keys(Qo).map((e=>({slug:e,label:Qo[e]}))),es={productTypes:{list:Zo,current:Zo[0]?.slug},listeners:[]},ts={switchProductType:e=>({type:Xo,current:e}),setProductTypes:e=>({type:Go,productTypes:e}),registerListener:e=>({type:Jo,listener:e}),unregisterListener:e=>({type:Ko,listener:e})},os=(0,E.createReduxStore)(Yo,{reducer:(e=es,t)=>{switch(t.type){case Go:return{...e,productTypes:{...e.productTypes,list:t.productTypes||[]}};case Xo:return{...e,productTypes:{...e.productTypes,current:t.current}};case Jo:return{...e,listeners:[...e.listeners,t.listener||""]};case Ko:return{...e,listeners:e.listeners.filter((e=>e!==t.listener))};default:return e}},actions:ts,selectors:{getProductTypes:e=>e.productTypes.list,getCurrentProductType:e=>e.productTypes.list.find((t=>t.slug===e.productTypes.current)),getRegisteredListeners:e=>e.listeners}});(0,E.select)(Yo)||(0,E.register)(os);const ss=({product:e,isDescendantOfAddToCartWithOptions:t,className:o,style:r})=>{const{id:c,permalink:l,add_to_cart:d,has_options:m,is_purchasable:u,is_in_stock:p}=e,{dispatchStoreEvent:g}=fe(),{cartQuantity:_,addingToCart:w,addToCart:k}=(e=>{const{addItemToCart:t}=(0,E.useDispatch)(I.cartStore),{cartItems:o,cartIsLoading:s}=ge(),{createErrorNotice:r,removeNotice:c}=(0,E.useDispatch)("core/notices"),[n,a]=(0,i.useState)(!1),l=(0,i.useRef)($o(o,e));return(0,i.useEffect)((()=>{const t=$o(o,e);t!==l.current&&(l.current=t)}),[o,e]),{cartQuantity:Number.isFinite(l.current)?l.current:0,addingToCart:n,cartIsLoading:s,addToCart:(o=1)=>(a(!0),t(e,o).then((()=>{c("add-to-cart")})).catch((e=>{r((0,te.decodeEntities)(e.message),{id:"add-to-cart",context:"wc/all-products",isDismissible:!0})})).finally((()=>{a(!1)})))}})(c),b=Number.isFinite(_)&&_>0,y=!m&&u&&p,x=(0,te.decodeEntities)(d?.description||""),v=(({cartQuantity:e,productCartDetails:t,isDescendantOfAddToCartWithOptions:o})=>Number.isFinite(e)&&e>0?(0,n.sprintf)(/* translators: %s number of products in cart. */ /* translators: %s number of products in cart. */
(0,n._n)("%d in cart","%d in cart",e,"woocommerce"),e):o&&t?.single_text?t?.single_text:t?.text||(0,n.__)("Add to cart","woocommerce"))({cartQuantity:_,productCartDetails:d,isDescendantOfAddToCartWithOptions:t}),S=y?"button":"a",j={};return y?j.onClick=async()=>{await k(),g("cart-add-item",{product:e});const{cartRedirectAfterAdd:t}=(0,a.getSetting)("productsSettings");t&&(window.location.href=h)}:(j.href=l,j.rel="nofollow",j.onClick=()=>{g("product-view-link",{product:e})}),(0,f.jsx)(S,{...j,"aria-label":x,disabled:w,className:(0,s.A)(o,"wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button",{loading:w,added:b}),style:r,children:v})},rs=({className:e,style:t})=>(0,f.jsx)("button",{className:(0,s.A)("wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button","wc-block-components-product-button__button--placeholder",e),style:t,disabled:!0,children:(0,n.__)("Add to cart","woocommerce")}),cs=({className:e,style:t,blockClientId:o})=>{const{current:r,registerListener:c,unregisterListener:a}=function(){const{productTypes:e,current:t,registeredListeners:o}=(0,E.useSelect)((e=>{const{getProductTypes:t,getCurrentProductType:o,getRegisteredListeners:s}=e(os);return{productTypes:t(),current:o(),registeredListeners:s()}}),[]),{switchProductType:s,registerListener:r,unregisterListener:c}=(0,E.useDispatch)(os);return{productTypes:e,current:t,set:s,registeredListeners:o,registerListener:r,unregisterListener:c}}();(0,i.useEffect)((()=>{if(o)return c(o),()=>{a(o)}}),[o,c,a]);const l="external"===r?.slug?(0,n.__)("Buy product","woocommerce"):(0,n.__)("Add to cart","woocommerce");return(0,f.jsx)("button",{className:(0,s.A)("wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button",e),style:t,disabled:!0,children:l})},ns=e=>{const{className:t,textAlign:o,blockClientId:r}=e,c=Po(e),{parentClassName:n}=(0,So.useInnerBlockLayoutContext)(),{isLoading:i,product:a}=(0,So.useProductDataContext)();return(0,f.jsx)("div",{className:(0,s.A)(t,"wp-block-button","wc-block-components-product-button",{[`${n}__product-add-to-cart`]:n,[`align-${o}`]:o}),children:i?(0,f.jsx)(rs,{className:c.className,style:c.style}):(0,f.jsx)(f.Fragment,{children:a.id?(0,f.jsx)(ss,{product:a,style:c.style,className:c.className,isDescendantOfAddToCartWithOptions:e["woocommerce/isDescendantOfAddToCartWithOptions"]}):(0,f.jsx)(cs,{style:c.style,className:c.className,isLoading:i,blockClientId:r})})})},is=((0,No.withProductDataContext)(ns),({product:e})=>(0,f.jsx)("div",{className:"cross-sells-product",children:(0,f.jsx)(So.InnerBlockLayoutContextProvider,{parentName:"woocommerce/cart-cross-sells-block",parentClassName:"wp-block-cart-cross-sells-product",children:(0,f.jsxs)(So.ProductDataContextProvider,{isLoading:!1,product:e,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(Do,{className:"",showSaleBadge:!0,productId:e.id,showProductLink:!0,saleBadgeAlign:"left",imageSizing:vt.SINGLE,isDescendentOfQueryLoop:!1,scale:"cover",aspectRatio:"1:1"}),(0,f.jsx)(Lo,{align:"",headingLevel:3,showProductLink:!0}),(0,f.jsx)(Uo,{isDescendentOfQueryLoop:!1,isDescendentOfSingleProductBlock:!1,productId:e.id,postId:0,shouldDisplayMockedReviewsWhenProductHasNoReviews:!1}),(0,f.jsx)(qo,{})]}),(0,f.jsx)(ns,{})]})})})),as=({products:e,columns:t})=>{const o=e.map(((e,o)=>o>=t?null:(0,f.jsx)(is,{isLoading:!1,product:e},e.id)));return(0,f.jsx)("div",{children:o})},ls=JSON.parse('{"DD":"Cart Cross-Sells Products","uK":{"Y":{"A":3}},"XV":3}'),ds=({className:e,columns:t})=>{const{crossSellsProducts:o}=ge();return void 0===t&&(t=ls.uK.Y.A),(0,f.jsx)(as,{className:e,columns:t,products:o})};o(535),o(7128),(0,c.registerBlockType)("woocommerce/cart-cross-sells-products-block",{apiVersion:ls.XV,title:ls.DD,icon:{src:(0,f.jsx)(rt.A,{icon:ht.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{className:o,columns:s}=e,c=(0,r.useBlockProps)();return(0,f.jsxs)("div",{...c,children:[(0,f.jsx)(r.InspectorControls,{children:(0,f.jsx)(fo.PanelBody,{title:(0,n.__)("Settings","woocommerce"),children:(0,f.jsx)(fo.RangeControl,{label:(0,n.__)("Cross-Sells products to show","woocommerce"),value:s,onChange:e=>t({columns:e}),min:(0,a.getSetting)("minColumns",1),max:(0,a.getSetting)("maxColumns",6)})})}),(0,f.jsx)(Tt,{children:(0,f.jsx)(ds,{columns:s,className:o})})]})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});const ms=(0,i.forwardRef)((({children:e,className:t=""},o)=>(0,f.jsx)("div",{ref:o,className:(0,s.A)("wc-block-components-sidebar",t),children:e})));o(5675);const us=JSON.parse('{"DD":"Cart Totals","XV":3}');function ps(e){const t=(0,i.useRef)(e);return xe()(e,t.current)||(t.current=e),t.current}(0,c.registerBlockType)("woocommerce/cart-totals-block",{apiVersion:us.XV,title:us.DD,icon:{src:(0,f.jsx)(rt.A,{icon:ht.A,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,r.useBlockProps)({className:"wc-block-cart__sidebar"}),o=dt(et.innerBlockAreas.CART_TOTALS),s=[["woocommerce/cart-order-summary-block",{},[]],["woocommerce/cart-express-payment-block",{},[]],["woocommerce/proceed-to-checkout-block",{},[]],["woocommerce/cart-accepted-payment-methods-block",{},[]]];return mt({clientId:e,registeredBlocks:o,defaultTemplate:s}),(0,f.jsx)(ms,{...t,children:(0,f.jsx)(r.InnerBlocks,{allowedBlocks:o,template:s,templateLock:!1,renderAppender:r.InnerBlocks.ButtonBlockAppender})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})})});const hs=(e=!1)=>{const{paymentMethodsInitialized:t,expressPaymentMethodsInitialized:o,availablePaymentMethods:s,availableExpressPaymentMethods:r}=(0,E.useSelect)((e=>{const t=e(I.paymentStore);return{paymentMethodsInitialized:t.paymentMethodsInitialized(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),availablePaymentMethods:t.getAvailablePaymentMethods()}})),c=Object.values(s).map((({name:e})=>e)),n=Object.values(r).map((({name:e})=>e)),i=(0,Be.getPaymentMethods)(),a=(0,Be.getExpressPaymentMethods)(),l=Object.keys(i).reduce(((e,t)=>(c.includes(t)&&(e[t]=i[t]),e)),{}),d=Object.keys(a).reduce(((e,t)=>(n.includes(t)&&(e[t]=a[t]),e)),{}),m=ps(l),u=ps(d);return{paymentMethods:e?u:m,isInitialized:e?o:t}},gs=()=>hs(!0);var _s=o(7035);const ws={warning:"#F0B849",error:"#CC1818",success:"#46B450",info:"#0073AA"},ks=({status:e="warning",...t})=>(0,f.jsxs)(ot.SVG,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t,children:[(0,f.jsx)("path",{d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z",stroke:ws[e],strokeWidth:"1.5"}),(0,f.jsx)("path",{d:"M13 7H11V13H13V7Z",fill:ws[e]}),(0,f.jsx)("path",{d:"M13 15H11V17H13V15Z",fill:ws[e]})]});o(4459);const bs=({href:e,title:t,description:o,warning:s})=>(0,f.jsxs)("a",{href:e,className:"wc-block-editor-components-external-link-card",target:"_blank",rel:"noreferrer",children:[(0,f.jsxs)("span",{className:"wc-block-editor-components-external-link-card__content",children:[(0,f.jsx)("strong",{className:"wc-block-editor-components-external-link-card__title",children:t}),o&&(0,f.jsx)("span",{className:"wc-block-editor-components-external-link-card__description",dangerouslySetInnerHTML:{__html:so(o)}}),s?(0,f.jsxs)("span",{className:"wc-block-editor-components-external-link-card__warning",children:[(0,f.jsx)(rt.A,{icon:(0,f.jsx)(ks,{status:"error"})}),(0,f.jsx)("span",{children:s})]}):null]}),(0,f.jsx)(fo.VisuallyHidden,{as:"span",children:/* translators: accessibility text */ /* translators: accessibility text */
(0,n.__)("(opens in a new tab)","woocommerce")}),(0,f.jsx)(rt.A,{icon:_s.A,className:"wc-block-editor-components-external-link-card__icon"})]}),ys=["height","borderRadius"],xs=e=>{const t=(0,E.select)(I.paymentStore).getAvailableExpressPaymentMethods();return Object.values(t).reduce(((t,o)=>t||o?.supportsStyle.some((t=>e.includes(t)))),!1)},vs=({attributes:e,setAttributes:t})=>{const{buttonHeight:o,buttonBorderRadius:s}=e;return(0,f.jsxs)(f.Fragment,{children:[xs(["height"])&&(0,f.jsx)(fo.RadioControl,{label:(0,n.__)("Button height","woocommerce"),selected:o,options:[{label:(0,n.__)("Small (40px)","woocommerce"),value:"40"},{label:(0,n.__)("Medium (48px)","woocommerce"),value:"48"},{label:(0,n.__)("Large (55px)","woocommerce"),value:"55"}],onChange:e=>t({buttonHeight:e})}),xs(["borderRadius"])&&(0,f.jsx)("div",{className:"border-radius-control-container",children:(0,f.jsx)(r.HeightControl,{label:(0,n.__)("Button border radius","woocommerce"),value:s,onChange:e=>{const o=e.replace("px","");t({buttonBorderRadius:o})}})})]})},fs=({attributes:e,setAttributes:t})=>e.showButtonStyles?(0,f.jsx)(vs,{attributes:e,setAttributes:t}):null,Ss=()=>{const e=(0,E.select)(I.paymentStore).getAvailableExpressPaymentMethods();return Object.entries(e).length<1?(0,f.jsx)("p",{className:"wc-block-checkout__controls-text",children:(0,n.__)("You currently have no express payment integrations active.","woocommerce")}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:"wc-block-checkout__controls-text",children:(0,n.__)("You currently have the following express payment integrations active.","woocommerce")}),Object.values(e).map((e=>(0,f.jsx)(bs,{href:`${a.ADMIN_URL}admin.php?page=wc-settings&tab=checkout&section=${encodeURIComponent(e.gatewayId)}`,title:e.title,description:e.description},e.name)))]})},js=(0,f.jsxs)(f.Fragment,{children:[(0,n.__)("Apply uniform styles","woocommerce")," ",(0,f.jsx)("span",{className:"express-payment-styles-beta-badge",children:"Beta"})]}),Cs=({attributes:e,setAttributes:t})=>(0,f.jsxs)(r.InspectorControls,{children:[xs(ys)&&(0,f.jsxs)(fo.PanelBody,{title:(0,n.__)("Button Settings","woocommerce"),className:"express-payment-button-settings",children:[(0,f.jsx)(fo.ToggleControl,{label:js,checked:e.showButtonStyles,onChange:()=>t({showButtonStyles:!e.showButtonStyles}),help:(0,n.__)("Sets a consistent style for express payment buttons.","woocommerce")}),(0,f.jsxs)(fo.Notice,{status:"warning",isDismissible:!1,className:"wc-block-checkout__notice express-payment-styles-notice",children:[(0,f.jsxs)("strong",{children:[(0,n.__)("Note","woocommerce"),":"]})," ",(0,n.__)("Some payment methods might not yet support all style controls","woocommerce")]}),(0,f.jsx)(fs,{attributes:e,setAttributes:t})]}),(0,f.jsx)(fo.PanelBody,{title:(0,n.__)("Express Payment Methods","woocommerce"),children:(0,f.jsx)(Ss,{})})]}),Es=(0,f.jsx)(ot.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{fill:"#000",fillRule:"nonzero",d:"M17.3 8v1c1 .2 1.4.9 1.4 1.7h-1c0-.6-.3-1-1-1-.8 0-1.3.4-1.3.9 0 .4.3.6 1.4 1 1 .2 2 .6 2 1.9 0 .9-.6 1.4-1.5 1.5v1H16v-1c-.9-.1-1.6-.7-1.7-1.7h1c0 .6.4 1 1.3 1 1 0 1.2-.5 1.2-.8 0-.4-.2-.8-1.3-1.1-1.3-.3-2.1-.8-2.1-1.8 0-.9.7-1.5 1.6-1.6V8h1.3zM12 10v1H6v-1h6zm2-2v1H6V8h8zM2 4v16h20V4H2zm2 14V6h16v12H4z"}),(0,f.jsx)("path",{stroke:"#000",strokeLinecap:"round",d:"M6 16c2.6 0 3.9-3 1.7-3-2 0-1 3 1.5 3 1 0 1-.8 2.8-.8"})]})});var Ps=o(6600),Ns=o(8486),As=o(6208);o(9287);const Rs={bank:Ps.A,bill:Ns.A,card:As.A,checkPayment:Es},Is=({icon:e="",text:t=""})=>{const o=!!e,r=(0,i.useCallback)((e=>o&&(0,J.isString)(e)&&(0,J.objectHasProp)(Rs,e)),[o]),c=(0,s.A)("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":o});return(0,f.jsxs)("span",{className:c,children:[r(e)?(0,f.jsx)(rt.A,{icon:Rs[e]}):e,t]})},Ts=e=>`wc-block-components-payment-method-icon wc-block-components-payment-method-icon--${e}`,Bs=({id:e,src:t=null,alt:o=""})=>t?(0,f.jsx)("img",{className:Ts(e),src:t,alt:o}):null,Ds=[{id:"alipay",alt:"Alipay",src:d+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:d+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:d+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:d+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:d+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:d+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:d+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:d+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:d+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:d+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:d+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:d+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:d+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:d+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:d+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:d+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:d+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:d+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:d+"payment-methods/wechat.svg"}];o(6983);const Ms=({icons:e=[],align:t="center",className:o})=>{const r=(e=>{const t={};return e.forEach((e=>{let o={};"string"==typeof e&&(o={id:e,alt:e,src:null}),"object"==typeof e&&(o={id:e.id||"",alt:e.alt||"",src:e.src||null}),o.id&&(0,J.isString)(o.id)&&!t[o.id]&&(t[o.id]=o)})),Object.values(t)})(e);if(0===r.length)return null;const c=(0,s.A)("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===t,"wc-block-components-payment-method-icons--align-right":"right"===t},o);return(0,f.jsx)("div",{className:c,children:r.map((e=>{const t={...e,...(o=e.id,Ds.find((e=>e.id===o))||{})};var o;return(0,f.jsx)(Bs,{...t},"payment-method-icon-"+e.id)}))})};o(9961);const Ls=({children:e,className:t,screenReaderLabel:o,showSpinner:r=!1,isLoading:c=!0})=>(0,f.jsxs)("div",{className:(0,s.A)(t,{"wc-block-components-loading-mask":c}),children:[c&&r&&(0,f.jsx)(Vt.Spinner,{}),(0,f.jsx)("div",{className:(0,s.A)({"wc-block-components-loading-mask__children":c}),"aria-hidden":c,children:e}),c&&(0,f.jsx)("span",{className:"screen-reader-text",children:o||(0,n.__)("Loading…","woocommerce")})]}),Os=(e="")=>{const{cartCoupons:t,cartIsLoading:o}=ge(),{applyCoupon:s,removeCoupon:r}=(0,E.useDispatch)(I.cartStore),{isApplyingCoupon:c,isRemovingCoupon:a,orderId:l}=(0,E.useSelect)((e=>({isApplyingCoupon:e(I.cartStore).isApplyingCoupon(),isRemovingCoupon:e(I.cartStore).isRemovingCoupon(),orderId:e(I.checkoutStore).getOrderId()})),[]),d=(0,i.useCallback)((e=>l&&l>0&&e?.data?.details?.checkout?e.data.details.checkout:e?.data?.details?.cart?e.data.details.cart:e.message),[l]);return{appliedCoupons:t,isLoading:o,applyCoupon:(0,i.useCallback)((t=>s(t).then((()=>((0,et.applyCheckoutFilter)({filterName:"showApplyCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&(0,E.dispatch)("core/notices").createNotice("info",(0,n.sprintf)(/* translators: %s coupon code. */ /* translators: %s coupon code. */
(0,n.__)('Coupon code "%s" has been applied to your cart.',"woocommerce"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((e=>{const t=d(e);return(0,E.dispatch)(I.validationStore).setValidationErrors({coupon:{message:(0,te.decodeEntities)(t),hidden:!1}}),Promise.resolve(!1)}))),[s,d,e]),removeCoupon:(0,i.useCallback)((t=>r(t).then((()=>((0,et.applyCheckoutFilter)({filterName:"showRemoveCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&(0,E.dispatch)("core/notices").createNotice("info",(0,n.sprintf)(/* translators: %s coupon code. */ /* translators: %s coupon code. */
(0,n.__)('Coupon code "%s" has been removed from your cart.',"woocommerce"),(0,te.decodeEntities)(t)),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((t=>((0,E.dispatch)("core/notices").createErrorNotice(t.message,{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!1))))),[r,e]),isApplyingCoupon:c,isRemovingCoupon:a}},Fs=(e,t)=>{const o=[],s=(t,o)=>{const s=o+"_tax",r=(0,J.objectHasProp)(e,o)&&(0,J.isString)(e[o])?parseInt(e[o],10):0;return{key:o,label:t,value:r,valueWithTax:r+((0,J.objectHasProp)(e,s)&&(0,J.isString)(e[s])?parseInt(e[s],10):0)}};return o.push(s((0,n.__)("Subtotal:","woocommerce"),"total_items")),o.push(s((0,n.__)("Fees:","woocommerce"),"total_fees")),o.push(s((0,n.__)("Discount:","woocommerce"),"total_discount")),o.push({key:"total_tax",label:(0,n.__)("Taxes:","woocommerce"),value:parseInt(e.total_tax,10),valueWithTax:parseInt(e.total_tax,10)}),t&&o.push(s((0,n.__)("Shipping:","woocommerce"),"total_shipping")),o};class Vs extends i.Component{state={errorMessage:"",hasError:!1};static getDerivedStateFromError(e){return{errorMessage:e.message,hasError:!0}}render(){const{hasError:e,errorMessage:t}=this.state,{isEditor:o}=this.props;if(e){let e=(0,n.__)("We are experiencing difficulties with this payment method. Please contact us for assistance.","woocommerce");(o||a.CURRENT_USER_IS_ADMIN)&&(e=t||(0,n.__)("There was an error with this payment method. Please verify it's configured correctly.","woocommerce"));const s=[{id:"0",content:e,isDismissible:!1,status:"error"}];return(0,f.jsx)(Vt.StoreNoticesContainer,{additionalNotices:s,context:K.PAYMENTS})}return this.props.children}}const zs=Vs,Hs="wc/store/payment",Us=(0,i.createContext)({showButtonStyles:!1,buttonHeight:"48",buttonBorderRadius:"4"}),Ws=()=>{const{isEditor:e}=N(),{showButtonStyles:t,buttonHeight:o,buttonBorderRadius:s}=(0,i.useContext)(Us),r=t?{height:o,borderRadius:s}:void 0,{activePaymentMethod:c,paymentMethodData:l}=(0,E.useSelect)((e=>{const t=e(Hs);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData()}})),{__internalSetActivePaymentMethod:d,__internalSetExpressPaymentStarted:m,__internalSetPaymentIdle:u,__internalSetPaymentError:p,__internalSetPaymentMethodData:h,__internalSetExpressPaymentError:g}=(0,E.useDispatch)(Hs),{paymentMethods:_}=gs(),w=(()=>{const{onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutAfterProcessingWithSuccess:o,onCheckoutAfterProcessingWithError:s,onSubmit:r}=(0,i.useContext)(De),{onCheckoutValidation:c,onCheckoutSuccess:l,onCheckoutFail:d}=Te.checkoutEvents,{isCalculating:m,isComplete:u,isIdle:p,isProcessing:h,customerId:g}=(0,E.useSelect)((e=>{const t=e(I.checkoutStore);return{isComplete:t.isComplete(),isIdle:t.isIdle(),isProcessing:t.isProcessing(),customerId:t.getCustomerId(),isCalculating:t.isCalculating()}}),[]),{paymentIsIdle:_,paymentIsStarted:w,paymentIsProcessing:k,paymentHasError:b,paymentIsReady:y,paymentIsDoingExpressPayment:x,activePaymentMethod:v,shouldSavePayment:f}=(0,E.useSelect)((e=>{const t=e(I.paymentStore);return{paymentIsIdle:t.isPaymentIdle(),paymentIsStarted:t.isExpressPaymentStarted(),paymentIsProcessing:t.isPaymentProcessing(),paymentHasError:t.hasPaymentError(),paymentIsReady:t.isPaymentReady(),paymentIsDoingExpressPayment:t.isExpressPaymentMethodActive(),activePaymentMethod:t.getActivePaymentMethod(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),[]),S={isIdle:_,isStarted:w,isProcessing:k,hasError:b,isReady:y,isDoingExpressPayment:x,get isPristine(){return B()("isPristine",{since:"9.6.0",alternative:"isIdle",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),_},get isFinished(){return B()("isFinished",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),b||y},get hasFailed(){return B()("hasFailed",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),b},get isSuccessful(){return B()("isSuccessful",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),y}},{__internalSetExpressPaymentError:j}=(0,E.useDispatch)(I.paymentStore),{onPaymentProcessing:C,onPaymentSetup:P}=(0,i.useContext)(F),{shippingErrorStatus:N,shippingErrorTypes:A,onShippingRateSuccess:R,onShippingRateFail:T,onShippingRateSelectSuccess:D,onShippingRateSelectFail:M}=Ne(),{shippingRates:L,isLoadingRates:O,selectedRates:V,isSelectingRate:z,selectShippingRate:H,needsShipping:U}=Se(),{billingAddress:W,shippingAddress:q}=(0,E.useSelect)((e=>e(I.cartStore).getCustomerData()),[]),{setShippingAddress:$}=(0,E.useDispatch)(I.cartStore),{cartItems:Y,cartFees:X,cartTotals:G,extensions:Q}=ge(),{appliedCoupons:Z}=Os(),ee=(0,i.useRef)(Fs(G,U)),te=(0,i.useRef)({label:(0,n.__)("Total","woocommerce"),value:parseInt(G.total_price,10)});(0,i.useEffect)((()=>{ee.current=Fs(G,U),te.current={label:(0,n.__)("Total","woocommerce"),value:parseInt(G.total_price,10)}}),[G,U]);const oe=(0,i.useCallback)(((e="")=>{B()("setExpressPaymentError should only be used by Express Payment Methods (using the provided onError handler).",{alternative:"",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),j(e)}),[j]);return{activePaymentMethod:v,billing:{appliedCoupons:Z,billingAddress:W,billingData:W,cartTotal:te.current,cartTotalItems:ee.current,currency:(0,zt.getCurrencyFromPriceResponse)(G),customerId:g,displayPricesIncludingTax:(0,a.getSetting)("displayCartPricesIncludingTax",!1)},cartData:{cartItems:Y,cartFees:X,extensions:Q},checkoutStatus:{isCalculating:m,isComplete:u,isIdle:p,isProcessing:h},components:{LoadingMask:Ls,PaymentMethodIcons:Ms,PaymentMethodLabel:Is,ValidationInputError:Vt.ValidationInputError},emitResponse:{noticeContexts:K,responseTypes:J.responseTypes},eventRegistration:{onCheckoutAfterProcessingWithError:s,onCheckoutAfterProcessingWithSuccess:o,onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutSuccess:l,onCheckoutFail:d,onCheckoutValidation:c,onPaymentProcessing:C,onPaymentSetup:P,onShippingRateFail:T,onShippingRateSelectFail:M,onShippingRateSelectSuccess:D,onShippingRateSuccess:R},onSubmit:r,paymentStatus:S,setExpressPaymentError:oe,shippingData:{isSelectingRate:z,needsShipping:U,selectedRates:V,setSelectedRates:H,setShippingAddress:$,shippingAddress:q,shippingRates:L,shippingRatesLoading:O},shippingStatus:{shippingErrorStatus:N,shippingErrorTypes:A},shouldSavePayment:f}})(),k=(0,i.useRef)(c),b=(0,i.useRef)(l),y=(0,i.useCallback)((e=>()=>{k.current=c,b.current=l,m(),d(e)}),[c,l,d,m]),x=(0,i.useCallback)((()=>{u(),d(k.current,b.current)}),[d,u]),v=(0,i.useCallback)((e=>{p(),h(e),g(e),d(k.current,b.current)}),[d,p,h,g]),S=(0,i.useCallback)(((e="")=>{B()("Express Payment Methods should use the provided onError handler instead.",{alternative:"onError",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),e?v(e):g("")}),[g,v]),j=Object.entries(_),C=j.length>0?j.map((([t,o])=>{const s=e?o.edit:o.content;return(0,i.isValidElement)(s)?(0,f.jsx)("li",{id:`express-payment-method-${t}`,children:(0,i.cloneElement)(s,{...w,onClick:y(t),onClose:x,onError:v,setExpressPaymentError:S,buttonAttributes:r})},t):null})):(0,f.jsx)("li",{children:(0,n.__)("No registered Payment Methods","woocommerce")},"noneRegistered");return(0,f.jsx)(zs,{isEditor:e,children:(0,f.jsx)("ul",{className:"wc-block-components-express-payment__event-buttons",children:C})})};o(2831);const qs=()=>{const{availableExpressPaymentMethods:e={},expressPaymentMethodsInitialized:t,isExpressPaymentMethodActive:o,registeredExpressPaymentMethods:r={}}=(0,E.useSelect)((e=>{const t=e(I.paymentStore);return{availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive(),registeredExpressPaymentMethods:t.getRegisteredExpressPaymentMethods()}}),[]),{hasPendingItemsOperations:c}=ge(),{hasRegisteredExpressPaymentMethods:i,hasRegisteredNotInitializedExpressPaymentMethods:a,hasNoValidRegisteredExpressPaymentMethods:l,availableExpressPaymentsCount:d}=(({availableExpressPaymentMethods:e={},expressPaymentMethodsInitialized:t=!1,registeredExpressPaymentMethods:o={}})=>{const s=Object.keys(o||{}),r=Object.keys(e||{}),c=s.length,n=r.length,i=c>0;return{hasRegisteredExpressPaymentMethods:i,hasRegisteredNotInitializedExpressPaymentMethods:!t&&i,hasNoValidRegisteredExpressPaymentMethods:t&&i&&!n,availableExpressPaymentsCount:n||2}})({availableExpressPaymentMethods:e,expressPaymentMethodsInitialized:t,registeredExpressPaymentMethods:r}),m=!o&&(c||a);return!i||l?null:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:(0,s.A)("wc-block-components-express-payment","wc-block-components-express-payment--cart",{"wc-block-components-express-payment--disabled":o}),"aria-disabled":o,"aria-live":"polite",...o&&{"aria-busy":!0,"aria-label":(0,n.__)("Processing express checkout","woocommerce")},children:(0,f.jsxs)("div",{className:"wc-block-components-express-payment__content",children:[(0,f.jsx)(Vt.StoreNoticesContainer,{context:K.EXPRESS_PAYMENTS}),m?(0,f.jsx)("ul",{className:"wc-block-components-express-payment__event-buttons",children:Array.from({length:d}).map(((e,t)=>(0,f.jsx)("li",{children:(0,f.jsx)(Bt,{height:"48px",ariaMessage:(0,n.__)("Loading express payment method…","woocommerce")})},t)))}):(0,f.jsx)(Ws,{})]})}),(0,f.jsx)("div",{className:"wc-block-components-express-payment-continue-rule wc-block-components-express-payment-continue-rule--cart",children:(0,n.__)("Or","woocommerce")})]})},$s=({className:e})=>{const{cartNeedsPayment:t}=ge();return t?(0,f.jsx)("div",{className:(0,s.A)("wc-block-cart__payment-options",e),children:(0,f.jsx)(qs,{})}):null};o(7467);const Ys=(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,f.jsx)("path",{stroke:"#1E1E1E",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12a6.25 6.25 0 1 1-12.5 0 6.25 6.25 0 0 1 12.5 0Z"}),(0,f.jsx)("path",{fill:"#1E1E1E",d:"M10 3h4v3h-4z"}),(0,f.jsx)("rect",{width:"1.5",height:"5",x:"11.25",y:"8",fill:"#1E1E1E",rx:".75"}),(0,f.jsx)("path",{fill:"#1E1E1E",d:"m15.7 4.816 1.66 1.078-1.114 1.718-1.661-1.078z"})]}),Xs=JSON.parse('{"DD":"Express Checkout","XV":3}');(0,c.registerBlockType)("woocommerce/cart-express-payment-block",{apiVersion:Xs.XV,title:Xs.DD,icon:{src:(0,f.jsx)(rt.A,{style:{fill:"none"},icon:Ys,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{paymentMethods:o,isInitialized:c}=gs(),n=Object.keys(o).length>0,i=(0,r.useBlockProps)({className:(0,s.A)({"wp-block-woocommerce-cart-express-payment-block--has-express-payment-methods":n})}),{className:a,showButtonStyles:l,buttonHeight:d,buttonBorderRadius:m}=e;return c&&n?(0,f.jsxs)("div",{...i,children:[(0,f.jsx)(Cs,{attributes:e,setAttributes:t}),(0,f.jsx)(Us.Provider,{value:{showButtonStyles:l,buttonHeight:d,buttonBorderRadius:m},children:(0,f.jsx)($s,{className:a})})]}):null},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});var Gs=o(6012);const Js=(0,n.__)("Proceed to Checkout","woocommerce"),Ks={checkoutPageId:{type:"number",default:0},lock:{type:"object",default:{move:!0,remove:!0}},buttonLabel:{type:"string",default:Js}};var Qs=o(111);o(6882);const Zs=(0,i.forwardRef)(((e,t)=>{const{className:o,children:r,variant:c="contained",removeTextWrap:n=!1,...i}=e,a=(0,s.A)("wc-block-components-button","wp-element-button",o,c);if("href"in e)return(0,f.jsx)(Qs.$,{render:(0,f.jsx)("a",{ref:t,href:e.href,children:(0,f.jsx)("div",{className:"wc-block-components-button__text",children:r})}),className:a,...i});const l=n?e.children:(0,f.jsx)("div",{className:"wc-block-components-button__text",children:e.children});return(0,f.jsx)(Qs.$,{ref:t,className:a,...i,children:l})})),er=({onChange:e,placeholder:t,value:o,children:s,...c})=>(0,f.jsxs)(Zs,{...c,children:[(0,f.jsx)(r.RichText,{multiline:!1,allowedFormats:[],value:o,placeholder:t,onChange:e}),s]}),tr=(e,t)=>{if(!e.title.raw)return e.slug;const o=1===t.filter((t=>t.title.raw===e.title.raw)).length;return e.title.raw+(o?"":` - ${e.slug}`)},or=({setPageId:e,pageId:t,labels:o})=>{const s=(0,E.useSelect)((e=>e("core").getEntityRecords("postType","page",{status:"publish",orderby:"title",order:"asc",per_page:100})),[])||null;return s?(0,f.jsx)(fo.PanelBody,{title:o.title,children:(0,f.jsx)(fo.SelectControl,{label:(0,n.__)("Link to","woocommerce"),value:t,options:[{label:o.default,value:0},...s.map((e=>({label:tr(e,s),value:parseInt(e.id,10)})))],onChange:t=>e(parseInt(t,10))})}):null};o(2766);const sr=JSON.parse('{"DD":"Proceed to Checkout","XV":3}');(0,c.registerBlockType)("woocommerce/proceed-to-checkout-block",{apiVersion:sr.XV,title:sr.DD,icon:{src:(0,f.jsx)(rt.A,{icon:Gs.A,className:"wc-block-editor-components-block-icon"})},attributes:Ks,edit:({attributes:e,setAttributes:t})=>{const o=(0,r.useBlockProps)(),{checkoutPageId:s=0,buttonLabel:c}=e,{current:a}=(0,i.useRef)(s),l=(0,E.useSelect)((e=>a||e("core/editor").getCurrentPostId()),[a]);return(0,f.jsxs)("div",{...o,children:[(0,f.jsx)(r.InspectorControls,{children:!(l===p&&0===a)&&(0,f.jsx)(or,{pageId:s,setPageId:e=>t({checkoutPageId:e}),labels:{title:(0,n.__)("Proceed to Checkout button","woocommerce"),default:(0,n.__)("WooCommerce Checkout Page","woocommerce")}})}),(0,f.jsx)(er,{className:"wc-block-cart__submit-button",value:c,placeholder:Js,onChange:e=>{t({buttonLabel:e})}})]})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});const rr=(0,f.jsxs)(ot.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,f.jsx)("path",{d:"M22.7 22.7l-20-20L2 2l-.7-.7L0 2.5 4.4 7l2.2 4.7L5.2 14A2 2 0 007 17h7.5l1.3 1.4a2 2 0 102.8 2.8l2.9 2.8 1.2-1.3zM7.4 15a.2.2 0 01-.2-.3l.9-1.7h2.4l2 2h-5zm8.2-2a2 2 0 001.7-1l3.6-6.5.1-.5c0-.6-.4-1-1-1H6.5l9 9zM7 18a2 2 0 100 4 2 2 0 000-4z"}),(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),cr=m?["core/paragraph",{align:"center",content:(0,n.sprintf)(/* translators: %s is the link to the store product directory. */ /* translators: %s is the link to the store product directory. */
(0,n.__)('<a href="%s">Browse store</a>',"woocommerce"),m),dropCap:!1}]:null,nr=[["core/heading",{textAlign:"center",content:(0,n.__)("Your cart is currently empty!","woocommerce"),level:2,className:"with-empty-cart-icon wc-block-cart__empty-cart__title"}],cr,["core/separator",{className:"is-style-dots"}],["core/heading",{textAlign:"center",content:(0,n.__)("New in store","woocommerce"),level:2}],["woocommerce/product-new",{columns:4,rows:1}]].filter(Boolean);o(9685);const ir=JSON.parse('{"DD":"Empty Cart","XV":3}');(0,c.registerBlockType)("woocommerce/empty-cart-block",{apiVersion:ir.XV,title:ir.DD,icon:{src:(0,f.jsx)(rt.A,{icon:rr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,r.useBlockProps)(),{currentView:o}=N(),s=dt(et.innerBlockAreas.EMPTY_CART);return mt({clientId:e,registeredBlocks:s,defaultTemplate:nr}),(0,f.jsx)("div",{...t,hidden:"woocommerce/empty-cart-block"!==o,children:(0,f.jsx)(r.InnerBlocks,{template:nr,templateLock:!1,renderAppender:r.InnerBlocks.ButtonBlockAppender})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})})});const ar=e=>Object.values(e).reduce(((e,t)=>(null!==t.icons&&(e=e.concat(t.icons)),e)),[]),lr=({className:e})=>{const{paymentMethods:t}=hs(!1);return(0,f.jsx)(Ms,{className:e,icons:ar(t)})},dr=JSON.parse('{"DD":"Accepted Payment Methods","XV":3}');(0,c.registerBlockType)("woocommerce/cart-accepted-payment-methods-block",{apiVersion:dr.XV,title:dr.DD,icon:{src:(0,f.jsx)(rt.A,{icon:As.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,r.useBlockProps)();return(0,f.jsx)("div",{...o,children:(0,f.jsx)(lr,{className:t})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});const mr=(0,f.jsxs)(ot.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none",children:[(0,f.jsx)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M6 3.75h12c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),(0,f.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.9 7.5A1.1 1.1 0 018 6.4h8a1.1 1.1 0 011.1 1.1v2a1.1 1.1 0 01-1.1 1.1H8a1.1 1.1 0 01-1.1-1.1v-2zm1.2.1v1.8h7.8V7.6H8.1z",clipRule:"evenodd"}),(0,f.jsx)("path",{fill:"currentColor",d:"M8.5 12h1v1h-1v-1zM8.5 14h1v1h-1v-1zM8.5 16h1v1h-1v-1zM11.5 12h1v1h-1v-1zM11.5 14h1v1h-1v-1zM11.5 16h1v1h-1v-1zM14.5 12h1v1h-1v-1zM14.5 14h1v1h-1v-1zM14.5 16h1v1h-1v-1z"})]});o(9581);const ur=({instanceId:e,isLoading:t=!1,onSubmit:o,displayCouponForm:r=!1})=>{const[c,a]=(0,i.useState)(""),[l,d]=(0,i.useState)(r),m=`wc-block-components-totals-coupon__input-${e}`,{validationErrorId:u}=(0,E.useSelect)((t=>({validationErrorId:t(I.validationStore).getValidationErrorId(e)})),[e]),p=(0,i.useRef)(null);return(0,f.jsx)(Vt.Panel,{className:"wc-block-components-totals-coupon",initialOpen:l,hasBorder:!1,headingLevel:2,title:(0,n.__)("Add coupons","woocommerce"),state:[l,d],children:(0,f.jsx)(Ls,{screenReaderLabel:(0,n.__)("Applying coupon…","woocommerce"),isLoading:t,showSpinner:!1,children:(0,f.jsxs)("div",{className:"wc-block-components-totals-coupon__content",children:[(0,f.jsxs)("form",{className:"wc-block-components-totals-coupon__form",id:"wc-block-components-totals-coupon__form",children:[(0,f.jsx)(Vt.ValidatedTextInput,{id:m,errorId:"coupon",className:"wc-block-components-totals-coupon__input",label:(0,n.__)("Enter code","woocommerce"),value:c,ariaDescribedBy:u||"",onChange:e=>{a(e)},focusOnMount:!0,validateOnMount:!1,showError:!1,ref:p}),(0,f.jsxs)(Zs,{className:(0,s.A)("wc-block-components-totals-coupon__button",{"wc-block-components-totals-coupon__button--loading":t}),disabled:t||!c,onClick:e=>{e.preventDefault(),void 0!==o?o(c)?.then((e=>{e?(a(""),d(!1)):p.current?.focus&&p.current.focus()})):(a(""),d(!0))},type:"submit",children:[t&&(0,f.jsx)(Vt.Spinner,{}),(0,n.__)("Apply","woocommerce")]})]}),(0,f.jsx)(Vt.ValidationInputError,{propertyName:"coupon",elementId:e})]})})})};o(619);const pr={context:"summary"},hr=({cartCoupons:e=[],currency:t,isRemovingCoupon:o,removeCoupon:s,values:r,isLoading:c})=>{const{total_discount:i,total_discount_tax:l}=r,d=parseInt(i,10),m=(0,et.applyCheckoutFilter)({arg:pr,filterName:"coupons",defaultValue:e});if(!d&&0===m.length)return null;const u=parseInt(l,10),p=(0,a.getSetting)("displayCartPricesIncludingTax",!1)?d+u:d;return(0,f.jsx)(Vt.TotalsItem,{className:"wc-block-components-totals-discount",currency:t,description:0!==m.length&&(0,f.jsx)(Ls,{screenReaderLabel:(0,n.__)("Removing coupon…","woocommerce"),isLoading:o,showSpinner:!1,children:(0,f.jsx)("ul",{className:"wc-block-components-totals-discount__coupon-list",children:m.map((e=>(0,f.jsx)(Vt.RemovableChip,{className:"wc-block-components-totals-discount__coupon-list-item",text:e.label,screenReaderText:(0,n.sprintf)(/* translators: %s Coupon code. */ /* translators: %s Coupon code. */
(0,n.__)("Coupon: %s","woocommerce"),e.label),disabled:o,onRemove:()=>{s(e.code)},radius:"large",ariaLabel:(0,n.sprintf)(/* translators: %s is a coupon code. */ /* translators: %s is a coupon code. */
(0,n.__)('Remove coupon "%s"',"woocommerce"),e.label)},"coupon-"+e.code)))})}),label:p?(0,n.__)("Discount","woocommerce"):(0,n.__)("Coupons","woocommerce"),value:p?-1*p:"-",showSkeleton:c})},gr=()=>{const{cartIsLoading:e,isLoadingRates:t,hasPendingItemsOperations:o}=ge(),{isApplyingCoupon:s,isRemovingCoupon:r}=Os(),c=(0,E.useSelect)((e=>e(I.checkoutStore).isCalculating()),[]);return{isLoading:e||t||s||r||c||o}};o(8413);const _r=({currency:e,values:t,className:o,isEstimate:r=!1})=>{const c=(0,a.getSetting)("taxesEnabled",!0)&&(0,a.getSetting)("displayCartPricesIncludingTax",!1),{total_price:l,total_tax:d,tax_lines:m}=t,{receiveCart:u,...p}=ge(),{isLoading:h}=gr(),g=(0,et.applyCheckoutFilter)({filterName:"totalLabel",defaultValue:r?(0,n.__)("Estimated total","woocommerce"):(0,n.__)("Total","woocommerce"),extensions:p.extensions,arg:{cart:p}}),_=(0,et.applyCheckoutFilter)({filterName:"totalValue",defaultValue:"<price/>",extensions:p.extensions,arg:{cart:p},validation:et.productPriceValidation}),w=(0,f.jsx)(Vt.FormattedMonetaryAmount,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:parseInt(l,10)}),k=(0,i.createInterpolateElement)(_,{price:w}),b=parseInt(d,10),y=m&&m.length>0?(0,n.sprintf)(/* translators: %s is a list of tax rates */ /* translators: %s is a list of tax rates */
(0,n.__)("Including %s","woocommerce"),m.map((({name:t,price:o})=>`${(0,zt.formatPrice)(o,e)} ${t}`)).join(", ")):(0,n.__)("Including <TaxAmount/> in taxes","woocommerce"),x=ke(p.shippingRates),v=p.cartNeedsShipping,S=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{children:(0,n.__)("Including","woocommerce")}),(0,f.jsx)(Bt,{height:"1em",width:"45px",tag:"span",ariaMessage:(0,n.__)("Loading price… ","woocommerce")})]});return(0,f.jsx)(Vt.TotalsItem,{className:(0,s.A)("wc-block-components-totals-footer-item",o),currency:e,label:g,value:k,description:(0,f.jsxs)(f.Fragment,{children:[c&&0!==b&&(0,f.jsx)("p",{className:"wc-block-components-totals-footer-item-tax",children:(0,f.jsx)(Mt,{isLoading:h,skeleton:S,children:(0,f.jsx)(f.Fragment,{children:(0,i.createInterpolateElement)(y,{TaxAmount:(0,f.jsx)(Vt.FormattedMonetaryAmount,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:b})})})})}),r&&!x&&v&&(0,f.jsx)("p",{className:"wc-block-components-totals-footer-item-shipping",children:(0,n.__)("Shipping will be calculated at checkout","woocommerce")})]}),showSkeleton:h})},wr=()=>{const{shippingRates:e}=ge(),t=be(e);return t?(0,f.jsx)("div",{className:"wc-block-components-totals-shipping__via",children:(0,te.decodeEntities)(t.filter(((e,o)=>t.indexOf(e)===o)).join(", "))}):null},kr=e=>{const t=(e=>(0,a.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.total_shipping,10)+parseInt(e.total_shipping_tax,10):parseInt(e.total_shipping,10))(e);return 0===t?(0,f.jsx)("strong",{children:(0,n.__)("Free","woocommerce")}):t};o(6562);const br=({label:e=(0,n.__)("Shipping","woocommerce"),placeholder:t=null,collaterals:o=null})=>{const{cartTotals:s,shippingRates:r}=ge(),{isLoading:c}=gr(),i=ke(r),a=be(r),l=a.length>1,d=!i||l?e:a[0];return(0,f.jsx)("div",{className:"wc-block-components-totals-shipping",children:(0,f.jsx)(Vt.TotalsItem,{label:d,value:i?kr(s):t,description:(0,f.jsxs)(f.Fragment,{children:[l&&(0,f.jsx)(wr,{}),o&&(0,f.jsx)("div",{className:"wc-block-components-totals-shipping__collaterals",children:o})]}),currency:(0,zt.getCurrencyFromPriceResponse)(s),showSkeleton:c})})},yr=()=>{const{extensions:e,receiveCart:t,...o}=ge(),s={extensions:e,cart:o,context:"woocommerce/cart"};return(0,f.jsx)(et.ExperimentalOrderMeta.Slot,{...s})},xr=JSON.parse('{"DD":"Order Summary","xY":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"uK":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"XV":3}'),vr=[{attributes:xr.uK,save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})}),supports:xr.xY,migrate:({attributes:e})=>[e,[(0,c.createBlock)("woocommerce/cart-order-summary-heading-block",{content:(0,n.__)("Cart totals","woocommerce")},[]),(0,c.createBlock)("woocommerce/cart-order-summary-coupon-form-block",{},[]),(0,c.createBlock)("woocommerce/cart-order-summary-totals-block",{},[(0,c.createBlock)("woocommerce/cart-order-summary-subtotal-block",{},[]),(0,c.createBlock)("woocommerce/cart-order-summary-fee-block",{},[]),(0,c.createBlock)("woocommerce/cart-order-summary-discount-block",{},[]),(0,c.createBlock)("woocommerce/cart-order-summary-shipping-block",{},[]),(0,c.createBlock)("woocommerce/cart-order-summary-taxes-block",{},[])])]],isEligible:(e,t)=>!t.some((e=>"woocommerce/cart-order-summary-totals-block"===e.name))}],fr=vr;(0,c.registerBlockType)("woocommerce/cart-order-summary-block",{apiVersion:xr.XV,title:xr.DD,icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,r.useBlockProps)(),{cartTotals:o}=ge(),s=(0,zt.getCurrencyFromPriceResponse)(o),c=dt(et.innerBlockAreas.CART_ORDER_SUMMARY),i=[["woocommerce/cart-order-summary-heading-block",{content:(0,n.__)("Cart totals","woocommerce")},[]],["woocommerce/cart-order-summary-coupon-form-block",{},[]],["woocommerce/cart-order-summary-totals-block",{},[]]];return mt({clientId:e,registeredBlocks:c,defaultTemplate:i}),(0,f.jsxs)("div",{...t,children:[(0,f.jsx)(r.InnerBlocks,{allowedBlocks:c,template:i}),(0,f.jsx)("div",{className:"wc-block-components-totals-wrapper",children:(0,f.jsx)(_r,{currency:s,values:o,isEstimate:!0})}),(0,f.jsx)(yr,{})]})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})}),deprecated:fr});const Sr=({className:e=""})=>{const{cartTotals:t}=ge(),{isLoading:o}=gr();if(!parseFloat(t.total_fees)&&!parseFloat(t.total_discount)&&!parseFloat(t.total_shipping))return null;const s=(0,zt.getCurrencyFromPriceResponse)(t);return(0,f.jsx)(Vt.TotalsWrapper,{className:e,children:(0,f.jsx)(Vt.Subtotal,{currency:s,values:t,showSkeleton:o})})},jr=JSON.parse('{"DD":"Subtotal","XV":3}');(0,c.registerBlockType)("woocommerce/cart-order-summary-subtotal-block",{apiVersion:jr.XV,title:jr.DD,icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,r.useBlockProps)();return(0,f.jsx)("div",{...o,children:(0,f.jsx)(Sr,{className:t})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})}),o(2115);const Cr=JSON.parse('{"DD":"Totals","XV":3}');(0,c.registerBlockType)("woocommerce/cart-order-summary-totals-block",{apiVersion:Cr.XV,title:Cr.DD,icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,r.useBlockProps)(),o=dt(et.innerBlockAreas.CART_ORDER_SUMMARY_TOTALS),s=[["woocommerce/cart-order-summary-subtotal-block",{},[]],["woocommerce/cart-order-summary-fee-block",{},[]],["woocommerce/cart-order-summary-discount-block",{},[]],["woocommerce/cart-order-summary-shipping-block",{},[]],["woocommerce/cart-order-summary-taxes-block",{},[]]];return mt({clientId:e,registeredBlocks:o,defaultTemplate:s}),(0,f.jsx)("div",{...t,children:(0,f.jsx)(r.InnerBlocks,{allowedBlocks:o,template:s})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save(),children:(0,f.jsx)(r.InnerBlocks.Content,{})})});const Er=({className:e})=>{const{cartFees:t,cartTotals:o}=ge();if(!t.length)return null;const s=(0,zt.getCurrencyFromPriceResponse)(o);return(0,f.jsx)(Vt.TotalsWrapper,{className:e,children:(0,f.jsx)(Vt.TotalsFees,{currency:s,cartFees:t})})};(0,c.registerBlockType)("woocommerce/cart-order-summary-fee-block",{apiVersion:3,title:"Fees",icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,r.useBlockProps)();return(0,f.jsx)("div",{...o,children:(0,f.jsx)(Er,{className:t})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});const Pr=()=>{const{extensions:e,receiveCart:t,...o}=ge(),s={extensions:e,cart:o,context:"woocommerce/cart"};return(0,f.jsx)(et.ExperimentalDiscountsMeta.Slot,{...s})},Nr=({className:e})=>{const{cartTotals:t,cartCoupons:o}=ge(),{removeCoupon:s,isRemovingCoupon:r}=Os("wc/cart"),{isLoading:c}=gr();if(!o.length)return(0,f.jsx)(Pr,{});const n=(0,zt.getCurrencyFromPriceResponse)(t);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Vt.TotalsWrapper,{className:e,children:(0,f.jsx)(hr,{cartCoupons:o,currency:n,isRemovingCoupon:r,removeCoupon:s,values:t,isLoading:c})}),(0,f.jsx)(Pr,{})]})},Ar=JSON.parse('{"DD":"Discount","XV":3}');(0,c.registerBlockType)("woocommerce/cart-order-summary-discount-block",{apiVersion:Ar.XV,title:Ar.DD,icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,r.useBlockProps)();return(0,f.jsx)("div",{...o,children:(0,f.jsx)(Nr,{className:t})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});const Rr=({className:e})=>{const{cartNeedsShipping:t,shippingRates:o}=ge();return t&&ke(o)?(0,f.jsx)(et.TotalsWrapper,{className:e,children:(0,f.jsx)(br,{label:(0,n.__)("Shipping","woocommerce"),placeholder:(0,f.jsx)("span",{className:"wc-block-components-shipping-placeholder__value",children:(0,n.__)("Calculated at checkout","woocommerce")})})}):null},Ir=JSON.parse('{"DD":"Shipping","XV":3}');(0,c.registerBlockType)("woocommerce/cart-order-summary-shipping-block",{apiVersion:Ir.XV,title:Ir.DD,icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,r.useBlockProps)();return(0,f.jsxs)("div",{...o,children:[(0,f.jsx)(r.InspectorControls,{children:!!_&&(0,f.jsxs)(fo.PanelBody,{title:(0,n.__)("Shipping Calculations","woocommerce"),children:[(0,f.jsx)("p",{className:"wc-block-checkout__controls-text",children:(0,n.__)("Options that control shipping can be managed in your store settings.","woocommerce")}),(0,f.jsx)(fo.ExternalLink,{href:`${a.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&section=options`,children:(0,n.__)("Manage shipping options","woocommerce")})," "]})}),(0,f.jsx)(Tt,{children:(0,f.jsx)(Rr,{className:t})})]})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});var Tr=o(1686);const Br=JSON.parse('{"DD":"Coupon Form","XV":3}'),Dr=({className:e})=>{const t=(0,a.getSetting)("couponsEnabled",!0),{applyCoupon:o,isApplyingCoupon:s}=Os("wc/cart");return t?(0,f.jsx)(Vt.TotalsWrapper,{className:e,children:(0,f.jsx)(ur,{onSubmit:o,isLoading:s,instanceId:"coupon"})}):null};(0,c.registerBlockType)("woocommerce/cart-order-summary-coupon-form-block",{apiVersion:Br.XV,title:Br.DD,icon:{src:(0,f.jsx)(rt.A,{icon:Tr.A,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,r.useBlockProps)();return(0,f.jsx)("div",{...o,children:(0,f.jsx)(Tt,{children:(0,f.jsx)(Dr,{className:t})})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})});const Mr=({className:e,showRateAfterTaxName:t})=>{const{cartTotals:o}=ge(),{isLoading:s}=gr();if((0,a.getSetting)("displayCartPricesIncludingTax",!1)||parseInt(o.total_tax,10)<=0)return null;const r=(0,zt.getCurrencyFromPriceResponse)(o);return(0,f.jsx)(Vt.TotalsWrapper,{className:e,children:(0,f.jsx)(Vt.TotalsTaxes,{showRateAfterTaxName:t,currency:r,values:o,showSkeleton:s})})},Lr={showRateAfterTaxName:{type:"boolean",default:(0,a.getSetting)("displayCartPricesIncludingTax",!1)},lock:{type:"object",default:{remove:!0,move:!1}}},Or=JSON.parse('{"DD":"Taxes","XV":3}');(0,c.registerBlockType)("woocommerce/cart-order-summary-taxes-block",{apiVersion:Or.XV,title:Or.DD,icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},attributes:Lr,edit:({attributes:e,setAttributes:t})=>{const{className:o,showRateAfterTaxName:s}=e,c=(0,r.useBlockProps)(),i=(0,a.getSetting)("taxesEnabled"),l=(0,a.getSetting)("displayItemizedTaxes",!1),d=(0,a.getSetting)("displayCartPricesIncludingTax",!1);return(0,f.jsxs)("div",{...c,children:[(0,f.jsx)(r.InspectorControls,{children:i&&l&&!d&&(0,f.jsx)(fo.PanelBody,{title:(0,n.__)("Taxes","woocommerce"),children:(0,f.jsx)(fo.ToggleControl,{label:(0,n.__)("Show rate after tax name","woocommerce"),help:(0,n.__)("Show the percentage rate alongside each tax line in the summary.","woocommerce"),checked:s,onChange:()=>t({showRateAfterTaxName:!s})})})}),(0,f.jsx)(Mr,{className:o,showRateAfterTaxName:s})]})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})}),o(3580);const Fr=JSON.parse('{"DD":"Heading","XV":3}');(0,c.registerBlockType)("woocommerce/cart-order-summary-heading-block",{apiVersion:Fr.XV,title:Fr.DD,icon:{src:(0,f.jsx)(rt.A,{icon:mr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{content:o="",className:c=""}=e,n=(0,r.useBlockProps)();return(0,f.jsx)("div",{...n,children:(0,f.jsx)("h2",{className:(0,s.A)(c,"wc-block-cart__totals-title"),children:(0,f.jsx)(r.PlainText,{className:"",value:o,onChange:e=>t({content:e}),style:{backgroundColor:"transparent"}})})})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save()})}),o(9184);const Vr=(e,t=!0)=>{t?window.document.body.classList.add(e):window.document.body.classList.remove(e)},zr=({attributes:e,setAttributes:t})=>{const{hasDarkControls:o,showFormStepNumbers:s}=e;return(0,f.jsx)(r.InspectorControls,{children:(0,f.jsxs)(fo.PanelBody,{title:(0,n.__)("Style","woocommerce"),children:[(0,f.jsx)(fo.ToggleControl,{label:(0,n.__)("Show form step numbers","woocommerce"),checked:s,onChange:()=>t({showFormStepNumbers:!s})}),(0,f.jsx)(fo.ToggleControl,{label:(0,n.__)("Dark mode inputs","woocommerce"),help:(0,n.__)("Inputs styled specifically for use on dark background colors.","woocommerce"),checked:o,onChange:()=>t({hasDarkControls:!o})})]})})},Hr=window.wp.editor,Ur=window.wp.coreData;function Wr({block:e}){const t="checkout"===e?u:p,o="checkout"===e?"woocommerce_checkout_page_id":"woocommerce_cart_page_id",{saveEntityRecord:s}=(0,E.useDispatch)(Ur.store),{editPost:r,savePost:c}=(0,E.useDispatch)(Hr.store),{slug:a,postPublished:l,currentPostId:d}=(0,E.useSelect)((o=>{const{getEntityRecord:s}=o(Ur.store),{isCurrentPostPublished:r,getCurrentPostId:c}=o(Hr.store);return{slug:s("postType","page",t)?.slug||e,postPublished:r(),currentPostId:c()}}),[]),[m,h]=(0,i.useState)("pristine"),g=(0,i.useCallback)((()=>{h("updating"),Promise.resolve().then((()=>Oe()({path:`/wc/v3/settings/advanced/${o}`,method:"GET"}))).catch((e=>{"rest_setting_setting_invalid"===e.code&&h("error")})).then((()=>{if(!l)return r({status:"publish"}),c()})).then((()=>Oe()({path:`/wc/v3/settings/advanced/${o}`,method:"POST",data:{value:d.toString()}}))).then((()=>{if(0!==t)return s("postType","page",{id:t,slug:`${a}-2`})})).then((()=>r({slug:a}))).then((()=>c())).then((()=>h("updated")))}),[l,r,c,o,d,t,s,a]);let _;return _="checkout"===e?(0,i.createInterpolateElement)((0,n.__)("If you would like to use this block as your default checkout, <a>update your page settings</a>.","woocommerce"),{a:(0,f.jsx)("a",{href:"#",onClick:g,children:(0,n.__)("update your page settings","woocommerce")})}):(0,i.createInterpolateElement)((0,n.__)("If you would like to use this block as your default cart, <a>update your page settings</a>.","woocommerce"),{a:(0,f.jsx)("a",{href:"#",onClick:g,children:(0,n.__)("update your page settings","woocommerce")})}),"string"==typeof pagenow&&"site-editor"===pagenow||d===t||"dismissed"===m?null:(0,f.jsx)(fo.Notice,{className:"wc-default-page-notice",status:"updated"===m?"success":"info",onRemove:()=>h("dismissed"),spokenMessage:"updated"===m?(0,n.__)("Page settings updated","woocommerce"):_,children:"updated"===m?(0,n.__)("Page settings updated","woocommerce"):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("p",{children:_})})})}o(3650);var qr=o(2174);const $r=[],Yr=e=>{const[t,o,s]=(()=>{const e={};(0,a.getSetting)("incompatibleExtensions")&&(0,a.getSetting)("incompatibleExtensions").forEach((t=>{e[t.id]=t.title}));const t=Object.keys(e),o=t.length;return[e,t,o]})(),[r,c,n]=(()=>{const{incompatiblePaymentMethods:e}=(0,E.useSelect)((e=>{const{getIncompatiblePaymentMethods:t}=e(I.paymentStore);return{incompatiblePaymentMethods:t()}}),[]),t=Object.keys(e);return[e,t,t.length]})(),l={...t,...r},d=[...o,...c],m=s+n,[u,p]=((e,t)=>{const[o,s]=(0,i.useState)((()=>{const o=window.localStorage.getItem(e);if(o)try{return JSON.parse(o)}catch{console.error(`Value for key '${e}' could not be retrieved from localStorage because it can't be parsed.`)}return t}));return(0,i.useEffect)((()=>{try{window.localStorage.setItem(e,JSON.stringify(o))}catch{console.error(`Value for key '${e}' could not be saved in localStorage because it can't be converted into a string.`)}}),[e,o]),[o,s]})("wc-blocks_dismissed_incompatible_extensions_notices",$r),[h,g]=(0,i.useState)(!1),_=u.some((t=>{return Object.keys(t).includes(e)&&(o=t[e],s=d,o.length===s.length&&new Set([...o,...s]).size===o.length);var o,s})),w=0===m||_;return(0,i.useEffect)((()=>{g(!w),w||_||p((t=>t.reduce(((t,o)=>(Object.keys(o).includes(e)||t.push(o),t)),[])))}),[w,_,p,e]),[h,()=>{const t=new Set(u);t.add({[e]:d}),p([...t])},(k=l,Object.fromEntries(Object.entries(k).sort((([,e],[,t])=>e.localeCompare(t))))),m];var k};var Xr=o(1244),Gr=o.n(Xr);Gr()("wc-admin:tracks:stats");const Jr=Gr()("wc-admin:tracks");function Kr(e,t){if(Jr("recordevent %s %o","wcadmin_"+e,t,{_tqk:window._tkq,shouldRecord:!!window._tkq&&!!window.wcTracks&&!!window.wcTracks.isEnabled}),!window.wcTracks||"function"!=typeof window.wcTracks.recordEvent)return!1;window.wcTracks.recordEvent(e,t)}const Qr=({blocks:e,findCondition:t})=>{for(const o of e){if(t(o))return o;if(o.innerBlocks){const e=Qr({blocks:o.innerBlocks,findCondition:t});if(e)return e}}},Zr=({blockType:e="woocommerce/cart"})=>"woocommerce/cart"===e?(0,f.jsx)("p",{children:(0,n.__)("If you continue, the cart block will be replaced with the classic experience powered by shortcodes. This means that you may lose customizations that you made to the cart block.","woocommerce")}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:(0,n.__)("If you continue, the checkout block will be replaced with the classic experience powered by shortcodes. This means that you may lose:","woocommerce")}),(0,f.jsxs)("ul",{className:"cross-list",children:[(0,f.jsx)("li",{children:(0,n.__)("Customizations and updates to the block","woocommerce")}),(0,f.jsx)("li",{children:(0,n.__)("Additional local pickup options created for the new checkout","woocommerce")})]})]});function ec({block:e,clientId:t,type:o}){const{createInfoNotice:s}=(0,E.useDispatch)(Ie.store),{replaceBlock:a,selectBlock:l}=(0,E.useDispatch)(r.store),[d,m]=(0,i.useState)(!1),u=()=>m(!1),{undo:p}=(0,E.useDispatch)(Ur.store),[,,h,g]=Yr(e),_="woocommerce/cart"===e,w=_?(0,n.__)("Switch to classic cart","woocommerce"):(0,n.__)("Switch to classic checkout","woocommerce"),k=_?(0,n.__)("Switched to classic cart.","woocommerce"):(0,n.__)("Switched to classic checkout.","woocommerce"),b=_?"cart":"checkout",y={shortcode:b,notice:"incompatible"===o?"incompatible_notice":"generic_notice",incompatible_extensions_count:g,incompatible_extensions_names:JSON.stringify(h)},{getBlocks:x}=(0,E.useSelect)((e=>({getBlocks:e(r.store).getBlocks})),[]),v=()=>{p(),Kr("switch_to_classic_shortcode_undo",y)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(fo.Button,{variant:"secondary",onClick:()=>{Kr("switch_to_classic_shortcode_click",y),m(!0)},children:w}),d&&(0,f.jsxs)(fo.Modal,{size:"medium",title:w,onRequestClose:u,className:"wc-blocks-switch-to-classic-shortcode-modal-content",children:[(0,f.jsx)(Zr,{blockType:e}),(0,f.jsxs)(fo.TabbableContainer,{className:"wc-blocks-switch-to-classic-shortcode-modal-actions",children:[(0,f.jsx)(fo.Button,{variant:"primary",isDestructive:!0,onClick:()=>{a(t,(0,c.createBlock)("woocommerce/classic-shortcode",{shortcode:b})),Kr("switch_to_classic_shortcode_confirm",y),(()=>{const e=Qr({blocks:x(),findCondition:e=>"woocommerce/classic-shortcode"===e.name});e&&l(e.clientId)})(),s(k,{actions:[{label:(0,n.__)("Undo","woocommerce"),onClick:v}],type:"snackbar"}),u()},children:(0,n.__)("Switch","woocommerce")})," ",(0,f.jsx)(fo.Button,{variant:"secondary",onClick:()=>{Kr("switch_to_classic_shortcode_cancel",y),u()},children:(0,n.__)("Cancel","woocommerce")})]})]})]})}function tc({block:e,clientId:t}){const[o,s,r,c]=Yr(e);if(!o)return null;const a=(0,f.jsx)(f.Fragment,{children:c>1?(0,i.createInterpolateElement)((0,n.__)("Some active extensions do not yet support this block. This may impact the shopper experience. <a>Learn more</a>","woocommerce"),{a:(0,f.jsx)(fo.ExternalLink,{href:"https://woocommerce.com/document/woocommerce-store-editing/customizing-cart-and-checkout/#incompatible-extensions/"})}):(0,i.createInterpolateElement)((0,n.sprintf)(
// translators: %s is the name of the extension.
// translators: %s is the name of the extension.
(0,n.__)("<strong>%s</strong> does not yet support this block. This may impact the shopper experience. <a>Learn more</a>","woocommerce"),Object.values(r)[0]),{strong:(0,f.jsx)("strong",{}),a:(0,f.jsx)(fo.ExternalLink,{href:"https://woocommerce.com/document/woocommerce-store-editing/customizing-cart-and-checkout/#incompatible-extensions/"})})}),l=Object.entries(r),d=l.length-2;return(0,f.jsx)(fo.Notice,{className:"wc-blocks-incompatible-extensions-notice",status:"warning",onRemove:s,spokenMessage:a,children:(0,f.jsxs)("div",{className:"wc-blocks-incompatible-extensions-notice__content",children:[(0,f.jsx)(rt.A,{className:"wc-blocks-incompatible-extensions-notice__warning-icon",icon:(0,f.jsx)(ks,{})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{children:a}),c>1&&(0,f.jsx)("ul",{children:l.slice(0,2).map((([e,t])=>(0,f.jsx)("li",{className:"wc-blocks-incompatible-extensions-notice__element",children:t},e)))}),l.length>2&&(0,f.jsxs)("details",{children:[(0,f.jsxs)("summary",{children:[(0,f.jsx)("span",{children:(0,n.sprintf)(
// translators: %s is the number of incompatible extensions.
// translators: %s is the number of incompatible extensions.
(0,n._n)("%s more incompatibility","%s more incompatibilities",d,"woocommerce"),d)}),(0,f.jsx)(rt.A,{icon:qr.A})]}),(0,f.jsx)("ul",{children:l.slice(2).map((([e,t])=>(0,f.jsx)("li",{className:"wc-blocks-incompatible-extensions-notice__element",children:t},e)))})]}),(0,f.jsx)(ec,{block:e,clientId:t,type:"incompatible"})]})]})})}o(4490),o(6342);var oc=o(3791);o(4268);const sc=({text:e,title:t=(0,n.__)("Feedback?","woocommerce"),url:o})=>{const[s,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r(!0)}),[]),(0,f.jsx)(f.Fragment,{children:s&&(0,f.jsxs)("div",{className:"wc-block-feedback-prompt",children:[(0,f.jsx)(rt.A,{icon:oc.A}),(0,f.jsx)("h2",{className:"wc-block-feedback-prompt__title",children:t}),(0,f.jsx)("p",{className:"wc-block-feedback-prompt__text",children:e}),(0,f.jsxs)("a",{href:o,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank",children:[(0,n.__)("Give us your feedback.","woocommerce"),(0,f.jsx)(rt.A,{icon:_s.A,size:16})]})]})})},rc=()=>(0,f.jsx)(sc,{text:(0,n.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woocommerce"),url:"https://github.com/woocommerce/woocommerce/discussions/new?category=checkout-flow&labels=type%3A+product%20feedback"}),cc=({clientId:e})=>{const{isCart:t,isCheckout:o,parentId:s}=(0,E.useSelect)((t=>{const{getBlockParentsByBlockName:o,getBlockName:s}=t(r.store),c=o(e,["woocommerce/cart","woocommerce/checkout"]).reduce(((e,t)=>(e[s(t)]=t,e)),{}),n=s(e),i=Object.keys(c).includes("woocommerce/cart"),a=Object.keys(c).includes("woocommerce/checkout"),l="woocommerce/cart"===n||i,d=l?"woocommerce/cart":"woocommerce/checkout";return{isCart:l,isCheckout:"woocommerce/checkout"===n||a,parentId:n===d?e:c[d]}}),[e]);return(t||o)&&(0,f.jsxs)(r.InspectorControls,{children:[(0,f.jsx)(tc,{block:t?"woocommerce/cart":"woocommerce/checkout",clientId:s}),(0,f.jsx)(Wr,{block:o?"checkout":"cart"}),(0,f.jsx)(rc,{})]})},nc=(0,ct.createHigherOrderComponent)((e=>t=>{const{clientId:o,name:s,isSelected:r}=t;return(0,f.jsxs)(f.Fragment,{children:[s.startsWith("woocommerce/")&&r&&(0,f.jsx)(cc,{clientId:o}),(0,f.jsx)(e,{...t},"edit")]})}),"withSidebarNotices");(0,ve.hasFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice")||(0,ve.addFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice",nc,11);const ic=(0,f.jsxs)(ot.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,f.jsx)("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"})]}),ac=(e,t,o=!0)=>{const{updateBlockAttributes:s,selectBlock:r}=(0,E.dispatch)("core/block-editor");s(e,{currentView:t}),o&&r((0,E.select)("core/block-editor").getBlock(e)?.innerBlocks.find((e=>e.name===t))?.clientId||e)},lc={views:[],currentView:"",viewClientId:""},dc=(e,t=10,o=0)=>{const s=o+1;if(s>t)return lc;const{getBlockAttributes:r,getBlockRootClientId:c}=(0,E.select)("core/block-editor"),n=c(e);if(null===n||""===n)return lc;const i=r(n);return i?void 0!==i.editorViews?{views:i.editorViews,currentView:i.currentView||i.editorViews[0].view,viewClientId:n}:dc(n,t,s):lc},mc=({currentView:e,views:t,clientId:o})=>{const{getBlockName:s,getSelectedBlockClientId:c,getBlockParentsByBlockName:a}=(0,E.useSelect)((e=>{const t=e("core/block-editor");return{getBlockName:t.getBlockName,getSelectedBlockClientId:t.getSelectedBlockClientId,getBlockParentsByBlockName:t.getBlockParentsByBlockName}}),[]),l=c(),d=((e,t)=>t.find((t=>t.view===e)))(e,t)||t[0],m=d.label;return(0,i.useLayoutEffect)((()=>{const r=l?s(l):null;if(!r||e===r)return;const c=t.map((e=>e.view));if(c.includes(r))return void ac(o,r);const n=a(l,c),i=1===n.length?s(n[0]):null;i&&e!==i&&ac(o,i,!1)}),[o,e,s,a,l,t]),(0,f.jsx)(r.BlockControls,{children:(0,f.jsx)(fo.ToolbarGroup,{children:(0,f.jsx)(fo.ToolbarDropdownMenu,{label:(0,n.__)("Switch view","woocommerce"),text:m,icon:(0,f.jsx)(rt.A,{icon:ic,style:{marginRight:"8px"}}),controls:t.map((t=>({...t,title:(0,f.jsx)("span",{style:{marginLeft:"8px"},children:t.label}),isActive:t.view===e,onClick:()=>{ac(o,t.view)}})))})})})};(0,ve.hasFilter)("editor.BlockEdit","woocommerce/with-view-switcher")||(0,ve.addFilter)("editor.BlockEdit","woocommerce/with-view-switcher",(e=>t=>{const{clientId:o}=t,{views:s,currentView:r,viewClientId:c}=(0,E.useSelect)((e=>{const t=e("core/block-editor").getBlockAttributes(o);return t?.editorViews?{views:t.editorViews,currentView:t.currentView,viewClientId:o}:dc(o)}));return 0===s.length?(0,f.jsx)(e,{...t}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(mc,{currentView:r,views:s,clientId:c}),(0,f.jsx)(e,{...t})]})}),11),(0,ve.hasFilter)("blocks.registerBlockType","core/lock/addAttribute")||(0,E.subscribe)((()=>{const e=(0,E.select)(r.store);if(!e)return;const t=e.getSelectedBlock();t&&(Vr("wc-lock-selected-block--remove",!!t?.attributes?.lock?.remove),Vr("wc-lock-selected-block--move",!!t?.attributes?.lock?.move))}));const uc=["woocommerce/filled-cart-block","woocommerce/empty-cart-block"],pc={isPreview:{type:"boolean",default:!1},currentView:{type:"string",default:"woocommerce/filled-cart-block",source:"readonly"},editorViews:{type:"object",default:[{view:"woocommerce/filled-cart-block",label:(0,n.__)("Filled Cart","woocommerce"),icon:(0,f.jsx)(rt.A,{icon:st})},{view:"woocommerce/empty-cart-block",label:(0,n.__)("Empty Cart","woocommerce"),icon:(0,f.jsx)(rt.A,{icon:rr})}]},hasDarkControls:{type:"boolean",default:(0,a.getSetting)("hasDarkEditorStyleSupport",!1)},checkoutPageId:{type:"number",default:0},showRateAfterTaxName:{type:"boolean",default:!0},align:{type:"string",default:"wide"}},hc=(0,f.jsxs)(ot.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,f.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,f.jsx)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})]}),gc={title:(0,n.__)("Cart","woocommerce"),apiVersion:3,icon:{src:(0,f.jsx)(rt.A,{icon:hc,className:"wc-block-editor-components-block-icon"})},category:"woocommerce",keywords:[(0,n.__)("WooCommerce","woocommerce")],description:(0,n.__)("Shopping cart.","woocommerce"),supports:{align:["wide"],html:!1,multiple:!1},example:{attributes:{isPreview:!0},viewportWidth:800},attributes:pc,edit:({clientId:e,className:t,attributes:o,setAttributes:a})=>{const{hasDarkControls:l,currentView:d,isPreview:m=!1}=o,u=((e={})=>{const t=(0,i.useRef)(),o=(0,r.useBlockProps)({ref:t,...e});return(({ref:e})=>{const t=(0,ve.hasFilter)("blocks.registerBlockType","core/lock/addAttribute"),o=e.current;(0,i.useEffect)((()=>{if(o&&!t)return o.addEventListener("keydown",e,{capture:!0,passive:!1}),()=>{o.removeEventListener("keydown",e,{capture:!0})};function e(e){const{keyCode:t,target:o}=e;if(!(o instanceof HTMLElement))return;if(t!==Ot.BACKSPACE&&t!==Ot.DELETE)return;if((0,At.isTextField)(o))return;const s=o;if(void 0===s.dataset.block)return;const n=(e=>{if(!e)return!1;const{getBlock:t}=(0,E.select)(r.store),o=t(e);if("boolean"==typeof o?.attributes?.lock?.remove)return o.attributes.lock.remove;const s=(0,c.getBlockType)(o.name);return"boolean"==typeof s?.attributes?.lock?.default?.remove&&s?.attributes?.lock?.default?.remove})(s.dataset.block);n&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}}),[o,t])})({ref:t}),o})({className:(0,s.A)(t,"wp-block-woocommerce-cart",{"is-editor-preview":m})}),p=(0,i.useRef)((0,tt.getQueryArg)(window.location.href,"focus"));return(0,i.useEffect)((()=>{"cart"!==p.current||(0,E.select)("core/block-editor").hasSelectedBlock()||((0,E.dispatch)("core/block-editor").selectBlock(e),(0,E.dispatch)("core/interface").enableComplementaryArea("core/edit-site","edit-site/block-inspector"))}),[e]),(0,f.jsxs)("div",{...u,children:[(0,f.jsx)(r.InspectorControls,{children:(0,f.jsx)(zr,{attributes:o,setAttributes:a})}),(0,f.jsx)(C,{header:(0,n.__)("Cart Block Error","woocommerce"),text:(0,n.__)("There was an error whilst rendering the cart block. If this problem continues, try re-creating the block.","woocommerce"),showErrorMessage:!0,errorMessagePrefix:(0,n.__)("Error message:","woocommerce"),children:(0,f.jsx)(A,{previewData:{previewCart:Ze},currentView:d,isPreview:!!m,children:(0,f.jsx)(ut.Provider,{value:{hasDarkControls:l},children:(0,f.jsx)(et.SlotFillProvider,{children:(0,f.jsx)(Ue,{children:(0,f.jsx)(r.InnerBlocks,{allowedBlocks:uc,template:[["woocommerce/filled-cart-block",{},[]],["woocommerce/empty-cart-block",{},[]]],templateLock:"insert"})})})})})})]})},save:()=>(0,f.jsx)("div",{...r.useBlockProps.save({className:"is-loading"}),children:(0,f.jsx)(r.InnerBlocks.Content,{})}),transforms:{to:[{type:"block",blocks:["woocommerce/classic-shortcode"],transform:e=>(0,c.createBlock)("woocommerce/classic-shortcode",{shortcode:"cart",align:e.align},[])}]},deprecated:[{attributes:pc,save:({attributes:e})=>(0,f.jsx)("div",{className:(0,s.A)("is-loading",e.className),children:(0,f.jsx)(r.InnerBlocks.Content,{})}),migrate:(e,t)=>{const{checkoutPageId:o,align:s}=e;return[e,[(0,c.createBlock)("woocommerce/filled-cart-block",{align:s},[(0,c.createBlock)("woocommerce/cart-items-block"),(0,c.createBlock)("woocommerce/cart-totals-block",{},[(0,c.createBlock)("woocommerce/cart-order-summary-block",{}),(0,c.createBlock)("woocommerce/cart-express-payment-block"),(0,c.createBlock)("woocommerce/proceed-to-checkout-block",{checkoutPageId:o}),(0,c.createBlock)("woocommerce/cart-accepted-payment-methods-block")])]),(0,c.createBlock)("woocommerce/empty-cart-block",{align:s},t)]]},isEligible:(e,t)=>!t.find((e=>"woocommerce/filled-cart-block"===e.name))}]};(0,c.registerBlockType)("woocommerce/cart",gc)},7316:()=>{},1189:()=>{},7545:()=>{},4313:()=>{},7578:()=>{},5893:()=>{},6882:()=>{},359:()=>{},6983:()=>{},9287:()=>{},7605:()=>{},3692:()=>{},8879:()=>{},9581:()=>{},619:()=>{},8413:()=>{},6562:()=>{},9961:()=>{},959:()=>{},8501:()=>{},9959:()=>{},9163:()=>{},2336:()=>{},2405:()=>{},2831:()=>{},9184:()=>{},535:()=>{},7128:()=>{},7467:()=>{},3580:()=>{},2115:()=>{},5675:()=>{},9685:()=>{},398:()=>{},2766:()=>{},7826:()=>{},3650:()=>{},4459:()=>{},4268:()=>{},6342:()=>{},4490:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},195:e=>{"use strict";e.exports=window.wp.a11y},9491:e=>{"use strict";e.exports=window.wp.compose},4040:e=>{"use strict";e.exports=window.wp.deprecated},8107:e=>{"use strict";e.exports=window.wp.dom},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},8558:e=>{"use strict";e.exports=window.wp.keycodes},5573:e=>{"use strict";e.exports=window.wp.primitives}},r={};function c(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return s[e].call(o.exports,o,o.exports,c),o.exports}c.m=s,e=[],c.O=(t,o,s,r)=>{if(!o){var n=1/0;for(d=0;d<e.length;d++){for(var[o,s,r]=e[d],i=!0,a=0;a<o.length;a++)(!1&r||n>=r)&&Object.keys(c.O).every((e=>c.O[e](o[a])))?o.splice(a--,1):(i=!1,r<n&&(n=r));if(i){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var r=Object.create(null);c.r(r);var n={};t=t||[null,o({}),o([]),o(o)];for(var i=2&s&&e;"object"==typeof i&&!~t.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,c.d(r,n),r},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.j=7949,(()=>{var e={7949:0};c.O.j=t=>0===e[t];var t=(t,o)=>{var s,r,[n,i,a]=o,l=0;if(n.some((t=>0!==e[t]))){for(s in i)c.o(i,s)&&(c.m[s]=i[s]);if(a)var d=a(c)}for(t&&t(o);l<n.length;l++)r=n[l],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return c.O(d)},o=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=c.O(void 0,[94],(()=>c(8084)));n=c.O(n),((this.wc=this.wc||{}).blocks=this.wc.blocks||{}).cart=n})();
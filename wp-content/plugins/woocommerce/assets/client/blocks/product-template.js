(()=>{"use strict";var e,t,o,r={4019:(e,t,o)=>{const r=window.wp.blocks,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"woocommerce/product-template","title":"Product Template","category":"woocommerce","description":"Contains the block elements used to render a product.","keywords":["WooCommerce"],"textdomain":"woocommerce","usesContext":["queryId","query","queryContext","displayLayout","templateSlug","postId","queryContextIncludes","collection","__privateProductCollectionPreviewState"],"supports":{"interactivity":true,"inserter":false,"reusable":false,"html":false,"align":["wide","full"],"anchor":true,"color":{"gradients":true,"link":true,"__experimentalDefaultControls":{"background":true,"text":true}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"layout":{"allowEditing":false,"allowSwitching":false,"allowInheriting":false,"allowSizingOnChildren":false,"allowVerticalAlignment":false},"email":true},"editorStyle":"file:../woocommerce/product-template-editor.css","style":"file:../woocommerce/product-template-style.css"}');var c=o(4921),s=o(6087);const l=window.wp.data;var i=o(7723);const a=window.wp.blockEditor,u=window.wp.components,d=window.wp.coreData,p=window.wc.wcSettings,m=window.wc.wcTypes,g=window.wc.wcBlocksSharedContext;var y=o(9491);window.wp.url;const x=window.wp.apiFetch;var f=o.n(x),w=o(790);const h=(0,y.createHigherOrderComponent)((e=>class extends s.Component{state={error:null,loading:!1,product:"preview"===this.props.attributes.productId?this.props.attributes.previewProduct:null};componentDidMount(){this.loadProduct()}componentDidUpdate(e){e.attributes.productId!==this.props.attributes.productId&&this.loadProduct()}loadProduct=()=>{const{productId:e}=this.props.attributes;"preview"!==e&&(e?(this.setState({loading:!0}),(e=>f()({path:`/wc/store/v1/products/${e}`}))(e).then((e=>{this.setState({product:e,loading:!1,error:null})})).catch((async e=>{const t=await(async e=>{if(!("json"in e))return{code:e.code||"",message:e.message,type:e.type||"general"};try{const t=await e.json();return{code:t.code||"",message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}})(e);this.setState({product:null,loading:!1,error:t})}))):this.setState({product:null,loading:!1,error:null}))};render(){const{error:t,loading:o,product:r}=this.state;return(0,w.jsx)(e,{...this.props,error:t,getProduct:this.loadProduct,isLoading:o,product:r})}}),"withProduct");let b=function(e){return e.Product="product",e.Archive="archive",e.Cart="cart",e.Order="order",e.Site="site",e}({});const k="single-product",_="taxonomy-product_cat",v="taxonomy-product_tag",I="taxonomy-product_brand",C=async(e,t,o,r)=>{var n;r((n=await(0,l.resolveSelect)(d.store).getEntityRecords(e,t,{_fields:["id"],slug:o}))&&n.length&&n[0]?.id?n[0].id:null)},S=(e,t={})=>({type:e,sourceData:t}),P=JSON.parse('{"name":"woocommerce/product-collection"}');let j=function(e){return e.GRID="flex",e.STACK="list",e.CAROUSEL="carousel",e}({}),B=function(e){return e.FILL="fill",e.FIXED="fixed",e}({}),O=function(e){return e.SINGLE="single",e.THUMBNAIL="thumbnail",e}({});P.name;const T=(0,p.getSetting)("stockStatusOptions",[]),A=(0,p.getSetting)("hideOutOfStockItems",!1),L=()=>A?Object.keys(function(e,t){const{[t]:o,...r}=e;return r}(T,"outofstock")):Object.keys(T),N=(L(),j.GRID,B.FILL,O.THUMBNAIL,["collection"]),E=()=>{const e=(0,a.useInnerBlocksProps)({className:"wc-block-product"},{__unstableDisableLayoutClassNames:!0});return(0,w.jsx)("li",{...e})},H=(0,s.memo)((({blocks:e,blockContextId:t,isHidden:o,setActiveBlockContextId:r})=>{const n=(0,a.__experimentalUseBlockPreview)({blocks:e,props:{className:"wc-block-product"}}),c=()=>{r(t)},s={display:o?"none":void 0};return(0,w.jsx)("li",{...n,tabIndex:0,role:"button",onClick:c,onKeyPress:c,style:s})})),M=({displayTemplate:e,blocks:t,blockContext:o,setActiveBlockContextId:r})=>(0,w.jsxs)(a.BlockContextProvider,{value:o,children:[e?(0,w.jsx)(E,{}):null,(0,w.jsx)(H,{blocks:t,blockContextId:o.postId,setActiveBlockContextId:r,isHidden:e})]},o.postId),D=h((({isLoading:e,product:t,displayTemplate:o,blocks:r,blockContext:n,setActiveBlockContextId:c})=>(0,w.jsx)(a.BlockContextProvider,{value:n,children:(0,w.jsxs)(g.ProductDataContextProvider,{product:t,isLoading:e,children:[o?(0,w.jsx)(E,{}):null,(0,w.jsx)(H,{blocks:r,blockContextId:n.postId,setActiveBlockContextId:c,isHidden:o})]})},n.postId)));(0,r.registerBlockType)(n,{icon:()=>(0,w.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H18C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4ZM18 5.5H6C5.72386 5.5 5.5 5.72386 5.5 6V9H18.5V6C18.5 5.72386 18.2761 5.5 18 5.5ZM18.5 10.5H10L10 18.5H18C18.2761 18.5 18.5 18.2761 18.5 18V10.5ZM8.5 10.5H5.5V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.5Z",fill:"#1E1E1E"})}),edit:e=>{const{clientId:t,context:{query:{perPage:o,offset:r=0,order:n,orderBy:g,search:y,exclude:x,inherit:f,taxQuery:h,pages:P,...j},queryContext:B=[{page:1}],templateSlug:O,displayLayout:{type:T,columns:A,shrinkColumns:E}={type:"flex",columns:3,shrinkColumns:!1},queryContextIncludes:H=[],__privateProductCollectionPreviewState:R},__unstableLayoutClassNames:q}=e,W=((e,t)=>{const o=e.templateSlug||"",r=e.postId||null,n=(e=>t=>e.replace(`${t}-`,""))(o),c=(e=>t=>e.includes(t)&&e!==t)(o),i=c(k),u=c(_),d=c(v),p=c(I),[m,g]=(0,s.useState)(null),[y,x]=(0,s.useState)(null),[f,w]=(0,s.useState)(null),[h,P]=(0,s.useState)(null);(0,s.useEffect)((()=>{if(i){const e=n(k);C("postType","product",e,g)}if(u){const e=n(_);C("taxonomy","product_cat",e,x)}if(d){const e=n(v);C("taxonomy","product_tag",e,w)}if(p){const e=n(I);C("taxonomy","product_brand",e,P)}}),[i,u,d,p,n]);const{isInSingleProductBlock:j,isInSomeCartCheckoutBlock:B}=(0,l.useSelect)((e=>{const{getBlockParentsByBlockName:o}=e(a.store),r=e=>o(t,e).length>0;return{isInSingleProductBlock:r(["woocommerce/single-product"]),isInSomeCartCheckoutBlock:r(["woocommerce/cart","woocommerce/checkout","woocommerce/mini-cart-contents"])}}),[t]);if(j)return S(b.Product,{productId:r});if(B)return S(b.Cart);if(i)return S(b.Product,{productId:m});const O=(e=>t=>e===t)(o);if(O(k))return S(b.Product,{productId:null});if(u)return S(b.Archive,{taxonomy:"product_cat",termId:y});if(d)return S(b.Archive,{taxonomy:"product_tag",termId:f});if(p)return S(b.Archive,{taxonomy:"product_brand",termId:h});if(O(_))return S(b.Archive,{taxonomy:"product_cat",termId:null});if(O(v))return S(b.Archive,{taxonomy:"product_tag",termId:null});if(O(I))return S(b.Archive,{taxonomy:"product_brand",termId:null});if(O("taxonomy-product_attribute"))return S(b.Archive,{taxonomy:null,termId:null});if("page-cart"===o||"page-checkout"===o)return S(b.Cart);const T=O("order-confirmation");return S(T?b.Order:b.Site)})(e.context,e.clientId),[{page:F}]=B,[V,$]=(0,s.useState)(),J="product",U=(0,p.getSettingWithCoercion)("loopShopPerPage",12,m.isNumber),Z=[...new Set(H.concat(N))],z=(({clientId:e,queryContextIncludes:t})=>{const o=(0,l.useSelect)((t=>{const{getBlockParentsByBlockName:o,getBlockAttributes:r}=t("core/block-editor"),n=o(e,"woocommerce/product-collection",!0);return n?.length?r(n[0]):null}),[e]);return(0,s.useMemo)((()=>{if(!o)return null;const e={};return t?.length&&t.forEach((t=>{o?.[t]&&(e[t]=o[t])})),e}),[t,o])})({clientId:t,queryContextIncludes:Z}),{products:G,isInSingleProductBlock:K,blocks:Q}=(0,l.useSelect)((e=>{const{getEntityRecords:c,getEditedEntityRecord:s,getTaxonomies:l}=e(d.store),{getBlocks:i,getBlockParentsByBlockName:u}=e(a.store),p=l({type:J,per_page:-1,context:"view"}),m={postType:J,offset:o?o*(F-1)+r:0,order:n,orderby:g};if(h&&!f){const e=Object.entries(h).reduce(((e,[t,o])=>{const r=p?.find((({slug:e})=>e===t));return r?.rest_base&&(e[r?.rest_base]=o),e}),{});Object.keys(e).length&&Object.assign(m,e)}if(o&&(m.per_page=o),y&&(m.search=y),x?.length&&(m.exclude=x),f){const{taxonomy:e,slug:t}=((e="")=>{const t="category-",o="taxonomy-product_cat-",r="taxonomy-product_tag-",n="taxonomy-product_brand-";return e.startsWith(t)?{taxonomy:"category",slug:e.replace(t,"")}:e.startsWith(o)?{taxonomy:"product_cat",slug:e.replace(o,"")}:e.startsWith(r)?{taxonomy:"product_tag",slug:e.replace(r,"")}:e.startsWith(n)?{taxonomy:"product_brand",slug:e.replace(n,"")}:{taxonomy:"",slug:""}})(O);if(e&&t){const o=c("taxonomy",e,{context:"view",per_page:1,_fields:["id"],slug:t});if(o){const t=o[0]?.id;"category"===e?m.categories=t:m[e]=t}}m.per_page=U;const o=(e=>{switch(e){case"title":return{orderby:"title",order:"asc"};case"price":return{orderby:"price",order:"asc"};case"price-desc":return{orderby:"price",order:"desc"};case"popularity":return{orderby:"popularity",order:"desc"};case"rating":return{orderby:"rating",order:"desc"};case"date":return{orderby:"date",order:"desc"}}return{orderby:"menu_order",order:"asc"}})(s("root","site",void 0).woocommerce_default_catalog_orderby);m.orderby=o.orderby,m.order=o.order}return{products:c("postType",J,{...m,...j,productCollectionLocation:W,productCollectionQueryContext:z,previewState:R,...f&&{woocommerceStockStatus:L()}}),isInSingleProductBlock:u(t,["woocommerce/single-product"]).length>0,blocks:i(t)}}),[o,F,r,n,g,t,y,J,x,f,O,h,j,W,z,U,R]),X=(0,s.useMemo)((()=>G?.map((e=>({postType:e.type,postId:e.id})))),[G]),Y="flex"===T&&A>1;let ee="";G&&G.length&&Y&&(ee=E?`wc-block-product-template__responsive columns-${A}`:`is-flex-container columns-${A}`);const te=(0,a.useBlockProps)({className:(0,c.A)(q,"wc-block-product-template",ee,{[`is-product-collection-layout-${T}`]:T})});if(!G)return(0,w.jsx)("p",{...te,children:(0,w.jsx)(u.Spinner,{className:"wc-block-product-template__spinner"})});if(!G.length)return(0,w.jsxs)("p",{...te,children:[" ",(0,i.__)("No products to display. Try adjusting the filters in the block settings panel.","woocommerce")]});const oe=K?D:M;return(0,w.jsx)("ul",{...te,children:X&&X.map((e=>{const t=e.postId===(V||X[0]?.postId);return(0,w.jsx)(oe,{attributes:{productId:e.postId},blocks:Q,displayTemplate:t,blockContext:e,setActiveBlockContextId:$},e.postId)}))})},save:function(){return(0,w.jsx)(a.InnerBlocks.Content,{})}})},790:e=>{e.exports=window.ReactJSXRuntime},9491:e=>{e.exports=window.wp.compose},6087:e=>{e.exports=window.wp.element},7723:e=>{e.exports=window.wp.i18n}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,c),o.exports}c.m=r,e=[],c.O=(t,o,r,n)=>{if(!o){var s=1/0;for(u=0;u<e.length;u++){for(var[o,r,n]=e[u],l=!0,i=0;i<o.length;i++)(!1&n||s>=n)&&Object.keys(c.O).every((e=>c.O[e](o[i])))?o.splice(i--,1):(l=!1,n<s&&(s=n));if(l){e.splice(u--,1);var a=r();void 0!==a&&(t=a)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,r,n]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);c.r(n);var s={};t=t||[null,o({}),o([]),o(o)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=o(l))Object.getOwnPropertyNames(l).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,c.d(n,s),n},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.j=3,(()=>{var e={3:0};c.O.j=t=>0===e[t];var t=(t,o)=>{var r,n,[s,l,i]=o,a=0;if(s.some((t=>0!==e[t]))){for(r in l)c.o(l,r)&&(c.m[r]=l[r]);if(i)var u=i(c)}for(t&&t(o);a<s.length;a++)n=s[a],c.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return c.O(u)},o=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=c.O(void 0,[94],(()=>c(4019)));s=c.O(s),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-template"]=s})();
(()=>{"use strict";var e,t,o,r={4019:(e,t,o)=>{const r=window.wp.blocks,c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"woocommerce/product-template","title":"Product Template","category":"woocommerce","description":"Contains the block elements used to render a product.","keywords":["WooCommerce"],"textdomain":"woocommerce","usesContext":["queryId","query","queryContext","displayLayout","templateSlug","postId","queryContextIncludes","collection","__privateProductCollectionPreviewState"],"supports":{"interactivity":true,"inserter":false,"reusable":false,"html":false,"align":["wide","full"],"anchor":true,"color":{"gradients":true,"link":true,"__experimentalDefaultControls":{"background":true,"text":true}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}}},"editorStyle":"file:../woocommerce/product-template-editor.css","style":"file:../woocommerce/product-template-style.css"}');var n=o(4921),s=o(6087);const l=window.wp.data;var i=o(7723);const a=window.wp.blockEditor,u=window.wp.components,d=window.wp.coreData,p=window.wc.wcSettings,m=window.wc.wcTypes,y=window.wc.wcBlocksSharedContext;var g=o(9491);window.wp.url;const w=window.wp.apiFetch;var f=o.n(w),h=o(790);const x=(0,g.createHigherOrderComponent)((e=>class extends s.Component{state={error:null,loading:!1,product:"preview"===this.props.attributes.productId?this.props.attributes.previewProduct:null};componentDidMount(){this.loadProduct()}componentDidUpdate(e){e.attributes.productId!==this.props.attributes.productId&&this.loadProduct()}loadProduct=()=>{const{productId:e}=this.props.attributes;"preview"!==e&&(e?(this.setState({loading:!0}),(e=>f()({path:`/wc/store/v1/products/${e}`}))(e).then((e=>{this.setState({product:e,loading:!1,error:null})})).catch((async e=>{const t=await(async e=>{if(!("json"in e))return{code:e.code||"",message:e.message,type:e.type||"general"};try{const t=await e.json();return{code:t.code||"",message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}})(e);this.setState({product:null,loading:!1,error:t})}))):this.setState({product:null,loading:!1,error:null}))};render(){const{error:t,loading:o,product:r}=this.state;return(0,h.jsx)(e,{...this.props,error:t,getProduct:this.loadProduct,isLoading:o,product:r})}}),"withProduct");let b=function(e){return e.Product="product",e.Archive="archive",e.Cart="cart",e.Order="order",e.Site="site",e}({});const k="single-product",_="taxonomy-product_cat",v="taxonomy-product_tag",C=async(e,t,o,r)=>{var c;r((c=await(0,l.resolveSelect)(d.store).getEntityRecords(e,t,{_fields:["id"],slug:o}))&&c.length&&c[0]?.id?c[0].id:null)},I=(e,t={})=>({type:e,sourceData:t}),S=JSON.parse('{"name":"woocommerce/product-collection"}');let j=function(e){return e.GRID="flex",e.STACK="list",e}({}),P=function(e){return e.FILL="fill",e.FIXED="fixed",e}({}),O=function(e){return e.SINGLE="single",e.THUMBNAIL="thumbnail",e}({});S.name;const B=(0,p.getSetting)("stockStatusOptions",[]),T=(0,p.getSetting)("hideOutOfStockItems",!1),L=()=>T?Object.keys(function(e,t){const{[t]:o,...r}=e;return r}(B,"outofstock")):Object.keys(B),N=(L(),j.GRID,P.FILL,O.THUMBNAIL,["collection"]),A=()=>{const e=(0,a.useInnerBlocksProps)({className:"wc-block-product"},{__unstableDisableLayoutClassNames:!0});return(0,h.jsx)("li",{...e})},M=(0,s.memo)((({blocks:e,blockContextId:t,isHidden:o,setActiveBlockContextId:r})=>{const c=(0,a.__experimentalUseBlockPreview)({blocks:e,props:{className:"wc-block-product"}}),n=()=>{r(t)},s={display:o?"none":void 0};return(0,h.jsx)("li",{...c,tabIndex:0,role:"button",onClick:n,onKeyPress:n,style:s})})),E=x((({isLoading:e,product:t,displayTemplate:o,blocks:r,blockContext:c,setActiveBlockContextId:n})=>(0,h.jsx)(a.BlockContextProvider,{value:c,children:(0,h.jsxs)(y.ProductDataContextProvider,{product:t,isLoading:e,children:[o?(0,h.jsx)(A,{}):null,(0,h.jsx)(M,{blocks:r,blockContextId:c.postId,setActiveBlockContextId:n,isHidden:o})]})},c.postId)));(0,r.registerBlockType)(c,{icon:()=>(0,h.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4H18C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4ZM18 5.5H6C5.72386 5.5 5.5 5.72386 5.5 6V9H18.5V6C18.5 5.72386 18.2761 5.5 18 5.5ZM18.5 10.5H10L10 18.5H18C18.2761 18.5 18.5 18.2761 18.5 18V10.5ZM8.5 10.5H5.5V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.5Z",fill:"#1E1E1E"})}),edit:e=>{const{clientId:t,context:{query:{perPage:o,offset:r=0,order:c,orderBy:y,search:g,exclude:w,inherit:f,taxQuery:x,pages:S,...j},queryContext:P=[{page:1}],templateSlug:O,displayLayout:{type:B,columns:T,shrinkColumns:A}={type:"flex",columns:3,shrinkColumns:!1},queryContextIncludes:M=[],__privateProductCollectionPreviewState:H},__unstableLayoutClassNames:D}=e,q=((e,t)=>{const o=e.templateSlug||"",r=e.postId||null,c=(e=>t=>e.replace(`${t}-`,""))(o),n=(e=>t=>e.includes(t)&&e!==t)(o),i=n(k),u=n(_),d=n(v),[p,m]=(0,s.useState)(null),[y,g]=(0,s.useState)(null),[w,f]=(0,s.useState)(null);(0,s.useEffect)((()=>{if(i){const e=c(k);C("postType","product",e,m)}if(u){const e=c(_);C("taxonomy","product_cat",e,g)}if(d){const e=c(v);C("taxonomy","product_tag",e,f)}}),[i,u,d,c]);const{isInSingleProductBlock:h,isInSomeCartCheckoutBlock:x}=(0,l.useSelect)((e=>{const{getBlockParentsByBlockName:o}=e(a.store),r=e=>o(t,e).length>0;return{isInSingleProductBlock:r(["woocommerce/single-product"]),isInSomeCartCheckoutBlock:r(["woocommerce/cart","woocommerce/checkout","woocommerce/mini-cart-contents"])}}),[t]);if(h)return I(b.Product,{productId:r});if(x)return I(b.Cart);if(i)return I(b.Product,{productId:p});const S=(e=>t=>e===t)(o);if(S(k))return I(b.Product,{productId:null});if(u)return I(b.Archive,{taxonomy:"product_cat",termId:y});if(d)return I(b.Archive,{taxonomy:"product_tag",termId:w});if(S(_))return I(b.Archive,{taxonomy:"product_cat",termId:null});if(S(v))return I(b.Archive,{taxonomy:"product_tag",termId:null});if(S("taxonomy-product_attribute"))return I(b.Archive,{taxonomy:null,termId:null});if("page-cart"===o||"page-checkout"===o)return I(b.Cart);const j=S("order-confirmation");return I(j?b.Order:b.Site)})(e.context,e.clientId),[{page:R}]=P,[F,W]=(0,s.useState)(),V="product",$=(0,p.getSettingWithCoercion)("loopShopPerPage",12,m.isNumber),J=[...new Set(M.concat(N))],U=(({clientId:e,queryContextIncludes:t})=>{const o=(0,l.useSelect)((t=>{const{getBlockParentsByBlockName:o,getBlockAttributes:r}=t("core/block-editor"),c=o(e,"woocommerce/product-collection",!0);return c?.length?r(c[0]):null}),[e]);return(0,s.useMemo)((()=>{if(!o)return null;const e={};return t?.length&&t.forEach((t=>{o?.[t]&&(e[t]=o[t])})),e}),[t,o])})({clientId:t,queryContextIncludes:J}),{products:Z,blocks:G}=(0,l.useSelect)((e=>{const{getEntityRecords:n,getEditedEntityRecord:s,getTaxonomies:l}=e(d.store),{getBlocks:i}=e(a.store),u=l({type:V,per_page:-1,context:"view"}),p={postType:V,offset:o?o*(R-1)+r:0,order:c,orderby:y};if(x&&!f){const e=Object.entries(x).reduce(((e,[t,o])=>{const r=u?.find((({slug:e})=>e===t));return r?.rest_base&&(e[r?.rest_base]=o),e}),{});Object.keys(e).length&&Object.assign(p,e)}if(o&&(p.per_page=o),g&&(p.search=g),w?.length&&(p.exclude=w),f){const{taxonomy:e,slug:t}=((e="")=>{const t="category-",o="taxonomy-product_cat-",r="taxonomy-product_tag-";return e.startsWith(t)?{taxonomy:"category",slug:e.replace(t,"")}:e.startsWith(o)?{taxonomy:"product_cat",slug:e.replace(o,"")}:e.startsWith(r)?{taxonomy:"product_tag",slug:e.replace(r,"")}:{taxonomy:"",slug:""}})(O);if(e&&t){const o=n("taxonomy",e,{context:"view",per_page:1,_fields:["id"],slug:t});if(o){const t=o[0]?.id;"category"===e?p.categories=t:p[e]=t}}p.per_page=$;const o=(e=>{switch(e){case"title":return{orderby:"title",order:"asc"};case"price":return{orderby:"price",order:"asc"};case"price-desc":return{orderby:"price",order:"desc"};case"popularity":return{orderby:"popularity",order:"desc"};case"rating":return{orderby:"rating",order:"desc"};case"date":return{orderby:"date",order:"desc"}}return{orderby:"menu_order",order:"asc"}})(s("root","site",void 0).woocommerce_default_catalog_orderby);p.orderby=o.orderby,p.order=o.order}return{products:n("postType",V,{...p,...j,productCollectionLocation:q,productCollectionQueryContext:U,previewState:H,...f&&{woocommerceStockStatus:L()}}),blocks:i(t)}}),[o,R,r,c,y,t,g,V,w,f,O,x,j,q,U,$,H]),z=(0,s.useMemo)((()=>Z?.map((e=>({postType:e.type,postId:e.id})))),[Z]),K="flex"===B&&T>1;let Q="";Z&&Z.length&&K&&(Q=A?`wc-block-product-template__responsive columns-${T}`:`is-flex-container columns-${T}`);const X=(0,a.useBlockProps)({className:(0,n.A)(D,"wc-block-product-template",Q,{[`is-product-collection-layout-${B}`]:B})});return Z?Z.length?(0,h.jsx)("ul",{...X,children:z&&z.map((e=>{const t=e.postId===(F||z[0]?.postId);return(0,h.jsx)(E,{attributes:{productId:e.postId},blocks:G,displayTemplate:t,blockContext:e,setActiveBlockContextId:W},e.postId)}))}):(0,h.jsxs)("p",{...X,children:[" ",(0,i.__)("No products to display. Try adjusting the filters in the block settings panel.","woocommerce")]}):(0,h.jsx)("p",{...X,children:(0,h.jsx)(u.Spinner,{className:"wc-block-product-template__spinner"})})},save:function(){return(0,h.jsx)(a.InnerBlocks.Content,{})}})},790:e=>{e.exports=window.ReactJSXRuntime},9491:e=>{e.exports=window.wp.compose},6087:e=>{e.exports=window.wp.element},7723:e=>{e.exports=window.wp.i18n}},c={};function n(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={exports:{}};return r[e].call(o.exports,o,o.exports,n),o.exports}n.m=r,e=[],n.O=(t,o,r,c)=>{if(!o){var s=1/0;for(u=0;u<e.length;u++){for(var[o,r,c]=e[u],l=!0,i=0;i<o.length;i++)(!1&c||s>=c)&&Object.keys(n.O).every((e=>n.O[e](o[i])))?o.splice(i--,1):(l=!1,c<s&&(s=c));if(l){e.splice(u--,1);var a=r();void 0!==a&&(t=a)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[o,r,c]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var c=Object.create(null);n.r(c);var s={};t=t||[null,o({}),o([]),o(o)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=o(l))Object.getOwnPropertyNames(l).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,n.d(c,s),c},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=3,(()=>{var e={3:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,c,[s,l,i]=o,a=0;if(s.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(i)var u=i(n)}for(t&&t(o);a<s.length;a++)c=s[a],n.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return n.O(u)},o=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=n.O(void 0,[94],(()=>n(4019)));s=n.O(s),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-template"]=s})();
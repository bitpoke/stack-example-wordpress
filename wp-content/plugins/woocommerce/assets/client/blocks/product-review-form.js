(()=>{"use strict";var e,t,r,o={3454:(e,t,r)=>{const o=window.wp.blocks;var i=r(7888);const n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"woocommerce/product-review-form","title":"Reviews Form","category":"woocommerce","description":"Display a product\'s reviews form.","textdomain":"woocommerce","attributes":{"textAlign":{"type":"string"}},"usesContext":["postId","postType"],"supports":{"interactivity":true,"html":false,"color":{"gradients":true,"heading":true,"link":true,"__experimentalDefaultControls":{"background":true,"text":true}},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalDefaultControls":{"fontSize":true}},"__experimentalBorder":{"radius":true,"color":true,"width":true,"style":true,"__experimentalDefaultControls":{"radius":true,"color":true,"width":true,"style":true}}},"example":{"attributes":{"textAlign":"center"}},"viewScriptModule":"woocommerce/product-review-form","style":"file:../woocommerce/product-review-form-style.css","editorStyle":"file:../woocommerce/product-review-form-editor.css"}');var s=r(4921);const c=window.wp.blockEditor,a=window.wp.components;var l=r(9491),d=r(7723);const u=window.wp.data,p=window.wp.coreData,m=window.wc.data;var w=r(790);const v=()=>{const e=(0,l.useInstanceId)(v);return(0,w.jsxs)("div",{children:[(0,w.jsx)("span",{id:"reply-title",className:"comment-reply-title",role:"heading","aria-level":3,children:(0,d.__)("Add a review","woocommerce")}),(0,w.jsxs)("form",{noValidate:!0,className:"review-form",onSubmit:e=>e.preventDefault(),children:[(0,w.jsxs)("div",{className:"comment-form-rating",children:[(0,w.jsx)("span",{children:(0,d.__)("Your rating *","woocommerce")}),(0,w.jsx)("p",{className:"wp-block-woocommerce-product-reviews__editor__stars"})]}),(0,w.jsxs)("p",{children:[(0,w.jsx)("label",{htmlFor:`review-${e}`,children:(0,d.__)("Your review *","woocommerce")}),(0,w.jsx)("textarea",{id:`review-${e}`,name:"review",cols:45,rows:8,readOnly:!0})]}),(0,w.jsx)("p",{className:"form-submit wp-block-button",children:(0,w.jsx)("input",{name:"submit",type:"submit",className:(0,s.A)("wp-block-button__link",(0,c.__experimentalGetElementClassName)("button")),value:(0,d.__)("Submit","woocommerce"),"aria-disabled":"true"})})]})]})},f=({postId:e,postType:t})=>{const{updateProduct:r}=(0,u.useDispatch)(m.productsStore),o=(0,u.useSelect)((t=>e?t(m.productsStore).getProduct(Number(e)):null),[e]),i=void 0===t||void 0===e,n=(0,u.useSelect)((e=>!!t&&!!e(p.store).getPostType(t)?.supports.comments),[t]);if(!i&&o&&!o?.reviews_allowed){const t=[(0,w.jsx)(a.Button,{__next40pxDefaultSize:!0,onClick:()=>void(e&&r(Number(e),{reviews_allowed:true})),variant:"primary",children:(0,d._x)("Enable reviews","action that affects the current product","woocommerce")},"enableReviews")];return(0,w.jsx)(c.Warning,{actions:t,children:(0,d.__)("Product Reviews Form block: Reviews are not enabled for this product.","woocommerce")})}return n?(0,w.jsx)(a.Disabled,{children:(0,w.jsx)(v,{})}):(0,w.jsx)(c.Warning,{children:(0,d.__)("Product Reviews Form block: Reviews are not enabled.","woocommerce")})};(0,o.registerBlockType)(n,{icon:i.A,edit:function e({attributes:t,context:r,setAttributes:o}){const{textAlign:i}=t,{postId:n,postType:u}=r,p=(0,l.useInstanceId)(e),m=(0,d.sprintf)("comments-form-edit-%d-desc",p),v=(0,c.useBlockProps)({className:(0,s.A)("comment-respond",{[`has-text-align-${i}`]:i}),"aria-describedby":m});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.BlockControls,{group:"block",children:(0,w.jsx)(c.AlignmentControl,{value:i,onChange:e=>{o({textAlign:e})}})}),(0,w.jsxs)("div",{...v,children:[(0,w.jsx)(f,{postId:n,postType:u}),(0,w.jsx)(a.VisuallyHidden,{id:m,children:(0,d.__)("Reviews form disabled in editor.","woocommerce")})]})]})}})},1609:e=>{e.exports=window.React},790:e=>{e.exports=window.ReactJSXRuntime},9491:e=>{e.exports=window.wp.compose},7723:e=>{e.exports=window.wp.i18n},5573:e=>{e.exports=window.wp.primitives}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,n),r.exports}n.m=o,e=[],n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(d=0;d<e.length;d++){for(var[r,o,i]=e[d],c=!0,a=0;a<r.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[a])))?r.splice(a--,1):(c=!1,i<s&&(s=i));if(c){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var i=Object.create(null);n.r(i);var s={};t=t||[null,r({}),r([]),r(r)];for(var c=2&o&&e;"object"==typeof c&&!~t.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,n.d(i,s),i},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=9596,(()=>{var e={9596:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,c,a]=r,l=0;if(s.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(a)var d=a(n)}for(t&&t(r);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=n.O(void 0,[94],(()=>n(3454)));s=n.O(s),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-review-form"]=s})();
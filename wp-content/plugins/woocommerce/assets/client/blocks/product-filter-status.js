(()=>{var e,t,o,r={6559:(e,t,o)=>{"use strict";const r=window.wp.blocks;var n=o(5573),s=o(790);o(3135);const l=window.wp.blockEditor;var c=o(6087),i=o(4347);const a=window.wc.wcTypes;var u=o(9456),d=o(923),p=o.n(d);function f(e){const t=(0,c.useRef)(e);return p()(e,t.current)||(t.current=e),t.current}const m=window.wc.wcBlocksData,y=window.wp.data,_=(0,c.createContext)("page"),w=()=>(0,c.useContext)(_),h=(_.Provider,e=>{const t=w();e=e||t;const o=(0,y.useSelect)((t=>t(m.QUERY_STATE_STORE_KEY).getValueForQueryContext(e,void 0)),[e]),{setValueForQueryContext:r}=(0,y.useDispatch)(m.QUERY_STATE_STORE_KEY);return[o,(0,c.useCallback)((t=>{r(e,t)}),[e,r])]}),g=(e,t,o)=>{const r=w();o=o||r;const n=(0,y.useSelect)((r=>r(m.QUERY_STATE_STORE_KEY).getValueForQueryKey(o,e,t)),[o,e]),{setQueryValue:s}=(0,y.useDispatch)(m.QUERY_STATE_STORE_KEY);return[n,(0,c.useCallback)((t=>{s(o,e,t)}),[o,e,s])]},x=({queryAttribute:e,queryPrices:t,queryStock:o,queryRating:r,queryState:n,isEditor:s=!1})=>{let l=w();l=`${l}-collection-data`;const[d]=h(l),[p,_]=g("calculate_attribute_counts",[],l),[x,b]=g("calculate_price_range",null,l),[v,k]=g("calculate_stock_status_counts",null,l),[S,C]=g("calculate_rating_counts",null,l),E=f(e||{}),j=f(t),O=f(o),T=f(r);(0,c.useEffect)((()=>{"object"==typeof E&&Object.keys(E).length&&(p.find((e=>(0,a.objectHasProp)(E,"taxonomy")&&e.taxonomy===E.taxonomy))||_([...p,E]))}),[E,p,_]),(0,c.useEffect)((()=>{x!==j&&void 0!==j&&b(j)}),[j,b,x]),(0,c.useEffect)((()=>{v!==O&&void 0!==O&&k(O)}),[O,k,v]),(0,c.useEffect)((()=>{S!==T&&void 0!==T&&C(T)}),[T,C,S]);const[B,P]=(0,c.useState)(s),[R]=(0,i.d7)(B,200);B||P(!0);const q=(0,c.useMemo)((()=>(e=>{const t=e;return Array.isArray(e.calculate_attribute_counts)&&(t.calculate_attribute_counts=(0,u.di)(e.calculate_attribute_counts.map((({taxonomy:e,queryType:t})=>({taxonomy:e,query_type:t})))).asc(["taxonomy","query_type"])),t})(d)),[d]),{results:L,isLoading:M}=(e=>{const{namespace:t,resourceName:o,resourceValues:r=[],query:n={},shouldSelect:s=!0}=e;if(!t||!o)throw new Error("The options object must have valid values for the namespace and the resource properties.");const l=(0,c.useRef)({results:[],isLoading:!0}),i=f(n),u=f(r),d=(()=>{const[,e]=(0,c.useState)();return(0,c.useCallback)((t=>{e((()=>{throw t}))}),[])})(),p=(0,y.useSelect)((e=>{if(!s)return null;const r=e(m.COLLECTIONS_STORE_KEY),n=[t,o,i,u],l=r.getCollectionError(...n);if(l){if(!(0,a.isError)(l))throw new Error("TypeError: `error` object is not an instance of Error constructor");d(l)}return{results:r.getCollection(...n),isLoading:!r.hasFinishedResolution("getCollection",n)}}),[t,o,u,i,s,d]);return null!==p&&(l.current=p),l.current})({namespace:"/wc/store/v1",resourceName:"products/collection-data",query:{...n,page:void 0,per_page:void 0,orderby:void 0,order:void 0,...q},shouldSelect:R});return{data:L,isLoading:M}};var b=o(7723);const v=window.wc.wcSettings;o(1652);const k=({children:e})=>(0,s.jsxs)("div",{className:"wc-block-product-filter-components-initial-disabled",children:[(0,s.jsx)("div",{className:"wc-block-product-filter-components-initial-disabled-overlay"}),e]}),S=window.wp.components,C=(e,t)=>{if(!e)return null;if(0===e.innerBlocks.length)return null;for(const o of e.innerBlocks){if(t(o))return o;const e=C(o,t);if(e)return e}return null};let E=[];const j=({attributes:e,setAttributes:t,clientId:o})=>{const{displayStyle:n,showCounts:i,hideEmpty:a}=e;0===E.length&&(E=(0,r.getBlockTypes)().filter((e=>e.ancestor?.includes("woocommerce/product-filter-status"))));const{insertBlock:u,replaceBlock:d}=(0,y.dispatch)("core/block-editor"),p=(0,y.useSelect)((e=>e("core/block-editor").getBlock(o)),[o]),[f,m]=(0,c.useState)({});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.InspectorControls,{group:"settings",children:(0,s.jsxs)(S.PanelBody,{title:(0,b.__)("Display","woocommerce"),children:[(0,s.jsx)(S.__experimentalToggleGroupControl,{value:n,isBlock:!0,onChange:e=>{if(!p)return;const o=(s=n,C(p,(function(e){return e.name===s})));var s;o?(m({...f,[n]:o.attributes}),d(o.clientId,(0,r.createBlock)(e,f[e]||{}))):u((0,r.createBlock)(e),p.innerBlocks.length,p.clientId,!1),t({displayStyle:e})},style:{width:"100%"},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,children:E.map((e=>(0,s.jsx)(S.__experimentalToggleGroupControlOption,{label:e.title,value:e.name},e.name)))}),(0,s.jsx)(S.ToggleControl,{label:(0,b.__)("Product counts","woocommerce"),checked:i,onChange:e=>t({showCounts:e}),__nextHasNoMarginBottom:!0}),(0,s.jsx)(S.ToggleControl,{label:(0,b.__)("Empty filter options","woocommerce"),checked:!a,onChange:e=>t({hideEmpty:!e}),__nextHasNoMarginBottom:!0})]})})})},O=JSON.parse('{"name":"woocommerce/product-filter-status","title":"Status","description":"Let shoppers filter products by choosing stock status.","category":"woocommerce","keywords":["WooCommerce"],"textdomain":"woocommerce","apiVersion":3,"ancestor":["woocommerce/product-filters"],"supports":{"interactivity":true,"html":false,"color":{"text":true,"background":false,"__experimentalDefaultControls":{"text":false}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontWeight":true,"__experimentalFontFamily":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":false}},"spacing":{"margin":true,"padding":true,"blockGap":true,"__experimentalDefaultControls":{"margin":false,"padding":false,"blockGap":false}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}},"attributes":{"showCounts":{"type":"boolean","default":false},"displayStyle":{"type":"string","default":"woocommerce/product-filter-checkbox-list"},"isPreview":{"type":"boolean","default":false},"hideEmpty":{"type":"boolean","default":true}},"usesContext":["query","filterParams"],"example":{"attributes":{"isPreview":true}}}');(0,r.registerBlockType)(O,{icon:()=>(0,s.jsxs)(n.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("line",{x1:"4",y1:"15.25",x2:"20",y2:"15.25",stroke:"currentColor",strokeWidth:"1.5"}),(0,s.jsx)("line",{x1:"4",y1:"19.25",x2:"13",y2:"19.25",stroke:"currentColor",strokeWidth:"1.5"}),(0,s.jsx)(n.Path,{d:"M4.75 4.8999C4.75 4.20955 5.30964 3.6499 6 3.6499H8.34082C8.7889 3.6499 9.20271 3.88974 9.42544 4.27854L9.62184 4.62136C9.84457 5.01016 10.2584 5.25 10.7065 5.25H13C13.6904 5.25 14.25 5.80964 14.25 6.5V10.3999C14.25 11.0903 13.6904 11.6499 13 11.6499H6C5.30964 11.6499 4.75 11.0903 4.75 10.3999V4.8999Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round",fill:"none"})]}),save:()=>{const e=l.useBlockProps.save(),t=l.useInnerBlocksProps.save(e);return(0,s.jsx)("div",{...t})},edit:e=>{const{showCounts:t,hideEmpty:o}=e.attributes,{children:r,...n}=(0,l.useInnerBlocksProps)((0,l.useBlockProps)(),{template:[["core/heading",{level:3,content:(0,b.__)("Status","woocommerce"),style:{spacing:{margin:{bottom:"0.625rem",top:"0"}}}}],["woocommerce/product-filter-checkbox-list"]]}),i=(0,v.getSetting)("stockStatusOptions",{}),{data:a,isLoading:u}=x({queryStock:!0,queryState:{},isEditor:!0}),d=(0,c.useMemo)((()=>Object.entries(i).map((([e,o],r)=>{var n;const s=null!==(n=a?.stock_status_counts?.find((t=>t.status===e))?.count)&&void 0!==n?n:0;return{value:e,label:t?`${o} (${s.toString()})`:o,count:s,selected:0===r}})).filter((e=>!o||e.count>0))),[i,a,t,o]);return(0,s.jsxs)("div",{...n,children:[(0,s.jsx)(j,{...e}),(0,s.jsx)(k,{children:(0,s.jsx)(l.BlockContextProvider,{value:{filterData:{items:d,isLoading:u}},children:r})})]})}})},1652:()=>{},3135:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},5573:e=>{"use strict";e.exports=window.wp.primitives}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e].call(o.exports,o,o.exports,s),o.exports}s.m=r,e=[],s.O=(t,o,r,n)=>{if(!o){var l=1/0;for(u=0;u<e.length;u++){for(var[o,r,n]=e[u],c=!0,i=0;i<o.length;i++)(!1&n||l>=n)&&Object.keys(s.O).every((e=>s.O[e](o[i])))?o.splice(i--,1):(c=!1,n<l&&(l=n));if(c){e.splice(u--,1);var a=r();void 0!==a&&(t=a)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,r,n]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);s.r(n);var l={};t=t||[null,o({}),o([]),o(o)];for(var c=2&r&&e;"object"==typeof c&&!~t.indexOf(c);c=o(c))Object.getOwnPropertyNames(c).forEach((t=>l[t]=()=>e[t]));return l.default=()=>e,s.d(n,l),n},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.j=3750,(()=>{var e={3750:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var r,n,[l,c,i]=o,a=0;if(l.some((t=>0!==e[t]))){for(r in c)s.o(c,r)&&(s.m[r]=c[r]);if(i)var u=i(s)}for(t&&t(o);a<l.length;a++)n=l[a],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},o=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=s.O(void 0,[94],(()=>s(6559)));l=s.O(l),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-filter-status"]=l})();
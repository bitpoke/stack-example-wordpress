(()=>{var e,t,o,r={3800:(e,t,o)=>{"use strict";const r=window.wp.blocks;var s=o(5573),n=o(790);o(3135);const l=window.wp.blockEditor;var a=o(6087),c=o(4347);const i=window.wc.wcTypes;var u=o(9456),d=o(923),p=o.n(d);function f(e){const t=(0,a.useRef)(e);return p()(e,t.current)||(t.current=e),t.current}const m=window.wc.wcBlocksData,y=window.wp.data,_=(0,a.createContext)("page"),h=()=>(0,a.useContext)(_),w=(_.Provider,e=>{const t=h();e=e||t;const o=(0,y.useSelect)((t=>t(m.QUERY_STATE_STORE_KEY).getValueForQueryContext(e,void 0)),[e]),{setValueForQueryContext:r}=(0,y.useDispatch)(m.QUERY_STATE_STORE_KEY);return[o,(0,a.useCallback)((t=>{r(e,t)}),[e,r])]}),b=(e,t,o)=>{const r=h();o=o||r;const s=(0,y.useSelect)((r=>r(m.QUERY_STATE_STORE_KEY).getValueForQueryKey(o,e,t)),[o,e]),{setQueryValue:n}=(0,y.useDispatch)(m.QUERY_STATE_STORE_KEY);return[s,(0,a.useCallback)((t=>{n(o,e,t)}),[o,e,n])]},x=({queryAttribute:e,queryTaxonomy:t,queryPrices:o,queryStock:r,queryRating:s,queryState:n,isEditor:l=!1})=>{let d=h();d=`${d}-collection-data`;const[p]=w(d),[_,x]=b("calculate_attribute_counts",[],d),[g,k]=b("calculate_taxonomy_counts",[],d),[v,S]=b("calculate_price_range",null,d),[C,E]=b("calculate_stock_status_counts",null,d),[j,T]=b("calculate_rating_counts",null,d),O=f(e||{}),B=f(t),P=f(o),D=f(r),R=f(s);(0,a.useEffect)((()=>{"object"==typeof O&&Object.keys(O).length&&(_.find((e=>(0,i.objectHasProp)(O,"taxonomy")&&e.taxonomy===O.taxonomy))||x([..._,O]))}),[O,_,x]),(0,a.useEffect)((()=>{B&&!g.includes(B)&&k([...g,B])}),[B,g,k]),(0,a.useEffect)((()=>{v!==P&&void 0!==P&&S(P)}),[P,S,v]),(0,a.useEffect)((()=>{C!==D&&void 0!==D&&E(D)}),[D,E,C]),(0,a.useEffect)((()=>{j!==R&&void 0!==R&&T(R)}),[R,T,j]);const[q,I]=(0,a.useState)(l),[L]=(0,c.d7)(q,200);q||I(!0);const V=(0,a.useMemo)((()=>(e=>{const t=e;return Array.isArray(e.calculate_attribute_counts)&&(t.calculate_attribute_counts=(0,u.di)(e.calculate_attribute_counts.map((({taxonomy:e,queryType:t})=>({taxonomy:e,query_type:t})))).asc(["taxonomy","query_type"])),Array.isArray(e.calculate_taxonomy_counts)&&(t.calculate_taxonomy_counts=e.calculate_taxonomy_counts),t})(p)),[p]),{results:A,isLoading:F}=(e=>{const{namespace:t,resourceName:o,resourceValues:r=[],query:s={},shouldSelect:n=!0}=e;if(!t||!o)throw new Error("The options object must have valid values for the namespace and the resource properties.");const l=(0,a.useRef)({results:[],isLoading:!0}),c=f(s),u=f(r),d=(()=>{const[,e]=(0,a.useState)();return(0,a.useCallback)((t=>{e((()=>{throw t}))}),[])})(),p=(0,y.useSelect)((e=>{if(!n)return null;const r=e(m.COLLECTIONS_STORE_KEY),s=[t,o,c,u],l=r.getCollectionError(...s);if(l){if(!(0,i.isError)(l))throw new Error("TypeError: `error` object is not an instance of Error constructor");d(l)}return{results:r.getCollection(...s),isLoading:!r.hasFinishedResolution("getCollection",s)}}),[t,o,u,c,n,d]);return null!==p&&(l.current=p),l.current})({namespace:"/wc/store/v1",resourceName:"products/collection-data",query:{...n,page:void 0,per_page:void 0,orderby:void 0,order:void 0,...V},shouldSelect:L});return{data:A,isLoading:F}};var g=o(7723);const k=window.wc.wcSettings;o(1652);const v=({children:e})=>(0,n.jsxs)("div",{className:"wc-block-product-filter-components-initial-disabled",children:[(0,n.jsx)("div",{className:"wc-block-product-filter-components-initial-disabled-overlay"}),e]}),S=window.wp.components,C=(e,t)=>{if(!e)return null;if(0===e.innerBlocks.length)return null;for(const o of e.innerBlocks){if(t(o))return o;const e=C(o,t);if(e)return e}return null},E=(e,t)=>C(e,(function(e){return e.name===t})),j=({clientId:e,currentStyle:t,onChange:o})=>{const s=(0,y.select)("core/block-editor").getBlock(e),l=s?.name,c=(0,r.getBlockTypes)().filter((e=>l?e.ancestor?.includes(l):[])),{insertBlock:i,replaceBlock:u}=(0,y.useDispatch)("core/block-editor"),[d,p]=(0,a.useState)({});return 0===c.length?null:(0,n.jsx)(S.__experimentalToggleGroupControl,{value:t,isBlock:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:"",hideLabelFromVision:!0,onChange:e=>{if(!e||"string"!=typeof e)return;if(!s)return;const n=E(s,t);n?(p({...d,[t]:n.attributes}),u(n.clientId,(0,r.createBlock)(e,d[e]||{}))):i((0,r.createBlock)(e),s.innerBlocks.length,s.clientId,!1),o(e)},style:{width:"100%"},children:c.map((e=>(0,n.jsx)(S.__experimentalToggleGroupControlOption,{label:e.title,value:e.name},e.name)))})};function T(e,t){const o=(0,y.select)("core/block-editor").getBlock(e);if(!o)return;const s=o.name,n=(0,r.getBlockTypes)().filter((e=>e.ancestor?.includes(s))).find((e=>E(o,e.name))),l=n?E(o,n.name):null,{insertBlock:a,replaceBlock:c}=(0,y.dispatch)("core/block-editor");l?c(l.clientId,(0,r.createBlock)(t)):a((0,r.createBlock)(t),o.innerBlocks.length,o.clientId,!1)}const O=JSON.parse('{"name":"woocommerce/product-filter-status","title":"Status Filter","description":"Let shoppers filter products by choosing stock status.","category":"woocommerce","keywords":["WooCommerce"],"textdomain":"woocommerce","apiVersion":3,"ancestor":["woocommerce/product-filters"],"supports":{"interactivity":true,"html":false,"color":{"text":true,"background":false,"__experimentalDefaultControls":{"text":false}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontWeight":true,"__experimentalFontFamily":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":false}},"spacing":{"margin":true,"padding":true,"blockGap":true,"__experimentalDefaultControls":{"margin":false,"padding":false,"blockGap":false}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}},"attributes":{"showCounts":{"type":"boolean","default":false},"displayStyle":{"type":"string","default":"woocommerce/product-filter-checkbox-list"},"isPreview":{"type":"boolean","default":false},"hideEmpty":{"type":"boolean","default":true}},"usesContext":["query","filterParams"],"example":{"attributes":{"isPreview":true}}}'),B=({attributes:e,setAttributes:t,clientId:o})=>{const{displayStyle:r,showCounts:s,hideEmpty:a}=e;return(0,n.jsx)(l.InspectorControls,{children:(0,n.jsxs)(S.__experimentalToolsPanel,{label:(0,g.__)("Display Settings","woocommerce"),resetAll:()=>{t({displayStyle:O.attributes.displayStyle.default,showCounts:O.attributes.showCounts.default,hideEmpty:O.attributes.hideEmpty.default}),T(o,O.attributes.displayStyle.default)},children:[(0,n.jsx)(S.__experimentalToolsPanelItem,{label:(0,g.__)("Display Style","woocommerce"),hasValue:()=>"woocommerce/product-filter-checkbox-list"!==r,isShownByDefault:!0,onDeselect:()=>{t({displayStyle:O.attributes.displayStyle.default}),T(o,O.attributes.displayStyle.default)},children:(0,n.jsx)(j,{clientId:o,currentStyle:r,onChange:e=>t({displayStyle:e})})}),(0,n.jsx)(S.__experimentalToolsPanelItem,{label:(0,g.__)("Product counts","woocommerce"),hasValue:()=>s,onDeselect:()=>t({showCounts:O.attributes.showCounts.default}),isShownByDefault:!0,children:(0,n.jsx)(S.ToggleControl,{label:(0,g.__)("Product counts","woocommerce"),checked:s,onChange:e=>t({showCounts:e})})}),(0,n.jsx)(S.__experimentalToolsPanelItem,{label:(0,g.__)("Empty filter options","woocommerce"),hasValue:()=>!a,onDeselect:()=>t({hideEmpty:O.attributes.hideEmpty.default}),children:(0,n.jsx)(S.ToggleControl,{label:(0,g.__)("Empty filter options","woocommerce"),checked:!a,onChange:e=>t({hideEmpty:!e})})})]})})};(0,r.registerBlockType)(O,{icon:()=>(0,n.jsxs)(s.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("line",{x1:"4",y1:"15.25",x2:"20",y2:"15.25",stroke:"currentColor",strokeWidth:"1.5"}),(0,n.jsx)("line",{x1:"4",y1:"19.25",x2:"13",y2:"19.25",stroke:"currentColor",strokeWidth:"1.5"}),(0,n.jsx)(s.Path,{d:"M4.75 4.8999C4.75 4.20955 5.30964 3.6499 6 3.6499H8.34082C8.7889 3.6499 9.20271 3.88974 9.42544 4.27854L9.62184 4.62136C9.84457 5.01016 10.2584 5.25 10.7065 5.25H13C13.6904 5.25 14.25 5.80964 14.25 6.5V10.3999C14.25 11.0903 13.6904 11.6499 13 11.6499H6C5.30964 11.6499 4.75 11.0903 4.75 10.3999V4.8999Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round",fill:"none"})]}),save:()=>{const e=l.useBlockProps.save(),t=l.useInnerBlocksProps.save(e);return(0,n.jsx)("div",{...t})},edit:e=>{const{showCounts:t,hideEmpty:o}=e.attributes,{children:r,...s}=(0,l.useInnerBlocksProps)((0,l.useBlockProps)(),{template:[["core/heading",{level:3,content:(0,g.__)("Status","woocommerce"),style:{spacing:{margin:{bottom:"0.625rem",top:"0"}}}}],["woocommerce/product-filter-checkbox-list"]]}),c=(0,k.getSetting)("stockStatusOptions",{}),{data:i,isLoading:u}=x({queryStock:!0,queryState:{},isEditor:!0}),d=(0,a.useMemo)((()=>Object.entries(c).map((([e,t],o)=>{var r;const s=null!==(r=i?.stock_status_counts?.find((t=>t.status===e))?.count)&&void 0!==r?r:0;return{label:t,ariaLabel:t,value:e,selected:0===o,count:s,type:"status"}})).filter((e=>!o||e.count>0))),[c,i,o]);return(0,n.jsxs)("div",{...s,children:[(0,n.jsx)(B,{...e}),(0,n.jsx)(v,{children:(0,n.jsx)(l.BlockContextProvider,{value:{filterData:{items:d,isLoading:u,showCounts:t}},children:r})})]})}})},1652:()=>{},3135:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},5573:e=>{"use strict";e.exports=window.wp.primitives}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var o=s[e]={exports:{}};return r[e].call(o.exports,o,o.exports,n),o.exports}n.m=r,e=[],n.O=(t,o,r,s)=>{if(!o){var l=1/0;for(u=0;u<e.length;u++){for(var[o,r,s]=e[u],a=!0,c=0;c<o.length;c++)(!1&s||l>=s)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(a=!1,s<l&&(l=s));if(a){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,r,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var s=Object.create(null);n.r(s);var l={};t=t||[null,o({}),o([]),o(o)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=o(a))Object.getOwnPropertyNames(a).forEach((t=>l[t]=()=>e[t]));return l.default=()=>e,n.d(s,l),s},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=3750,(()=>{var e={3750:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,s,[l,a,c]=o,i=0;if(l.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var u=c(n)}for(t&&t(o);i<l.length;i++)s=l[i],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},o=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=n.O(void 0,[94],(()=>n(3800)));l=n.O(l),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-filter-status"]=l})();
(()=>{var e,t,r,o={9412:(e,t,r)=>{"use strict";r.r(t);const o=window.wp.blocks,n=window.wc.wcSettings;var l=r(1609),s=r(5573);r(2893);const c=window.wp.blockEditor;var a=r(6087),i=r(4717);const u=window.wc.wcTypes;var p=r(5574),d=r(923),m=r.n(d);function f(e){const t=(0,a.useRef)(e);return m()(e,t.current)||(t.current=e),t.current}const y=window.wc.wcBlocksData,w=window.wp.data,_=(0,a.createContext)("page"),g=()=>(0,a.useContext)(_),h=(_.Provider,e=>{const t=g();e=e||t;const r=(0,w.useSelect)((t=>t(y.QUERY_STATE_STORE_KEY).getValueForQueryContext(e,void 0)),[e]),{setValueForQueryContext:o}=(0,w.useDispatch)(y.QUERY_STATE_STORE_KEY);return[r,(0,a.useCallback)((t=>{o(e,t)}),[e,o])]}),v=(e,t,r)=>{const o=g();r=r||o;const n=(0,w.useSelect)((o=>o(y.QUERY_STATE_STORE_KEY).getValueForQueryKey(r,e,t)),[r,e]),{setQueryValue:l}=(0,w.useDispatch)(y.QUERY_STATE_STORE_KEY);return[n,(0,a.useCallback)((t=>{l(r,e,t)}),[r,e,l])]},b=({queryAttribute:e,queryPrices:t,queryStock:r,queryRating:o,queryState:n,isEditor:l=!1})=>{let s=g();s=`${s}-collection-data`;const[c]=h(s),[d,m]=v("calculate_attribute_counts",[],s),[_,b]=v("calculate_price_range",null,s),[k,E]=v("calculate_stock_status_counts",null,s),[x,S]=v("calculate_rating_counts",null,s),C=f(e||{}),O=f(t),T=f(r),B=f(o);(0,a.useEffect)((()=>{"object"==typeof C&&Object.keys(C).length&&(d.find((e=>(0,u.objectHasProp)(C,"taxonomy")&&e.taxonomy===C.taxonomy))||m([...d,C]))}),[C,d,m]),(0,a.useEffect)((()=>{_!==O&&void 0!==O&&b(O)}),[O,b,_]),(0,a.useEffect)((()=>{k!==T&&void 0!==T&&E(T)}),[T,E,k]),(0,a.useEffect)((()=>{x!==B&&void 0!==B&&S(B)}),[B,S,x]);const[P,j]=(0,a.useState)(l),[q]=(0,i.d7)(P,200);P||j(!0);const R=(0,a.useMemo)((()=>(e=>{const t=e;return Array.isArray(e.calculate_attribute_counts)&&(t.calculate_attribute_counts=(0,p.di)(e.calculate_attribute_counts.map((({taxonomy:e,queryType:t})=>({taxonomy:e,query_type:t})))).asc(["taxonomy","query_type"])),t})(c)),[c]),{results:L,isLoading:D}=(e=>{const{namespace:t,resourceName:r,resourceValues:o=[],query:n={},shouldSelect:l=!0}=e;if(!t||!r)throw new Error("The options object must have valid values for the namespace and the resource properties.");const s=(0,a.useRef)({results:[],isLoading:!0}),c=f(n),i=f(o),p=(()=>{const[,e]=(0,a.useState)();return(0,a.useCallback)((t=>{e((()=>{throw t}))}),[])})(),d=(0,w.useSelect)((e=>{if(!l)return null;const o=e(y.COLLECTIONS_STORE_KEY),n=[t,r,c,i],s=o.getCollectionError(...n);if(s){if(!(0,u.isError)(s))throw new Error("TypeError: `error` object is not an instance of Error constructor");p(s)}return{results:o.getCollection(...n),isLoading:!o.hasFinishedResolution("getCollection",n)}}),[t,r,i,c,l,p]);return null!==d&&(s.current=d),s.current})({namespace:"/wc/store/v1",resourceName:"products/collection-data",query:{...n,page:void 0,per_page:void 0,orderby:void 0,order:void 0,...R},shouldSelect:q});return{data:L,isLoading:D}};var k=r(7723);r(9498);const E=({children:e})=>(0,l.createElement)("div",{className:"wc-block-product-filter-components-initial-disabled"},(0,l.createElement)("div",{className:"wc-block-product-filter-components-initial-disabled-overlay"}),e),x=window.wp.components,S=(e,t)=>{if(!e)return null;if(0===e.innerBlocks.length)return null;for(const r of e.innerBlocks){if(t(r))return r;const e=S(r,t);if(e)return e}return null};let C=[];const O=({attributes:e,setAttributes:t,clientId:r})=>{const{displayStyle:n,showCounts:s,hideEmpty:i}=e;0===C.length&&(C=(0,o.getBlockTypes)().filter((e=>{var t;return null===(t=e.ancestor)||void 0===t?void 0:t.includes("woocommerce/product-filter-status")})));const{insertBlock:u,replaceBlock:p}=(0,w.dispatch)("core/block-editor"),d=(0,w.useSelect)((e=>e("core/block-editor").getBlock(r)),[r]),[m,f]=(0,a.useState)({});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(c.InspectorControls,{group:"styles"},(0,l.createElement)(x.PanelBody,{title:(0,k.__)("Display","woocommerce")},(0,l.createElement)(x.__experimentalToggleGroupControl,{value:n,isBlock:!0,onChange:e=>{if(!d)return;const r=(l=n,S(d,(function(e){return e.name===l})));var l;r?(f({...m,[n]:r.attributes}),p(r.clientId,(0,o.createBlock)(e,m[e]||{}))):u((0,o.createBlock)(e),d.innerBlocks.length,d.clientId,!1),t({displayStyle:e})},style:{width:"100%"}},C.map((e=>(0,l.createElement)(x.__experimentalToggleGroupControlOption,{key:e.name,label:e.title,value:e.name})))),(0,l.createElement)(x.ToggleControl,{label:(0,k.__)("Product counts","woocommerce"),checked:s,onChange:e=>t({showCounts:e})}),(0,l.createElement)(x.ToggleControl,{label:(0,k.__)("Empty filter options","woocommerce"),checked:!i,onChange:e=>t({hideEmpty:!e})}))))},T=JSON.parse('{"name":"woocommerce/product-filter-status","version":"1.0.0","title":"Status (Experimental)","description":"Let shoppers filter products by choosing stock status.","category":"woocommerce","keywords":["WooCommerce"],"textdomain":"woocommerce","apiVersion":3,"ancestor":["woocommerce/product-filters"],"supports":{"interactivity":true,"html":false,"color":{"text":true,"background":false,"__experimentalDefaultControls":{"text":false}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontWeight":true,"__experimentalFontFamily":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":false}},"spacing":{"margin":true,"padding":true,"blockGap":true,"__experimentalDefaultControls":{"margin":false,"padding":false,"blockGap":false}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}},"attributes":{"showCounts":{"type":"boolean","default":false},"displayStyle":{"type":"string","default":"woocommerce/product-filter-checkbox-list"},"isPreview":{"type":"boolean","default":false},"hideEmpty":{"type":"boolean","default":true}},"usesContext":["query","filterParams"],"example":{"attributes":{"isPreview":true}}}');(()=>{const{experimentalBlocksEnabled:e}=(0,n.getSetting)("wcBlocksConfig",{experimentalBlocksEnabled:!1});return e})()&&(0,o.registerBlockType)(T,{icon:()=>(0,l.createElement)(s.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("line",{x1:"4",y1:"15.25",x2:"20",y2:"15.25",stroke:"currentColor",strokeWidth:"1.5"}),(0,l.createElement)("line",{x1:"4",y1:"19.25",x2:"13",y2:"19.25",stroke:"currentColor",strokeWidth:"1.5"}),(0,l.createElement)(s.Path,{d:"M4.75 4.8999C4.75 4.20955 5.30964 3.6499 6 3.6499H8.34082C8.7889 3.6499 9.20271 3.88974 9.42544 4.27854L9.62184 4.62136C9.84457 5.01016 10.2584 5.25 10.7065 5.25H13C13.6904 5.25 14.25 5.80964 14.25 6.5V10.3999C14.25 11.0903 13.6904 11.6499 13 11.6499H6C5.30964 11.6499 4.75 11.0903 4.75 10.3999V4.8999Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round",fill:"none"})),save:()=>{const e=c.useBlockProps.save(),t=c.useInnerBlocksProps.save(e);return(0,l.createElement)("div",{...t})},edit:e=>{const{showCounts:t,hideEmpty:r}=e.attributes,{children:o,...s}=(0,c.useInnerBlocksProps)((0,c.useBlockProps)(),{template:[["core/heading",{level:4,content:(0,k.__)("Status","woocommerce"),style:{spacing:{margin:{bottom:"0.625rem",top:"0"}}}}],["woocommerce/product-filter-checkbox-list"]]}),i=(0,n.getSetting)("stockStatusOptions",{}),{data:u,isLoading:p}=b({queryStock:!0,queryState:{},isEditor:!0}),d=(0,a.useMemo)((()=>Object.entries(i).map((([e,r],o)=>{var n,l;const s=null!==(n=null==u||null===(l=u.stock_status_counts)||void 0===l||null===(l=l.find((t=>t.status===e)))||void 0===l?void 0:l.count)&&void 0!==n?n:0;return{value:e,label:t?`${r} (${s.toString()})`:r,count:s,selected:0===o}})).filter((e=>!r||e.count>0))),[i,u,t,r]);return(0,l.createElement)("div",{...s},(0,l.createElement)(O,{...e}),(0,l.createElement)(E,null,(0,l.createElement)(c.BlockContextProvider,{value:{filterData:{items:d,isLoading:p}}},o)))}})},9498:()=>{},2893:()=>{},1609:e=>{"use strict";e.exports=window.React},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},923:e=>{"use strict";e.exports=window.wp.isShallowEqual},5573:e=>{"use strict";e.exports=window.wp.primitives}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e].call(r.exports,r,r.exports,l),r.exports}l.m=o,e=[],l.O=(t,r,o,n)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,o,n]=e[u],c=!0,a=0;a<r.length;a++)(!1&n||s>=n)&&Object.keys(l.O).every((e=>l.O[e](r[a])))?r.splice(a--,1):(c=!1,n<s&&(s=n));if(c){e.splice(u--,1);var i=o();void 0!==i&&(t=i)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,o,n]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var s={};t=t||[null,r({}),r([]),r(r)];for(var c=2&o&&e;"object"==typeof c&&!~t.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,l.d(n,s),n},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.j=3750,(()=>{var e={3750:0};l.O.j=t=>0===e[t];var t=(t,r)=>{var o,n,[s,c,a]=r,i=0;if(s.some((t=>0!==e[t]))){for(o in c)l.o(c,o)&&(l.m[o]=c[o]);if(a)var u=a(l)}for(t&&t(r);i<s.length;i++)n=s[i],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(u)},r=self.webpackChunkwebpackWcBlocksMainJsonp=self.webpackChunkwebpackWcBlocksMainJsonp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=l.O(void 0,[94],(()=>l(9412)));s=l.O(s),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-filter-status"]=s})();
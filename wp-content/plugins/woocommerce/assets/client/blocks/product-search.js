(()=>{var e,o,t,r={3421:(e,o,t)=>{"use strict";const r=window.wp.hooks,c=window.wp.blockEditor,l=window.wp.data;var a=t(7723),s=t(4530),n=t(428);const i=window.wc.wcSettings,d=window.wc.wcTypes,u=window.wp.components,p=window.wp.blocks;t(2434),t(1664);var b=t(6087);const h="core/search",m="woocommerce/product-search";let w=function(e){return e.OUTSIDE="button-outside",e.INSIDE="button-inside",e.NO_BUTTON="no-button",e.BUTTON_ONLY="button-only",e.INPUT_AND_BUTTON="input-and-button",e}({});function _(e){return"button-outside"===e||"button-inside"===e}function g(e){return _(e)?w.INPUT_AND_BUTTON:e}function x(e){return _(e)?e:w.OUTSIDE}var f=t(790);const k=e=>{const{attributes:o,setAttributes:t}=e,{buttonPosition:r,buttonUseIcon:l,showLabel:s}=o,[n,i]=(0,b.useState)(r);return(0,b.useEffect)((()=>{_(r)&&n!==r&&i(r)}),[r]),(0,f.jsx)(c.InspectorControls,{group:"styles",children:(0,f.jsxs)(u.PanelBody,{title:(0,a.__)("Styles","woocommerce"),children:[(0,f.jsx)(u.RadioControl,{selected:g(r),options:[{label:(0,a.__)("Input and button","woocommerce"),value:w.INPUT_AND_BUTTON},{label:(0,a.__)("Input only","woocommerce"),value:w.NO_BUTTON},{label:(0,a.__)("Button only","woocommerce"),value:w.BUTTON_ONLY}],onChange:e=>{if(e!==w.INPUT_AND_BUTTON)t({buttonPosition:e});else{const e=x(n);t({buttonPosition:e})}}}),r!==w.NO_BUTTON&&(0,f.jsxs)(f.Fragment,{children:[r!==w.BUTTON_ONLY&&(0,f.jsxs)(u.__experimentalToggleGroupControl,{label:(0,a.__)("BUTTON POSITION","woocommerce"),isBlock:!0,onChange:e=>{t({buttonPosition:e})},value:x(r),children:[(0,f.jsx)(u.__experimentalToggleGroupControlOption,{value:w.INSIDE,label:(0,a.__)("Inside","woocommerce")}),(0,f.jsx)(u.__experimentalToggleGroupControlOption,{value:w.OUTSIDE,label:(0,a.__)("Outside","woocommerce")})]}),(0,f.jsxs)(u.__experimentalToggleGroupControl,{label:(0,a.__)("BUTTON APPEARANCE","woocommerce"),isBlock:!0,onChange:e=>{t({buttonUseIcon:e})},value:l,children:[(0,f.jsx)(u.__experimentalToggleGroupControlOption,{value:!1,label:(0,a.__)("Text","woocommerce")}),(0,f.jsx)(u.__experimentalToggleGroupControlOption,{value:!0,label:(0,a.__)("Icon","woocommerce")})]})]}),(0,f.jsx)(u.ToggleControl,{label:(0,a.__)("Show input label","woocommerce"),checked:s,onChange:e=>t({showLabel:e})})]})})};var v=t(4921);const y=({attributes:{label:e,placeholder:o,formId:t,className:r,hasLabel:c,align:l}})=>{const s=(0,v.A)("wc-block-product-search",l?"align"+l:"",r);return(0,f.jsx)("div",{className:s,children:(0,f.jsxs)("form",{role:"search",method:"get",action:i.HOME_URL,children:[(0,f.jsx)("label",{htmlFor:t,className:c?"wc-block-product-search__label":"wc-block-product-search__label screen-reader-text",children:e}),(0,f.jsxs)("div",{className:"wc-block-product-search__fields",children:[(0,f.jsx)("input",{type:"search",id:t,className:"wc-block-product-search__field",placeholder:o,name:"s"}),(0,f.jsx)("input",{type:"hidden",name:"post_type",value:"product"}),(0,f.jsx)("button",{type:"submit",className:"wc-block-product-search__button","aria-label":(0,a.__)("Search","woocommerce"),children:(0,f.jsx)("svg",{"aria-hidden":"true",role:"img",focusable:"false",className:"dashicon dashicons-arrow-right-alt2",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{d:"M6 15l5-5-5-5 1-2 7 7-7 7z"})})})]})]})})},j=(0,t(9491).withInstanceId)((({attributes:{label:e,placeholder:o,formId:t,className:r,hasLabel:l,align:s},instanceId:n,setAttributes:i})=>{const d=(0,v.A)("wc-block-product-search",s?"align"+s:"",r);return(0,b.useEffect)((()=>{t||i({formId:`wc-block-product-search-${n}`})}),[t,i,n]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.InspectorControls,{children:(0,f.jsx)(u.PanelBody,{title:(0,a.__)("Content","woocommerce"),initialOpen:!0,children:(0,f.jsx)(u.ToggleControl,{label:(0,a.__)("Show search field label","woocommerce"),checked:l,onChange:()=>i({hasLabel:!l})})})},"inspector"),(0,f.jsxs)("div",{className:d,children:[!!l&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("label",{className:"screen-reader-text",htmlFor:"wc-block-product-search__label",children:(0,a.__)("Search Label","woocommerce")}),(0,f.jsx)(c.PlainText,{className:"wc-block-product-search__label",id:"wc-block-product-search__label",value:e,onChange:e=>i({label:e}),style:{backgroundColor:"transparent"}})]}),(0,f.jsxs)("div",{className:"wc-block-product-search__fields",children:[(0,f.jsx)(u.TextControl,{className:"wc-block-product-search__field input-control",value:o,placeholder:(0,a.__)("Enter search placeholder text","woocommerce"),onChange:e=>i({placeholder:e})}),(0,f.jsx)("button",{type:"submit",className:"wc-block-product-search__button","aria-label":(0,a.__)("Search","woocommerce"),onClick:e=>e.preventDefault(),tabIndex:-1,children:(0,f.jsx)("svg",{"aria-hidden":"true",role:"img",focusable:"false",className:"dashicon dashicons-arrow-right-alt2",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{d:"M6 15l5-5-5-5 1-2 7 7-7 7z"})})})]})]})]})})),T=(0,i.getSettingWithCoercion)("isBlockVariationAvailable",!1,d.isBoolean),O={hasLabel:{type:"boolean",default:!0},label:{type:"string",default:(0,a.__)("Search","woocommerce")},placeholder:{type:"string",default:(0,a.__)("Search productsâ€¦","woocommerce")},formId:{type:"string",default:""}},N={label:O.label.default,buttonText:O.label.default,placeholder:O.placeholder.default,query:{post_type:"product"},namespace:m};(0,p.registerBlockType)(m,{title:(0,a.__)("Product Search","woocommerce"),apiVersion:3,icon:{src:(0,f.jsx)(s.A,{icon:n.A,className:"wc-block-editor-components-block-icon"})},category:"woocommerce",keywords:[(0,a.__)("WooCommerce","woocommerce")],description:(0,a.__)("A search box to allow customers to search for products by keyword.","woocommerce"),supports:{align:["wide","full"],inserter:!T},attributes:O,transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:({idBase:e,instance:o})=>"woocommerce_product_search"===e&&!!o?.raw,transform:({instance:e})=>(0,p.createBlock)(m,{label:e.raw.title||N.label})}]},deprecated:[{attributes:O,save:e=>(0,f.jsx)("div",{children:(0,f.jsx)(y,{...e})})}],edit:T?({clientId:e})=>{const{replaceBlocks:o}=(0,l.useDispatch)(c.store),t=(0,l.useSelect)((o=>o("core/block-editor").getBlockAttributes(e)),[e]),r=[(0,f.jsx)(u.Button,{onClick:()=>{o(e,(0,p.createBlock)("core/search",{label:t?.label||N.label,buttonText:N.buttonText,placeholder:t?.placeholder||N.placeholder,query:N.query}))},variant:"primary",children:(0,a.__)("Upgrade Block","woocommerce")},"update")];return(0,f.jsx)(c.Warning,{actions:r,className:"wc-block-components-actions",children:(0,a.__)("This version of the Product Search block is outdated. Upgrade to continue using.","woocommerce")})}:j,save:()=>null}),(0,r.addFilter)("blocks.registerBlockType",m,(function(e,o){return"core/search"===o&&(e.attributes={...e.attributes,namespace:{type:"string"}}),e})),T&&((0,p.registerBlockVariation)("core/search",{name:m,title:(0,a.__)("Product Search","woocommerce"),icon:{src:(0,f.jsx)(s.A,{icon:n.A,className:"wc-block-editor-components-block-icon"})},isActive:(e,o)=>e.query?.post_type===o.query.post_type,category:"woocommerce",keywords:[(0,a.__)("WooCommerce","woocommerce")],description:(0,a.__)("A search box to allow customers to search for products by keyword.","woocommerce"),attributes:N}),(0,r.addFilter)("editor.BlockEdit",h,(e=>o=>function(e){return e.name===h&&e.attributes?.namespace===m}(o)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(k,{...o}),(0,f.jsx)(e,{...o})]}):(0,f.jsx)(e,{...o}))))},1664:()=>{},2434:()=>{},1609:e=>{"use strict";e.exports=window.React},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},9491:e=>{"use strict";e.exports=window.wp.compose},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},5573:e=>{"use strict";e.exports=window.wp.primitives}},c={};function l(e){var o=c[e];if(void 0!==o)return o.exports;var t=c[e]={exports:{}};return r[e].call(t.exports,t,t.exports,l),t.exports}l.m=r,e=[],l.O=(o,t,r,c)=>{if(!t){var a=1/0;for(d=0;d<e.length;d++){for(var[t,r,c]=e[d],s=!0,n=0;n<t.length;n++)(!1&c||a>=c)&&Object.keys(l.O).every((e=>l.O[e](t[n])))?t.splice(n--,1):(s=!1,c<a&&(a=c));if(s){e.splice(d--,1);var i=r();void 0!==i&&(o=i)}}return o}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[t,r,c]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var c=Object.create(null);l.r(c);var a={};o=o||[null,t({}),t([]),t(t)];for(var s=2&r&&e;"object"==typeof s&&!~o.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((o=>a[o]=()=>e[o]));return a.default=()=>e,l.d(c,a),c},l.d=(e,o)=>{for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.j=2545,(()=>{var e={2545:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var r,c,[a,s,n]=t,i=0;if(a.some((o=>0!==e[o]))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(n)var d=n(l)}for(o&&o(t);i<a.length;i++)c=a[i],l.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return l.O(d)},t=globalThis.webpackChunkwebpackWcBlocksMainJsonp=globalThis.webpackChunkwebpackWcBlocksMainJsonp||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var a=l.O(void 0,[94],(()=>l(3421)));a=l.O(a),((this.wc=this.wc||{}).blocks=this.wc.blocks||{})["product-search"]=a})();
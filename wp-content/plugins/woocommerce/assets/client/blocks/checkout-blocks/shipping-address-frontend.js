(self.webpackChunkwebpackWcBlocksCartCheckoutFrontendJsonp=self.webpackChunkwebpackWcBlocksCartCheckoutFrontendJsonp||[]).push([[636],{5263:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var n=s(1609),r=s(7723),a=s(3993),d=s(5703),i=s(7222),o=s(9155);s(1094);const c=({address:e,onEdit:t,target:s,isExpanded:c})=>{const l=(0,d.getSetting)("countryData",{});let p=(0,d.getSetting)("defaultAddressFormat","{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}\n{postcode}\n{country}");(0,a.objectHasProp)(l,null==e?void 0:e.country)&&(0,a.objectHasProp)(l[e.country],"format")&&(0,a.isString)(l[e.country].format)&&(p=l[e.country].format);const{name:m,address:u}=(0,i.M0)(e,p),g="shipping"===s?(0,r.__)("Edit shipping address","woocommerce"):(0,r.__)("Edit billing address","woocommerce");return(0,n.createElement)("div",{className:"wc-block-components-address-card"},(0,n.createElement)("address",null,(0,n.createElement)("span",{className:"wc-block-components-address-card__address-section"},m),(0,n.createElement)("div",{className:"wc-block-components-address-card__address-section"},u.filter((e=>!!e)).map(((e,t)=>(0,n.createElement)("span",{key:"address-"+t},e)))),e.phone?(0,n.createElement)("div",{key:"address-phone",className:"wc-block-components-address-card__address-section"},e.phone):""),t&&(0,n.createElement)(o.$,{render:(0,n.createElement)("span",null),className:"wc-block-components-address-card__edit","aria-controls":s,"aria-expanded":c,"aria-label":g,onClick:e=>{e.preventDefault(),t()},type:"button"},(0,r.__)("Edit","woocommerce")))}},9074:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(1609),r=s(851);s(7259);const a=({isEditing:e=!1,addressCard:t,addressForm:s})=>{const a=(0,r.A)("wc-block-components-address-address-wrapper",{"is-editing":e});return(0,n.createElement)("div",{className:a},(0,n.createElement)("div",{className:"wc-block-components-address-card-wrapper"},t()),(0,n.createElement)("div",{className:"wc-block-components-address-form-wrapper"},s()))}},1342:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(7723);const r=({defaultTitle:e=(0,n.__)("Step","woocommerce"),defaultDescription:t=(0,n.__)("Step description text.","woocommerce"),defaultShowStepNumber:s=!0})=>({title:{type:"string",default:e},description:{type:"string",default:t},showStepNumber:{type:"boolean",default:s}})},2868:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(1609),r=s(851),a=s(1616),d=s(4656),i=s(1019),o=s(7143),c=s(7594),l=s(7723),p=s(6087),m=s(4375),u=s(1759),g=s(8755),h=s(9006),E=s(5703),_=s(3643),b=s(4434),S=s(9499),w=s(2516),k=s(9074),f=s(5263);const A=()=>{const{shippingAddress:e,setShippingAddress:t,setBillingAddress:s,useShippingAsBilling:r,editingShippingAddress:a,setEditingShippingAddress:d}=(0,i.C)(),{dispatchCheckoutEvent:l}=(0,S.y)(),{hasValidationErrors:m,invalidProps:u}=(0,o.useSelect)((t=>{const s=t(c.validationStore);return{hasValidationErrors:s.hasValidationErrors(),invalidProps:Object.keys(e).filter((e=>void 0!==s.getValidationError("shipping_"+e))).filter(Boolean)}}));(0,p.useEffect)((()=>{u.length>0&&!1===a&&d(!0)}),[a,m,u.length,d]);const g=(0,p.useCallback)((e=>{t(e),r&&(s(e),l("set-billing-address")),l("set-shipping-address")}),[l,s,t,r]),h=(0,p.useCallback)((()=>(0,n.createElement)(f.A,{address:e,target:"shipping",onEdit:()=>{d(!0)},isExpanded:a})),[e,a,d]),E=(0,p.useCallback)((()=>(0,n.createElement)(b.l,{id:"shipping",addressType:"shipping",onChange:g,values:e,fields:w.Hw,isEditing:a})),[g,e,a]);return(0,n.createElement)(k.A,{isEditing:a,addressCard:h,addressForm:E})},v=()=>{const{defaultFields:e,setBillingAddress:t,shippingAddress:s,billingAddress:r,useShippingAsBilling:a,setUseShippingAsBilling:b,setEditingBillingAddress:S}=(0,i.C)(),{isEditor:w}=(0,u.m)(),k=0===(0,E.getSetting)("currentUserId"),f=()=>{var n,r;const a={...s};null!=e&&null!==(n=e.phone)&&void 0!==n&&n.hidden&&delete a.phone,null!=e&&null!==(r=e.company)&&void 0!==r&&r.hidden&&delete a.company,t(a)};(0,m.Su)((()=>{a&&f()}));const v=w?h.A:p.Fragment,C=a?[g.tG.SHIPPING_ADDRESS,g.tG.BILLING_ADDRESS]:[g.tG.SHIPPING_ADDRESS],{cartDataLoaded:y}=(0,o.useSelect)((e=>({cartDataLoaded:e(c.CART_STORE_KEY).hasFinishedResolution("getCartData")})));return(0,n.createElement)(p.Fragment,null,(0,n.createElement)(d.StoreNoticesContainer,{context:C}),(0,n.createElement)(v,null,y?(0,n.createElement)(A,null):null),(0,n.createElement)(d.CheckboxControl,{className:"wc-block-checkout__use-address-for-billing",label:(0,l.__)("Use same address for billing","woocommerce"),checked:a,onChange:e=>{b(e),e?f():(S(!0),(e=>{if(!e||!k)return;const s=(0,_.ln)(e);t(s)})(r))}}))},C={...(0,s(1342).A)({defaultTitle:(0,l.__)("Shipping address","woocommerce"),defaultDescription:(0,l.__)("Enter the address where you want your order delivered.","woocommerce")}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};var y=s(3588);const N=(0,a.withFilteredAttributes)(C)((({title:e,description:t,children:s,className:a})=>{const l=(0,o.useSelect)((e=>e(c.CHECKOUT_STORE_KEY).isProcessing())),{showShippingFields:p}=(0,i.C)(),{showFormStepNumbers:m}=(0,y.O)();return p?(0,n.createElement)(d.FormStep,{id:"shipping-fields",disabled:l,className:(0,r.A)("wc-block-checkout__shipping-fields",a),title:e,description:t,showStepNumber:m},(0,n.createElement)(v,null),s):null}))},1094:()=>{},7259:()=>{}}]);
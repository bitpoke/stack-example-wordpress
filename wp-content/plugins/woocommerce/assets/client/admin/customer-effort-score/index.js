(()=>{"use strict";var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var s in t)e.o(t,s)&&!e.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:t[s]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{ADMIN_INSTALL_TIMESTAMP_OPTION_NAME:()=>f,ALLOW_TRACKING_OPTION_NAME:()=>h,CustomerEffortScore:()=>m,CustomerEffortScoreModalContainer:()=>G,CustomerEffortScoreTracks:()=>Z,CustomerEffortScoreTracksContainer:()=>oe,CustomerFeedbackModal:()=>u,CustomerFeedbackSimple:()=>re,FeedbackModal:()=>ne,QUEUE_OPTION_NAME:()=>T,SHOWN_FOR_ACTIONS_OPTION_NAME:()=>g,STORE_KEY:()=>O,addCustomerEffortScoreExitPageListener:()=>Y,addExitPage:()=>U,getExitPageData:()=>I,getStoreAgeInWeeks:()=>z,removeCustomerEffortScoreExitPageListener:()=>j,removeExitPage:()=>W,triggerExitPageCesSurvey:()=>K,useCustomerEffortScoreExitPageTracker:()=>ie,useCustomerEffortScoreModal:()=>ce});var t={};e.r(t),e.d(t,{addCesSurvey:()=>y,addCesSurveyForAnalytics:()=>M,addCesSurveyForCustomerSearch:()=>k,hideCesModal:()=>v,hideProductMVPFeedbackModal:()=>D,setCesSurveyQueue:()=>b,showCesModal:()=>C,showProductMVPFeedbackModal:()=>P});var s={};e.r(s),e.d(s,{getCesSurveyQueue:()=>x});var r={};e.r(r),e.d(r,{getCesSurveyQueue:()=>Q,getVisibleCESModalData:()=>A,isProductMVPFeedbackModalVisible:()=>L});const n=window.wp.element,c=window.wp.i18n,i=window.wp.data,a=window.wp.components,l=window.wc.experimental;function u({recordScoreCallback:e,title:o=(0,c.__)("Please share your feedback","woocommerce"),description:t,showDescription:s=!0,firstQuestion:r,secondQuestion:i,defaultScore:u=NaN,onCloseModal:d,customOptions:m,shouldShowComments:_=(e,o)=>[e,o].some((e=>1===e||2===e)),getExtraFieldsToBeShown:w,validateExtraFields:p}){const f=m&&m.length>0?m:[{label:(0,c.__)("Strongly disagree","woocommerce"),value:"1"},{label:(0,c.__)("Disagree","woocommerce"),value:"2"},{label:(0,c.__)("Neutral","woocommerce"),value:"3"},{label:(0,c.__)("Agree","woocommerce"),value:"4"},{label:(0,c.__)("Strongly Agree","woocommerce"),value:"5"}],[h,g]=(0,n.useState)(u||NaN),[S,E]=(0,n.useState)(u||NaN),[b,y]=(0,n.useState)(""),[C,v]=(0,n.useState)(!1),[M,k]=(0,n.useState)(!0),[P,D]=(0,n.useState)({}),[O,N]=(0,n.useState)({}),T=()=>{k(!1),d&&d()},x=(e,o)=>{const t=parseInt(e,10);o(t),v(!Number.isInteger(t))};return M?(0,n.createElement)(a.Modal,{className:"woocommerce-customer-effort-score",title:o,onRequestClose:T,shouldCloseOnClickOutside:!1},s&&(0,n.createElement)(l.Text,{variant:"body",as:"p",className:"woocommerce-customer-effort-score__intro",size:14,lineHeight:"20px",marginBottom:"1.5em"},t||(0,c.__)("Your feedback will help create a better experience for thousands of merchants like you. Please tell us to what extent you agree or disagree with the statements below.","woocommerce")),(0,n.createElement)(l.Text,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px"},r),(0,n.createElement)("div",{className:"woocommerce-customer-effort-score__selection"},(0,n.createElement)(a.RadioControl,{selected:h.toString(10),options:f,onChange:e=>x(e,g),className:"woocommerce-customer-effort-score__radio-control"})),i&&(0,n.createElement)(l.Text,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px"},i),i&&(0,n.createElement)("div",{className:"woocommerce-customer-effort-score__selection"},(0,n.createElement)(a.RadioControl,{selected:S.toString(10),options:f,onChange:e=>x(e,E),className:"woocommerce-customer-effort-score__radio-control"})),"function"==typeof _&&_(h,S)&&(0,n.createElement)("div",{className:"woocommerce-customer-effort-score__comments"},(0,n.createElement)(a.TextareaControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("How is that screen useful to you? What features would you add or change?","woocommerce"),help:(0,c.__)("Your feedback will go to the WooCommerce development team","woocommerce"),value:b,placeholder:(0,c.__)("Optional, but much apprecated. We love reading your feedback!","woocommerce"),onChange:e=>y(e),rows:5})),C&&(0,n.createElement)("div",{className:"woocommerce-customer-effort-score__errors",role:"alert"},(0,n.createElement)(l.Text,{variant:"body",as:"p"},(0,c.__)("Please tell us to what extent you agree or disagree with the statements above.","woocommerce"))),"function"==typeof w&&w(P,D,O),(0,n.createElement)("div",{className:"woocommerce-customer-effort-score__buttons"},(0,n.createElement)(a.Button,{isTertiary:!0,onClick:T,name:"cancel"},(0,c.__)("Cancel","woocommerce")),(0,n.createElement)(a.Button,{isPrimary:!0,onClick:()=>{const o=!Number.isInteger(h)||i&&!Number.isInteger(S);o&&v(!0);const t="function"==typeof p?p(P):{},s=0===Object.keys(t).length;!o&&s?(k(!1),e(h,S,b,P)):N(t)},name:"send"},(0,c.__)("Share","woocommerce")))):null}const d=()=>{};function m({recordScoreCallback:e,title:o,description:t,showDescription:s=!0,noticeLabel:r,firstQuestion:a,secondQuestion:l,onNoticeShownCallback:m=d,onNoticeDismissedCallback:_=d,onModalShownCallback:w=d,onModalDismissedCallback:p=d,icon:f,shouldShowComments:h=(e,o)=>[e,o].some((e=>1===e||2===e)),getExtraFieldsToBeShown:g,validateExtraFields:S}){const[E,b]=(0,n.useState)(!0),[y,C]=(0,n.useState)(!1),{createNotice:v}=(0,i.useDispatch)("core/notices2");return(0,n.useEffect)((()=>{E&&(v("success",r||o,{actions:[{label:(0,c.__)("Give feedback","woocommerce"),onClick:()=>{C(!0),w()}}],icon:f,explicitDismiss:!0,onDismiss:_}),b(!1),m())}),[E]),E?null:y?(0,n.createElement)(u,{title:o,description:t,showDescription:s,firstQuestion:a,secondQuestion:l,recordScoreCallback:e,onCloseModal:p,shouldShowComments:h,getExtraFieldsToBeShown:g,validateExtraFields:S}):null}const _=window.wc.data,w=window.wc.tracks,p=window.wc.navigation,f="woocommerce_admin_install_timestamp",h="woocommerce_allow_tracking",g="woocommerce_ces_shown_for_actions",S=window.wp.dataControls,E={SET_CES_SURVEY_QUEUE:"SET_CES_SURVEY_QUEUE",ADD_CES_SURVEY:"ADD_CES_SURVEY",SHOW_CES_MODAL:"SHOW_CES_MODAL",HIDE_CES_MODAL:"HIDE_CES_MODAL",SHOW_PRODUCT_MVP_FEEDBACK_MODAL:"SHOW_PRODUCT_MVP_FEEDBACK_MODAL",HIDE_PRODUCT_MVP_FEEDBACK_MODAL:"HIDE_PRODUCT_MVP_FEEDBACK_MODAL"};function b(e){return{type:E.SET_CES_SURVEY_QUEUE,queue:e}}function y({action:e,title:o,description:t,noticeLabel:s,firstQuestion:r,secondQuestion:n,icon:c,pageNow:i=window.pagenow,adminPage:a=window.adminpage,onsubmitLabel:l,props:u={}}){return{type:E.ADD_CES_SURVEY,action:e,title:o,description:t,noticeLabel:s,firstQuestion:r,secondQuestion:n,icon:c,pageNow:i,adminPage:a,onsubmit_label:l,props:u}}function C(e={},o={},t={},s={}){return{type:E.SHOW_CES_MODAL,surveyProps:e,onsubmit_label:e.onsubmitLabel||"",props:o,onSubmitNoticeProps:t,tracksProps:s}}function v(){return{type:E.HIDE_CES_MODAL}}function M(){return y({action:"analytics_filtered",title:(0,c.__)("How easy was it to filter your store analytics?","woocommerce"),firstQuestion:(0,c.__)("The filters in the analytics screen are easy to use.","woocommerce"),secondQuestion:(0,c.__)("The filters' functionality meets my needs.","woocommerce"),pageNow:"woocommerce_page_wc-admin",adminPage:"woocommerce_page_wc-admin"})}function k(){return y({action:"ces_search",title:(0,c.__)("How easy was it to use search?","woocommerce"),firstQuestion:(0,c.__)("The search feature in WooCommerce is easy to use.","woocommerce"),secondQuestion:(0,c.__)("The search's functionality meets my needs.","woocommerce"),pageNow:"woocommerce_page_wc-admin",adminPage:"woocommerce_page_wc-admin",onsubmit_label:void 0,props:{search_area:"customer"}})}function P(){return{type:E.SHOW_PRODUCT_MVP_FEEDBACK_MODAL}}function D(){return{type:E.HIDE_PRODUCT_MVP_FEEDBACK_MODAL}}const O="wc/customer-effort-score",N="/wc-admin",T="woocommerce_ces_tracks_queue";function*x(){const e=yield(0,S.apiFetch)({path:`${N}/options?options=${T}`});if(!e)throw new Error;yield b(e[T]||[])}function Q(e){return e.queue}function A(e){return e.showCESModal?e.cesModalData:void 0}function L(e){return e.showProductMVPFeedbackModal}const F={queue:[],cesModalData:void 0,showCESModal:!1,showProductMVPFeedbackModal:!1},H=(0,i.createReduxStore)(O,{actions:t,selectors:r,resolvers:s,controls:S.controls,reducer:(e=F,o)=>{switch(o.type){case E.SET_CES_SURVEY_QUEUE:return{...e,queue:[...e.queue,...o.queue]};case E.HIDE_CES_MODAL:return{...e,showCESModal:!1,cesModalData:void 0};case E.SHOW_CES_MODAL:const t={action:o.surveyProps.action,description:o.surveyProps.description,showDescription:o.surveyProps.showDescription,title:o.surveyProps.title,onSubmitLabel:o.onsubmit_label,firstQuestion:o.surveyProps.firstQuestion,secondQuestion:o.surveyProps.secondQuestion,onSubmitNoticeProps:o.onSubmitNoticeProps||{},props:o.props,tracksProps:o.tracksProps,getExtraFieldsToBeShown:o.surveyProps.getExtraFieldsToBeShown,validateExtraFields:o.surveyProps.validateExtraFields};return{...e,showCESModal:!0,cesModalData:t};case E.ADD_CES_SURVEY:if(e.queue.filter((e=>e.action===o.action)).length)return e;const s={action:o.action,title:o.title,description:o.description,noticeLabel:o.noticeLabel,firstQuestion:o.firstQuestion,secondQuestion:o.secondQuestion,icon:o.icon,pagenow:o.pageNow,adminpage:o.adminPage,onSubmitLabel:o.onSubmitLabel,props:o.props};return{...e,queue:[...e.queue,s]};case E.SHOW_PRODUCT_MVP_FEEDBACK_MODAL:return{...e,showProductMVPFeedbackModal:!0};case E.HIDE_PRODUCT_MVP_FEEDBACK_MODAL:return{...e,showProductMVPFeedbackModal:!1};default:return e}}});(0,i.register)(H);const R=H,V="customer-effort-score-exit-page",I=()=>{if(!window.localStorage)return[];const e=window.localStorage.getItem(V),o=e?JSON.parse(e):[];return Array.isArray(o)?o:[]},B=async()=>"yes"===await(0,i.resolveSelect)(_.optionsStore).getOption(h),U=async e=>{const o=await B();if(!window.localStorage||!o)return;let t=I();t.find((o=>o===e))||t.push(e),t=t.slice(-10),window.localStorage.setItem(V,JSON.stringify(t))},W=e=>{if(!window.localStorage)return;let o=I();o=o.filter((o=>o!==e)),o=o.slice(-10),window.localStorage.setItem(V,JSON.stringify(o))},q={},Y=(e,o)=>{B(),q[e]=()=>{o()&&U(e)},window.addEventListener("unload",q[e])},j=e=>{q[e]&&window.removeEventListener("unload",q[e],{capture:!0})};function K(){const e=I();if(e?.length){if(!function(e){const o={import_products:()=>"product_importer"!==(0,p.getQuery)().page};return!o[e]||o[e]()}(e[0]))return;const o=function(e){switch(e){case"product_edit_view":case"editing_new_product":return{action:"editing_new_product"===e?"new_product":e,noticeLabel:(0,c.__)("How is your experience with editing products?","woocommerce"),title:(0,c.__)("How's your experience with editing products?","woocommerce"),description:(0,c.__)("We noticed you started editing a product, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,c.__)("The product editing screen is easy to use","woocommerce"),secondQuestion:(0,c.__)("The product editing screen's functionality meets my needs","woocommerce")};case"product_add_view":case"new_product":return{action:e,noticeLabel:(0,c.__)("How is your experience with creating products?","woocommerce"),title:(0,c.__)("How is your experience with creating products?","woocommerce"),description:(0,c.__)("We noticed you started creating a product, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,c.__)("The product creation screen is easy to use","woocommerce"),secondQuestion:(0,c.__)("The product creation screen's functionality meets my needs","woocommerce")};case"settings_change":return{action:e,icon:"⚙️",noticeLabel:(0,c.__)("Did you find the right setting?","woocommerce"),title:(0,c.__)("How’s your experience with settings?","woocommerce"),description:(0,c.__)("We noticed you started changing store settings, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,c.__)("The settings screen is easy to use","woocommerce"),secondQuestion:(0,c.__)("The settings screen's functionality meets my needs","woocommerce")};case"shop_order_update":return{action:e,icon:"📦",noticeLabel:(0,c.__)("How easy or difficult was it to update this order?","woocommerce"),title:(0,c.__)("How's your experience with orders?","woocommerce"),description:(0,c.__)("We noticed you started editing an order, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,c.__)("The order editing screen is easy to use","woocommerce"),secondQuestion:(0,c.__)("The order details screen's functionality meets my needs","woocommerce")};case"import_products":return{action:e,icon:"🔄",noticeLabel:(0,c.__)("How is your experience with importing products?","woocommerce"),title:(0,c.__)("How's your experience with importing products?","woocommerce"),description:(0,c.__)("We noticed you started importing products, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,c.__)("The product import screen is easy to use","woocommerce"),secondQuestion:(0,c.__)("The product import screen's functionality meets my needs","woocommerce")};default:return null}}(e[0]);o?.title?.length&&(0,i.dispatch)(R).addCesSurvey({...o,pageNow:window.pagenow,adminPage:window.adminpage,props:{ces_location:"outside"}}),W(e[0])}}function z(e){if(0===e)return null;const o=Date.now()-1e3*e;return Math.round(o/_.WEEK)}const G=()=>{const{createSuccessNotice:e}=(0,i.useDispatch)("core/notices"),{hideCesModal:o}=(0,i.useDispatch)(R),{storeAgeInWeeks:t,resolving:s,visibleCESModalData:r}=(0,i.useSelect)((e=>{const{getOption:o,hasFinishedResolution:t}=e(_.optionsStore),{getVisibleCESModalData:s}=e(R),r=o(f)||0,n=null===r||!t("getOption",[f]);return{storeAgeInWeeks:z(r),visibleCESModalData:s(),resolving:n}}),[]);return!r||s?null:(0,n.createElement)(u,{title:r.title,description:r.description,showDescription:r.showDescription,firstQuestion:r.firstQuestion,secondQuestion:r.secondQuestion,recordScoreCallback:(...s)=>{((o,s,n,i={})=>{(0,w.recordEvent)("ces_feedback",{action:r.action,score:o,score_second_question:null!=s?s:null,score_combined:o+(null!=s?s:0),comments:n||"",...i,store_age:t,...r.tracksProps}),e(r.onSubmitLabel||(0,c.__)("Thanks for the feedback. We'll put it to good use!","woocommerce"),r.onSubmitNoticeProps||{})})(...s),o(),r.props?.onRecordScore?.()},onCloseModal:()=>{r.props?.onCloseModal?.(),o()},shouldShowComments:r.props?.shouldShowComments,getExtraFieldsToBeShown:r.getExtraFieldsToBeShown,validateExtraFields:r.validateExtraFields})},J=window.wp.compose,$=window.wp.apiFetch;var X=e.n($);const Z=(0,J.compose)((0,i.withSelect)((e=>{const{getOption:o,hasFinishedResolution:t}=e(_.optionsStore),s=o(g),r=z(o(f)||0);return{cesShownForActions:s,allowTracking:"yes"===(o(h)||"no"),storeAgeInWeeks:r,resolving:!t("getOption",[g])||null===r||!t("getOption",[f])||!t("getOption",[h])}})),(0,i.withDispatch)((e=>{const{createNotice:o}=e("core/notices");return{createNotice:o}})))((function({action:e,trackProps:o,title:t,description:s,noticeLabel:r,firstQuestion:i,secondQuestion:a,icon:l,onSubmitLabel:u=(0,c.__)("Thank you for your feedback!","woocommerce"),cesShownForActions:d,allowTracking:_,resolving:p,storeAgeInWeeks:f,createNotice:h}){const[S,E]=(0,n.useState)(!1);return p?null:_?d&&-1!==d.indexOf(e)&&!S?null:(0,n.createElement)(m,{recordScoreCallback:(t,s,r)=>{(0,w.recordEvent)("ces_feedback",{action:e,score:t,score_second_question:s,score_combined:t+s,comments:r||"",store_age:f,ces_location:"inside",...o}),h("success",u)},title:t,description:s,noticeLabel:r,firstQuestion:i,secondQuestion:a,onNoticeShownCallback:()=>{(0,w.recordEvent)("ces_snackbar_view",{action:e,store_age:f,ces_location:"inside",...o}),d&&d.includes(e)||X()({path:"wc-admin/options",method:"POST",data:{[g]:[e,...d||[]]}})},onNoticeDismissedCallback:()=>{(0,w.recordEvent)("ces_snackbar_dismiss",{action:e,store_age:f,ces_location:"inside",...o})},onModalShownCallback:()=>{E(!0),(0,w.recordEvent)("ces_view",{action:e,store_age:f,ces_location:"inside",...o})},onModalDismissedCallback:()=>{(0,w.recordEvent)("ces_view_dismiss",{action:e,store_age:f,ces_location:"inside",...o})},icon:(0,n.createElement)("span",{style:{height:21,width:21},role:"img","aria-label":(0,c.__)("Pencil icon","woocommerce")},l||"✏")}):null})),ee=window.React,oe=(0,J.compose)((0,i.withSelect)((e=>{const{getCesSurveyQueue:o,isResolving:t}=e(O);return{queue:o(),resolving:t("getOption",[T])}})),(0,i.withDispatch)((e=>{const{updateOptions:o}=e(_.optionsStore);return{clearQueue:()=>{o({woocommerce_clear_ces_tracks_queue_for_page:{pagenow:window.pagenow,adminpage:window.adminpage}})}}})))((function({queue:e,resolving:o,clearQueue:t}){const s=e.filter((e=>e.pagenow===window.pagenow&&e.adminpage===window.adminpage));return(0,ee.useEffect)((()=>{s.length&&t()}),[s]),o?null:(0,n.createElement)(n.Fragment,null,s.map(((e,o)=>(0,n.createElement)(Z,{key:o,action:e.action,description:e.description,noticeLabel:e.noticeLabel,firstQuestion:e.firstQuestion,secondQuestion:e.secondQuestion,icon:e.icon,title:e.title,onSubmitLabel:e.onsubmit_label,trackProps:e.props||{}}))))}));function te(e){var o,t,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(o=0;o<r;o++)e[o]&&(t=te(e[o]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}const se=function(){for(var e,o,t=0,s="",r=arguments.length;t<r;t++)(e=arguments[t])&&(o=te(e))&&(s&&(s+=" "),s+=o);return s};function re({onSelect:e,label:o,selectedValue:t}){const s=[{tooltip:(0,c.__)("Very difficult","woocommerce"),value:1,emoji:"😞"},{tooltip:(0,c.__)("Difficult","woocommerce"),value:2,emoji:"🙁"},{tooltip:(0,c.__)("Neutral","woocommerce"),value:3,emoji:"😑"},{tooltip:(0,c.__)("Good","woocommerce"),value:4,emoji:"🙂"},{tooltip:(0,c.__)("Very good","woocommerce"),value:5,emoji:"😍"}];return(0,n.createElement)("div",{className:"customer-feedback-simple__container"},(0,n.createElement)(l.Text,{variant:"subtitle.small",as:"p",size:"13",lineHeight:"16px"},o),(0,n.createElement)("div",{className:"customer-feedback-simple__selection"},s.map((o=>(0,n.createElement)(a.Tooltip,{text:o.tooltip,key:o.value,position:"top center"},(0,n.createElement)(a.Button,{onClick:()=>{e(o.value)},className:se({"is-selected":t===o.value})},o.emoji))))))}function ne({onSubmit:e,title:o,description:t,onModalClose:s,onCancel:r,children:c,isSubmitButtonDisabled:i,submitButtonLabel:u,cancelButtonLabel:d,className:m}){const[_,w]=(0,n.useState)(!0);return _?(0,n.createElement)(a.Modal,{className:se("woocommerce-feedback-modal",m),title:o,onRequestClose:()=>{w(!1),s&&s()},shouldCloseOnClickOutside:!1},t&&(0,n.createElement)(l.Text,{variant:"body",as:"p",className:"woocommerce-feedback-modal__description",size:14,lineHeight:"20px",marginBottom:"1.5em"},t),c,(0,n.createElement)("div",{className:"woocommerce-feedback-modal__buttons"},(0,n.createElement)(a.Button,{isTertiary:!0,onClick:r,name:"cancel"},d),(0,n.createElement)(a.Button,{isPrimary:!i,isSecondary:i,onClick:()=>{e(),w(!1)},name:"send",disabled:i},u))):null}const ce=()=>{const{showCesModal:e,showProductMVPFeedbackModal:o}=(0,i.useDispatch)(O),{updateOptions:t}=(0,i.useDispatch)(_.optionsStore),{wasPreviouslyShown:s,isLoading:r}=(0,i.useSelect)((e=>{const{getOption:o,hasFinishedResolution:t}=e(_.optionsStore),s=o(g)||[];return{wasPreviouslyShown:e=>s.includes(e),isLoading:!t("getOption",[g])}}),[]);return{wasPreviouslyShown:s,isLoading:r,showCesModal:(o={},s={},r={},n={})=>{e(o,s,r,n),(async e=>{const{getOption:o}=(0,i.resolveSelect)(_.optionsStore),s=await o(g)||[];t({[g]:[e,...s]})})(o.action)},showProductMVPFeedbackModal:o}},ie=(e,o)=>{const t=(0,n.useRef)(o);(0,n.useEffect)((()=>{t.current=o}),[o]),(0,n.useEffect)((()=>()=>{t.current&&U(e)}),[]),(0,n.useEffect)((()=>(Y(e,(()=>o)),()=>{j(e)})),[o])};(window.wc=window.wc||{}).customerEffortScore=o})();
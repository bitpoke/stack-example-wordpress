/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={17855:(e,o)=>{var t;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var t=arguments[o];if(t){var s=typeof t;if("string"===s||"number"===s)e.push(t);else if(Array.isArray(t)){if(t.length){var i=n.apply(null,t);i&&e.push(i)}}else if("object"===s){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var c in t)r.call(t,c)&&t[c]&&e.push(c)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(o,[]))||(e.exports=t)}()},65082:(e,o,t)=>{"use strict";var r=t(63588);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,o,t,n,s,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function o(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,elementType:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:s,resetWarningCache:n};return t.PropTypes=t,t}},69596:(e,o,t)=>{e.exports=t(65082)()},63588:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},o={};function t(r){var n=o[r];if(void 0!==n)return n.exports;var s=o[r]={exports:{}};return e[r](s,s.exports,t),s.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";t.r(r),t.d(r,{ADMIN_INSTALL_TIMESTAMP_OPTION_NAME:()=>h,ALLOW_TRACKING_OPTION_NAME:()=>S,CustomerEffortScore:()=>_,CustomerEffortScoreModalContainer:()=>$,CustomerEffortScoreTracks:()=>oe,CustomerEffortScoreTracksContainer:()=>re,CustomerFeedbackModal:()=>m,CustomerFeedbackSimple:()=>ie,FeedbackModal:()=>ce,QUEUE_OPTION_NAME:()=>Q,SHOWN_FOR_ACTIONS_OPTION_NAME:()=>b,STORE_KEY:()=>x,addCustomerEffortScoreExitPageListener:()=>K,addExitPage:()=>q,getExitPageData:()=>W,getStoreAgeInWeeks:()=>J,removeCustomerEffortScoreExitPageListener:()=>z,removeExitPage:()=>Y,triggerExitPageCesSurvey:()=>G,useCustomerEffortScoreExitPageTracker:()=>le,useCustomerEffortScoreModal:()=>ae});var e={};t.r(e),t.d(e,{addCesSurvey:()=>C,addCesSurveyForAnalytics:()=>M,addCesSurveyForCustomerSearch:()=>D,hideCesModal:()=>P,hideProductMVPFeedbackModal:()=>T,setCesSurveyQueue:()=>v,showCesModal:()=>k,showProductMVPFeedbackModal:()=>O});var o={};t.r(o),t.d(o,{getCesSurveyQueue:()=>L});var n={};t.r(n),t.d(n,{getCesSurveyQueue:()=>A,getVisibleCESModalData:()=>F,isProductMVPFeedbackModalVisible:()=>R});const s=window.wp.element;var i=t(69596),c=t.n(i);const a=window.wp.i18n,l=window.wp.data,u=window.wp.components,d=window.wc.experimental;function m({recordScoreCallback:e,title:o=(0,a.__)("Please share your feedback","woocommerce"),description:t,showDescription:r=!0,firstQuestion:n,secondQuestion:i,defaultScore:c=NaN,onCloseModal:l,customOptions:m,shouldShowComments:p=(e,o)=>[e,o].some((e=>1===e||2===e)),getExtraFieldsToBeShown:_,validateExtraFields:w}){const f=m&&m.length>0?m:[{label:(0,a.__)("Strongly disagree","woocommerce"),value:"1"},{label:(0,a.__)("Disagree","woocommerce"),value:"2"},{label:(0,a.__)("Neutral","woocommerce"),value:"3"},{label:(0,a.__)("Agree","woocommerce"),value:"4"},{label:(0,a.__)("Strongly Agree","woocommerce"),value:"5"}],[g,h]=(0,s.useState)(c||NaN),[S,b]=(0,s.useState)(c||NaN),[E,y]=(0,s.useState)(""),[v,C]=(0,s.useState)(!1),[k,P]=(0,s.useState)(!0),[M,D]=(0,s.useState)({}),[O,T]=(0,s.useState)({}),x=()=>{P(!1),l&&l()},N=(e,o)=>{const t=parseInt(e,10);o(t),C(!Number.isInteger(t))};return k?(0,s.createElement)(u.Modal,{className:"woocommerce-customer-effort-score",title:o,onRequestClose:x,shouldCloseOnClickOutside:!1},r&&(0,s.createElement)(d.Text,{variant:"body",as:"p",className:"woocommerce-customer-effort-score__intro",size:14,lineHeight:"20px",marginBottom:"1.5em"},t||(0,a.__)("Your feedback will help create a better experience for thousands of merchants like you. Please tell us to what extent you agree or disagree with the statements below.","woocommerce")),(0,s.createElement)(d.Text,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px"},n),(0,s.createElement)("div",{className:"woocommerce-customer-effort-score__selection"},(0,s.createElement)(u.RadioControl,{selected:g.toString(10),options:f,onChange:e=>N(e,h),className:"woocommerce-customer-effort-score__radio-control"})),i&&(0,s.createElement)(d.Text,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px"},i),i&&(0,s.createElement)("div",{className:"woocommerce-customer-effort-score__selection"},(0,s.createElement)(u.RadioControl,{selected:S.toString(10),options:f,onChange:e=>N(e,b),className:"woocommerce-customer-effort-score__radio-control"})),"function"==typeof p&&p(g,S)&&(0,s.createElement)("div",{className:"woocommerce-customer-effort-score__comments"},(0,s.createElement)(u.TextareaControl,{label:(0,a.__)("How is that screen useful to you? What features would you add or change?","woocommerce"),help:(0,a.__)("Your feedback will go to the WooCommerce development team","woocommerce"),value:E,placeholder:(0,a.__)("Optional, but much apprecated. We love reading your feedback!","woocommerce"),onChange:e=>y(e),rows:5})),v&&(0,s.createElement)("div",{className:"woocommerce-customer-effort-score__errors",role:"alert"},(0,s.createElement)(d.Text,{variant:"body",as:"p"},(0,a.__)("Please tell us to what extent you agree or disagree with the statements above.","woocommerce"))),"function"==typeof _&&_(M,D,O),(0,s.createElement)("div",{className:"woocommerce-customer-effort-score__buttons"},(0,s.createElement)(u.Button,{isTertiary:!0,onClick:x,name:"cancel"},(0,a.__)("Cancel","woocommerce")),(0,s.createElement)(u.Button,{isPrimary:!0,onClick:()=>{const o=!Number.isInteger(g)||i&&!Number.isInteger(S);o&&C(!0);const t="function"==typeof w?w(M):{},r=0===Object.keys(t).length;!o&&r?(P(!1),e(g,S,E,M)):T(t)},name:"send"},(0,a.__)("Share","woocommerce")))):null}m.propTypes={recordScoreCallback:c().func.isRequired,title:c().string,firstQuestion:c().string.isRequired,secondQuestion:c().string,defaultScore:c().number,onCloseModal:c().func,getExtraFieldsToBeShown:c().func,validateExtraFields:c().func};const p=()=>{},_=({recordScoreCallback:e,title:o,description:t,showDescription:r=!0,noticeLabel:n,firstQuestion:i,secondQuestion:c,onNoticeShownCallback:u=p,onNoticeDismissedCallback:d=p,onModalShownCallback:_=p,onModalDismissedCallback:w=p,icon:f,shouldShowComments:g=(e,o)=>[e,o].some((e=>1===e||2===e)),getExtraFieldsToBeShown:h,validateExtraFields:S})=>{const[b,E]=(0,s.useState)(!0),[y,v]=(0,s.useState)(!1),{createNotice:C}=(0,l.useDispatch)("core/notices2");return(0,s.useEffect)((()=>{b&&(C("success",n||o,{actions:[{label:(0,a.__)("Give feedback","woocommerce"),onClick:()=>{v(!0),_()}}],icon:f,explicitDismiss:!0,onDismiss:d}),E(!1),u())}),[b]),b?null:y?(0,s.createElement)(m,{title:o,description:t,showDescription:r,firstQuestion:i,secondQuestion:c,recordScoreCallback:e,onCloseModal:w,shouldShowComments:g,getExtraFieldsToBeShown:h,validateExtraFields:S}):null};_.propTypes={recordScoreCallback:c().func.isRequired,title:c().string,onNoticeShownCallback:c().func,onNoticeDismissedCallback:c().func,onModalShownCallback:c().func,icon:c().element,firstQuestion:c().string.isRequired,secondQuestion:c().string,shouldShowComments:c().func};const w=window.wc.data,f=window.wc.tracks,g=window.wc.navigation,h="woocommerce_admin_install_timestamp",S="woocommerce_allow_tracking",b="woocommerce_ces_shown_for_actions",E=window.wp.dataControls,y={SET_CES_SURVEY_QUEUE:"SET_CES_SURVEY_QUEUE",ADD_CES_SURVEY:"ADD_CES_SURVEY",SHOW_CES_MODAL:"SHOW_CES_MODAL",HIDE_CES_MODAL:"HIDE_CES_MODAL",SHOW_PRODUCT_MVP_FEEDBACK_MODAL:"SHOW_PRODUCT_MVP_FEEDBACK_MODAL",HIDE_PRODUCT_MVP_FEEDBACK_MODAL:"HIDE_PRODUCT_MVP_FEEDBACK_MODAL"};function v(e){return{type:y.SET_CES_SURVEY_QUEUE,queue:e}}function C({action:e,title:o,description:t,noticeLabel:r,firstQuestion:n,secondQuestion:s,icon:i,pageNow:c=window.pagenow,adminPage:a=window.adminpage,onsubmitLabel:l,props:u={}}){return{type:y.ADD_CES_SURVEY,action:e,title:o,description:t,noticeLabel:r,firstQuestion:n,secondQuestion:s,icon:i,pageNow:c,adminPage:a,onsubmit_label:l,props:u}}function k(e={},o={},t={},r={}){return{type:y.SHOW_CES_MODAL,surveyProps:e,onsubmit_label:e.onsubmitLabel||"",props:o,onSubmitNoticeProps:t,tracksProps:r}}function P(){return{type:y.HIDE_CES_MODAL}}function M(){return C({action:"analytics_filtered",title:(0,a.__)("How easy was it to filter your store analytics?","woocommerce"),firstQuestion:(0,a.__)("The filters in the analytics screen are easy to use.","woocommerce"),secondQuestion:(0,a.__)("The filters' functionality meets my needs.","woocommerce"),pageNow:"woocommerce_page_wc-admin",adminPage:"woocommerce_page_wc-admin"})}function D(){return C({action:"ces_search",title:(0,a.__)("How easy was it to use search?","woocommerce"),firstQuestion:(0,a.__)("The search feature in WooCommerce is easy to use.","woocommerce"),secondQuestion:(0,a.__)("The search's functionality meets my needs.","woocommerce"),pageNow:"woocommerce_page_wc-admin",adminPage:"woocommerce_page_wc-admin",onsubmit_label:void 0,props:{search_area:"customer"}})}function O(){return{type:y.SHOW_PRODUCT_MVP_FEEDBACK_MODAL}}function T(){return{type:y.HIDE_PRODUCT_MVP_FEEDBACK_MODAL}}const x="wc/customer-effort-score",N="/wc-admin",Q="woocommerce_ces_tracks_queue";function*L(){const e=yield(0,E.apiFetch)({path:`${N}/options?options=${Q}`});if(!e)throw new Error;yield v(e[Q]||[])}function A(e){return e.queue}function F(e){return e.showCESModal?e.cesModalData:void 0}function R(e){return e.showProductMVPFeedbackModal}const H={queue:[],cesModalData:void 0,showCESModal:!1,showProductMVPFeedbackModal:!1},I=(0,l.createReduxStore)(x,{actions:e,selectors:n,resolvers:o,controls:E.controls,reducer:(e=H,o)=>{switch(o.type){case y.SET_CES_SURVEY_QUEUE:return{...e,queue:[...e.queue,...o.queue]};case y.HIDE_CES_MODAL:return{...e,showCESModal:!1,cesModalData:void 0};case y.SHOW_CES_MODAL:const t={action:o.surveyProps.action,description:o.surveyProps.description,showDescription:o.surveyProps.showDescription,title:o.surveyProps.title,onSubmitLabel:o.onsubmit_label,firstQuestion:o.surveyProps.firstQuestion,secondQuestion:o.surveyProps.secondQuestion,onSubmitNoticeProps:o.onSubmitNoticeProps||{},props:o.props,tracksProps:o.tracksProps,getExtraFieldsToBeShown:o.surveyProps.getExtraFieldsToBeShown,validateExtraFields:o.surveyProps.validateExtraFields};return{...e,showCESModal:!0,cesModalData:t};case y.ADD_CES_SURVEY:if(e.queue.filter((e=>e.action===o.action)).length)return e;const r={action:o.action,title:o.title,description:o.description,noticeLabel:o.noticeLabel,firstQuestion:o.firstQuestion,secondQuestion:o.secondQuestion,icon:o.icon,pagenow:o.pageNow,adminpage:o.adminPage,onSubmitLabel:o.onSubmitLabel,props:o.props};return{...e,queue:[...e.queue,r]};case y.SHOW_PRODUCT_MVP_FEEDBACK_MODAL:return{...e,showProductMVPFeedbackModal:!0};case y.HIDE_PRODUCT_MVP_FEEDBACK_MODAL:return{...e,showProductMVPFeedbackModal:!1};default:return e}}});(0,l.register)(I);const V=I,B="customer-effort-score-exit-page",W=()=>{if(!window.localStorage)return[];const e=window.localStorage.getItem(B),o=e?JSON.parse(e):[];return Array.isArray(o)?o:[]},U=async()=>"yes"===await(0,l.resolveSelect)(w.optionsStore).getOption(S),q=async e=>{const o=await U();if(!window.localStorage||!o)return;let t=W();t.find((o=>o===e))||t.push(e),t=t.slice(-10),window.localStorage.setItem(B,JSON.stringify(t))},Y=e=>{if(!window.localStorage)return;let o=W();o=o.filter((o=>o!==e)),o=o.slice(-10),window.localStorage.setItem(B,JSON.stringify(o))},j={},K=(e,o)=>{U(),j[e]=()=>{o()&&q(e)},window.addEventListener("unload",j[e])},z=e=>{j[e]&&window.removeEventListener("unload",j[e],{capture:!0})};function G(){var e;const o=W();if(null==o?void 0:o.length){if(!function(e){const o={import_products:()=>"product_importer"!==(0,g.getQuery)().page};return!o[e]||o[e]()}(o[0]))return;const t=function(e){switch(e){case"product_edit_view":case"editing_new_product":return{action:"editing_new_product"===e?"new_product":e,noticeLabel:(0,a.__)("How is your experience with editing products?","woocommerce"),title:(0,a.__)("How's your experience with editing products?","woocommerce"),description:(0,a.__)("We noticed you started editing a product, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,a.__)("The product editing screen is easy to use","woocommerce"),secondQuestion:(0,a.__)("The product editing screen's functionality meets my needs","woocommerce")};case"product_add_view":case"new_product":return{action:e,noticeLabel:(0,a.__)("How is your experience with creating products?","woocommerce"),title:(0,a.__)("How is your experience with creating products?","woocommerce"),description:(0,a.__)("We noticed you started creating a product, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,a.__)("The product creation screen is easy to use","woocommerce"),secondQuestion:(0,a.__)("The product creation screen's functionality meets my needs","woocommerce")};case"settings_change":return{action:e,icon:"âš™ï¸",noticeLabel:(0,a.__)("Did you find the right setting?","woocommerce"),title:(0,a.__)("Howâ€™s your experience with settings?","woocommerce"),description:(0,a.__)("We noticed you started changing store settings, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,a.__)("The settings screen is easy to use","woocommerce"),secondQuestion:(0,a.__)("The settings screen's functionality meets my needs","woocommerce")};case"shop_order_update":return{action:e,icon:"ðŸ“¦",noticeLabel:(0,a.__)("How easy or difficult was it to update this order?","woocommerce"),title:(0,a.__)("How's your experience with orders?","woocommerce"),description:(0,a.__)("We noticed you started editing an order, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,a.__)("The order editing screen is easy to use","woocommerce"),secondQuestion:(0,a.__)("The order details screen's functionality meets my needs","woocommerce")};case"import_products":return{action:e,icon:"ðŸ”„",noticeLabel:(0,a.__)("How is your experience with importing products?","woocommerce"),title:(0,a.__)("How's your experience with importing products?","woocommerce"),description:(0,a.__)("We noticed you started importing products, then left. How was it? Your feedback will help create a better experience for thousands of merchants like you.","woocommerce"),firstQuestion:(0,a.__)("The product import screen is easy to use","woocommerce"),secondQuestion:(0,a.__)("The product import screen's functionality meets my needs","woocommerce")};default:return null}}(o[0]);(null===(e=null==t?void 0:t.title)||void 0===e?void 0:e.length)&&(0,l.dispatch)(V).addCesSurvey({...t,pageNow:window.pagenow,adminPage:window.adminpage,props:{ces_location:"outside"}}),Y(o[0])}}function J(e){if(0===e)return null;const o=Date.now()-1e3*e;return Math.round(o/w.WEEK)}const $=()=>{var e;const{createSuccessNotice:o}=(0,l.useDispatch)("core/notices"),{hideCesModal:t}=(0,l.useDispatch)(V),{storeAgeInWeeks:r,resolving:n,visibleCESModalData:i}=(0,l.useSelect)((e=>{const{getOption:o,hasFinishedResolution:t}=e(w.optionsStore),{getVisibleCESModalData:r}=e(V),n=o(h)||0,s=null===n||!t("getOption",[h]);return{storeAgeInWeeks:J(n),visibleCESModalData:r(),resolving:s}}),[]);return!i||n?null:(0,s.createElement)(m,{title:i.title,description:i.description,showDescription:i.showDescription,firstQuestion:i.firstQuestion,secondQuestion:i.secondQuestion,recordScoreCallback:(...e)=>{var n,s;((e,t,n,s={})=>{(0,f.recordEvent)("ces_feedback",{action:i.action,score:e,score_second_question:null!=t?t:null,score_combined:e+(null!=t?t:0),comments:n||"",...s,store_age:r,...i.tracksProps}),o(i.onSubmitLabel||(0,a.__)("Thanks for the feedback. We'll put it to good use!","woocommerce"),i.onSubmitNoticeProps||{})})(...e),t(),null===(s=null===(n=i.props)||void 0===n?void 0:n.onRecordScore)||void 0===s||s.call(n)},onCloseModal:()=>{var e,o;null===(o=null===(e=i.props)||void 0===e?void 0:e.onCloseModal)||void 0===o||o.call(e),t()},shouldShowComments:null===(e=i.props)||void 0===e?void 0:e.shouldShowComments,getExtraFieldsToBeShown:i.getExtraFieldsToBeShown,validateExtraFields:i.validateExtraFields})},X=window.wp.compose,Z=window.wp.apiFetch;var ee=t.n(Z);const oe=(0,X.compose)((0,l.withSelect)((e=>{const{getOption:o,hasFinishedResolution:t}=e(w.optionsStore),r=o(b),n=J(o(h)||0);return{cesShownForActions:r,allowTracking:"yes"===(o(S)||"no"),storeAgeInWeeks:n,resolving:!t("getOption",[b])||null===n||!t("getOption",[h])||!t("getOption",[S])}})),(0,l.withDispatch)((e=>{const{createNotice:o}=e("core/notices");return{createNotice:o}})))((function({action:e,trackProps:o,title:t,description:r,noticeLabel:n,firstQuestion:i,secondQuestion:c,icon:l,onSubmitLabel:u=(0,a.__)("Thank you for your feedback!","woocommerce"),cesShownForActions:d,allowTracking:m,resolving:p,storeAgeInWeeks:w,createNotice:g}){const[h,S]=(0,s.useState)(!1);return p?null:m?d&&-1!==d.indexOf(e)&&!h?null:(0,s.createElement)(_,{recordScoreCallback:(t,r,n)=>{(0,f.recordEvent)("ces_feedback",{action:e,score:t,score_second_question:r,score_combined:t+r,comments:n||"",store_age:w,ces_location:"inside",...o}),g("success",u)},title:t,description:r,noticeLabel:n,firstQuestion:i,secondQuestion:c,onNoticeShownCallback:()=>{(0,f.recordEvent)("ces_snackbar_view",{action:e,store_age:w,ces_location:"inside",...o}),d&&d.includes(e)||ee()({path:"wc-admin/options",method:"POST",data:{[b]:[e,...d||[]]}})},onNoticeDismissedCallback:()=>{(0,f.recordEvent)("ces_snackbar_dismiss",{action:e,store_age:w,ces_location:"inside",...o})},onModalShownCallback:()=>{S(!0),(0,f.recordEvent)("ces_view",{action:e,store_age:w,ces_location:"inside",...o})},onModalDismissedCallback:()=>{(0,f.recordEvent)("ces_view_dismiss",{action:e,store_age:w,ces_location:"inside",...o})},icon:(0,s.createElement)("span",{style:{height:21,width:21},role:"img","aria-label":(0,a.__)("Pencil icon","woocommerce")},l||"âœ")}):null})),te=window.React,re=(0,X.compose)((0,l.withSelect)((e=>{const{getCesSurveyQueue:o,isResolving:t}=e(x);return{queue:o(),resolving:t("getOption",[Q])}})),(0,l.withDispatch)((e=>{const{updateOptions:o}=e(w.optionsStore);return{clearQueue:()=>{o({woocommerce_clear_ces_tracks_queue_for_page:{pagenow:window.pagenow,adminpage:window.adminpage}})}}})))((function({queue:e,resolving:o,clearQueue:t}){const r=e.filter((e=>e.pagenow===window.pagenow&&e.adminpage===window.adminpage));return(0,te.useEffect)((()=>{r.length&&t()}),[r]),o?null:(0,s.createElement)(s.Fragment,null,r.map(((e,o)=>(0,s.createElement)(oe,{key:o,action:e.action,description:e.description,noticeLabel:e.noticeLabel,firstQuestion:e.firstQuestion,secondQuestion:e.secondQuestion,icon:e.icon,title:e.title,onSubmitLabel:e.onsubmit_label,trackProps:e.props||{}}))))}));var ne=t(17855),se=t.n(ne);const ie=({onSelect:e,label:o,selectedValue:t})=>{const r=[{tooltip:(0,a.__)("Very difficult","woocommerce"),value:1,emoji:"ðŸ˜ž"},{tooltip:(0,a.__)("Difficult","woocommerce"),value:2,emoji:"ðŸ™"},{tooltip:(0,a.__)("Neutral","woocommerce"),value:3,emoji:"ðŸ˜‘"},{tooltip:(0,a.__)("Good","woocommerce"),value:4,emoji:"ðŸ™‚"},{tooltip:(0,a.__)("Very good","woocommerce"),value:5,emoji:"ðŸ˜"}];return(0,s.createElement)("div",{className:"customer-feedback-simple__container"},(0,s.createElement)(d.Text,{variant:"subtitle.small",as:"p",size:"13",lineHeight:"16px"},o),(0,s.createElement)("div",{className:"customer-feedback-simple__selection"},r.map((o=>(0,s.createElement)(u.Tooltip,{text:o.tooltip,key:o.value,position:"top center"},(0,s.createElement)(u.Button,{onClick:()=>{e(o.value)},className:se()({"is-selected":t===o.value})},o.emoji))))))};function ce({onSubmit:e,title:o,description:t,onModalClose:r,onCancel:n,children:i,isSubmitButtonDisabled:c,submitButtonLabel:a,cancelButtonLabel:l,className:m}){const[p,_]=(0,s.useState)(!0);return p?(0,s.createElement)(u.Modal,{className:se()("woocommerce-feedback-modal",m),title:o,onRequestClose:()=>{_(!1),r&&r()},shouldCloseOnClickOutside:!1},t&&(0,s.createElement)(d.Text,{variant:"body",as:"p",className:"woocommerce-feedback-modal__description",size:14,lineHeight:"20px",marginBottom:"1.5em"},t),i,(0,s.createElement)("div",{className:"woocommerce-feedback-modal__buttons"},(0,s.createElement)(u.Button,{isTertiary:!0,onClick:n,name:"cancel"},l),(0,s.createElement)(u.Button,{isPrimary:!c,isSecondary:c,onClick:()=>{e(),_(!1)},name:"send",disabled:c},a))):null}ie.propTypes={onSelect:c().func.isRequired,label:c().string.isRequired,selectedValue:c().number},ce.propTypes={onSubmit:c().func.isRequired,title:c().string,description:c().string,onModalClose:c().func,isSubmitButtonDisabled:c().bool,submitButtonLabel:c().string,cancelButtonLabel:c().string};const ae=()=>{const{showCesModal:e,showProductMVPFeedbackModal:o}=(0,l.useDispatch)(x),{updateOptions:t}=(0,l.useDispatch)(w.optionsStore),{wasPreviouslyShown:r,isLoading:n}=(0,l.useSelect)((e=>{const{getOption:o,hasFinishedResolution:t}=e(w.optionsStore),r=o(b)||[];return{wasPreviouslyShown:e=>r.includes(e),isLoading:!t("getOption",[b])}}),[]);return{wasPreviouslyShown:r,isLoading:n,showCesModal:(o={},r={},n={},s={})=>{e(o,r,n,s),(async e=>{const{getOption:o}=(0,l.resolveSelect)(w.optionsStore),r=await o(b)||[];t({[b]:[e,...r]})})(o.action)},showProductMVPFeedbackModal:o}},le=(e,o)=>{const t=(0,s.useRef)(o);(0,s.useEffect)((()=>{t.current=o}),[o]),(0,s.useEffect)((()=>()=>{t.current&&q(e)}),[]),(0,s.useEffect)((()=>(K(e,(()=>o)),()=>{z(e)})),[o])}})(),(window.wc=window.wc||{}).customerEffortScore=r})();
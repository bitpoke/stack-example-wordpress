/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={83849:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var i=n.apply(null,o);i&&e.push(i)}}else if("object"===a)if(o.toString===Object.prototype.toString)for(var c in o)r.call(o,c)&&o[c]&&e.push(c);else e.push(o.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},74944:function(e){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,o=Object.isFrozen,r=Object.getPrototypeOf,n=Object.getOwnPropertyDescriptor,a=Object.freeze,i=Object.seal,c=Object.create,l="undefined"!=typeof Reflect&&Reflect,s=l.apply,m=l.construct;s||(s=function(e,t,o){return e.apply(t,o)}),a||(a=function(e){return e}),i||(i=function(e){return e}),m||(m=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(t))))});var d,u=y(Array.prototype.forEach),p=y(Array.prototype.pop),_=y(Array.prototype.push),f=y(String.prototype.toLowerCase),h=y(String.prototype.match),g=y(String.prototype.replace),v=y(String.prototype.indexOf),w=y(String.prototype.trim),b=y(RegExp.prototype.test),E=(d=TypeError,function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return m(d,t)});function y(e){return function(t){for(var o=arguments.length,r=Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return s(e,t,r)}}function k(e,r){t&&t(e,null);for(var n=r.length;n--;){var a=r[n];if("string"==typeof a){var i=f(a);i!==a&&(o(r)||(r[n]=i),a=i)}e[a]=!0}return e}function C(t){var o=c(null),r=void 0;for(r in t)s(e,t,[r])&&(o[r]=t[r]);return o}function S(e,t){for(;null!==e;){var o=n(e,t);if(o){if(o.get)return y(o.get);if("function"==typeof o.value)return y(o.value)}e=r(e)}return function(e){return console.warn("fallback value for",e),null}}var x=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=a(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),I=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=a(["#text"]),R=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),O=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),L=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),D=i(/\{\{[\s\S]*|[\s\S]*\}\}/gm),V=i(/<%[\s\S]*|[\s\S]*%>/gm),F=i(/^data-[\-\w.\u00B7-\uFFFF]/),H=i(/^aria-[\-\w]+$/),U=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z=i(/^(?:\w+script|data):/i),j=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$=i(/^html$/i),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function G(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var q=function(){return"undefined"==typeof window?null:window},Z=function(e,t){if("object"!==(void 0===e?"undefined":W(e))||"function"!=typeof e.createPolicy)return null;var o=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(o=t.currentScript.getAttribute(r));var n="dompurify"+(o?"#"+o:"");try{return e.createPolicy(n,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),o=function(t){return e(t)};if(o.version="2.3.6",o.removed=[],!t||!t.document||9!==t.document.nodeType)return o.isSupported=!1,o;var r=t.document,n=t.document,i=t.DocumentFragment,c=t.HTMLTemplateElement,l=t.Node,s=t.Element,m=t.NodeFilter,d=t.NamedNodeMap,y=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,J=t.HTMLFormElement,Y=t.DOMParser,X=t.trustedTypes,K=s.prototype,Q=S(K,"cloneNode"),ee=S(K,"nextSibling"),te=S(K,"childNodes"),oe=S(K,"parentNode");if("function"==typeof c){var re=n.createElement("template");re.content&&re.content.ownerDocument&&(n=re.content.ownerDocument)}var ne=Z(X,r),ae=ne?ne.createHTML(""):"",ie=n,ce=ie.implementation,le=ie.createNodeIterator,se=ie.createDocumentFragment,me=ie.getElementsByTagName,de=r.importNode,ue={};try{ue=C(n).documentMode?n.documentMode:{}}catch(e){}var pe={};o.isSupported="function"==typeof oe&&ce&&void 0!==ce.createHTMLDocument&&9!==ue;var _e=D,fe=V,he=F,ge=H,ve=z,we=j,be=U,Ee=null,ye=k({},[].concat(G(x),G(T),G(N),G(A),G(M))),ke=null,Ce=k({},[].concat(G(R),G(O),G(L),G(B))),Se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Te=null,Ne=!0,Pe=!0,Ae=!1,Ie=!1,Me=!1,Re=!1,Oe=!1,Le=!1,Be=!1,De=!1,Ve=!0,Fe=!0,He=!1,Ue={},ze=null,je=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),$e=null,We=k({},["audio","video","img","source","image","track"]),Ge=null,qe=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml",Xe=Ye,Ke=!1,Qe=void 0,et=["application/xhtml+xml","text/html"],tt="text/html",ot=void 0,rt=null,nt=n.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},it=function(e){rt&&rt===e||(e&&"object"===(void 0===e?"undefined":W(e))||(e={}),e=C(e),Ee="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS):ye,ke="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR):Ce,Ge="ADD_URI_SAFE_ATTR"in e?k(C(qe),e.ADD_URI_SAFE_ATTR):qe,$e="ADD_DATA_URI_TAGS"in e?k(C(We),e.ADD_DATA_URI_TAGS):We,ze="FORBID_CONTENTS"in e?k({},e.FORBID_CONTENTS):je,xe="FORBID_TAGS"in e?k({},e.FORBID_TAGS):{},Te="FORBID_ATTR"in e?k({},e.FORBID_ATTR):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,Ne=!1!==e.ALLOW_ARIA_ATTR,Pe=!1!==e.ALLOW_DATA_ATTR,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=e.SAFE_FOR_TEMPLATES||!1,Me=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,De=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Ve=!1!==e.SANITIZE_DOM,Fe=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||be,Xe=e.NAMESPACE||Ye,e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qe=Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,ot="application/xhtml+xml"===Qe?function(e){return e}:f,Ie&&(Pe=!1),Be&&(Le=!0),Ue&&(Ee=k({},[].concat(G(M))),ke=[],!0===Ue.html&&(k(Ee,x),k(ke,R)),!0===Ue.svg&&(k(Ee,T),k(ke,O),k(ke,B)),!0===Ue.svgFilters&&(k(Ee,N),k(ke,O),k(ke,B)),!0===Ue.mathMl&&(k(Ee,A),k(ke,L),k(ke,B))),e.ADD_TAGS&&(Ee===ye&&(Ee=C(Ee)),k(Ee,e.ADD_TAGS)),e.ADD_ATTR&&(ke===Ce&&(ke=C(ke)),k(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&k(Ge,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ze===je&&(ze=C(ze)),k(ze,e.FORBID_CONTENTS)),Fe&&(Ee["#text"]=!0),Me&&k(Ee,["html","head","body"]),Ee.table&&(k(Ee,["tbody"]),delete xe.tbody),a&&a(e),rt=e)},ct=k({},["mi","mo","mn","ms","mtext"]),lt=k({},["foreignobject","desc","title","annotation-xml"]),st=k({},T);k(st,N),k(st,P);var mt=k({},A);k(mt,I);var dt=function(e){var t=oe(e);t&&t.tagName||(t={namespaceURI:Ye,tagName:"template"});var o=f(e.tagName),r=f(t.tagName);if(e.namespaceURI===Je)return t.namespaceURI===Ye?"svg"===o:t.namespaceURI===Ze?"svg"===o&&("annotation-xml"===r||ct[r]):Boolean(st[o]);if(e.namespaceURI===Ze)return t.namespaceURI===Ye?"math"===o:t.namespaceURI===Je?"math"===o&&lt[r]:Boolean(mt[o]);if(e.namespaceURI===Ye){if(t.namespaceURI===Je&&!lt[r])return!1;if(t.namespaceURI===Ze&&!ct[r])return!1;var n=k({},["title","style","font","a","script"]);return!mt[o]&&(n[o]||!st[o])}return!1},ut=function(e){_(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},pt=function(e,t){try{_(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Le||Be)try{ut(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},_t=function(e){var t=void 0,o=void 0;if(Oe)e="<remove></remove>"+e;else{var r=h(e,/^[\r\n\t ]+/);o=r&&r[0]}"application/xhtml+xml"===Qe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=ne?ne.createHTML(e):e;if(Xe===Ye)try{t=(new Y).parseFromString(a,Qe)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Ke?"":a}catch(e){}}var i=t.body||t.documentElement;return e&&o&&i.insertBefore(n.createTextNode(o),i.childNodes[0]||null),Xe===Ye?me.call(t,Me?"html":"body")[0]:Me?t.documentElement:i},ft=function(e){return le.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},ht=function(e){return e instanceof J&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof y)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},gt=function(e){return"object"===(void 0===l?"undefined":W(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":W(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},vt=function(e,t,r){pe[e]&&u(pe[e],(function(e){e.call(o,t,r,rt)}))},wt=function(e){var t=void 0;if(vt("beforeSanitizeElements",e,null),ht(e))return ut(e),!0;if(h(e.nodeName,/[\u0080-\uFFFF]/))return ut(e),!0;var r=ot(e.nodeName);if(vt("uponSanitizeElement",e,{tagName:r,allowedTags:Ee}),!gt(e.firstElementChild)&&(!gt(e.content)||!gt(e.content.firstElementChild))&&b(/<[/\w]/g,e.innerHTML)&&b(/<[/\w]/g,e.textContent))return ut(e),!0;if("select"===r&&b(/<template/i,e.innerHTML))return ut(e),!0;if(!Ee[r]||xe[r]){if(!xe[r]&&Et(r)){if(Se.tagNameCheck instanceof RegExp&&b(Se.tagNameCheck,r))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(r))return!1}if(Fe&&!ze[r]){var n=oe(e)||e.parentNode,a=te(e)||e.childNodes;if(a&&n)for(var i=a.length-1;i>=0;--i)n.insertBefore(Q(a[i],!0),ee(e))}return ut(e),!0}return e instanceof s&&!dt(e)?(ut(e),!0):"noscript"!==r&&"noembed"!==r||!b(/<\/no(script|embed)/i,e.innerHTML)?(Ie&&3===e.nodeType&&(t=e.textContent,t=g(t,_e," "),t=g(t,fe," "),e.textContent!==t&&(_(o.removed,{element:e.cloneNode()}),e.textContent=t)),vt("afterSanitizeElements",e,null),!1):(ut(e),!0)},bt=function(e,t,o){if(Ve&&("id"===t||"name"===t)&&(o in n||o in nt))return!1;if(Pe&&!Te[t]&&b(he,t));else if(Ne&&b(ge,t));else if(!ke[t]||Te[t]){if(!(Et(e)&&(Se.tagNameCheck instanceof RegExp&&b(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&b(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&b(Se.tagNameCheck,o)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(o))))return!1}else if(Ge[t]);else if(b(be,g(o,we,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(o,"data:")||!$e[e])if(Ae&&!b(ve,g(o,we,"")));else if(o)return!1;return!0},Et=function(e){return e.indexOf("-")>0},yt=function(e){var t=void 0,r=void 0,n=void 0,a=void 0;vt("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(a=i.length;a--;){var l=t=i[a],s=l.name,m=l.namespaceURI;if(r=w(t.value),n=ot(s),c.attrName=n,c.attrValue=r,c.keepAttr=!0,c.forceKeepAttr=void 0,vt("uponSanitizeAttribute",e,c),r=c.attrValue,!c.forceKeepAttr&&(pt(s,e),c.keepAttr))if(b(/\/>/i,r))pt(s,e);else{Ie&&(r=g(r,_e," "),r=g(r,fe," "));var d=ot(e.nodeName);if(bt(d,n,r))try{m?e.setAttributeNS(m,s,r):e.setAttribute(s,r),p(o.removed)}catch(e){}}}vt("afterSanitizeAttributes",e,null)}},kt=function e(t){var o=void 0,r=ft(t);for(vt("beforeSanitizeShadowDOM",t,null);o=r.nextNode();)vt("uponSanitizeShadowNode",o,null),wt(o)||(o.content instanceof i&&e(o.content),yt(o));vt("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e,n){var a=void 0,c=void 0,s=void 0,m=void 0,d=void 0;if((Ke=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!gt(e)){if("function"!=typeof e.toString)throw E("toString is not a function");if("string"!=typeof(e=e.toString()))throw E("dirty is not a string, aborting")}if(!o.isSupported){if("object"===W(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(gt(e))return t.toStaticHTML(e.outerHTML)}return e}if(Re||it(n),o.removed=[],"string"==typeof e&&(He=!1),He){if(e.nodeName){var u=ot(e.nodeName);if(!Ee[u]||xe[u])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)1===(c=(a=_t("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?a=c:a.appendChild(c);else{if(!Le&&!Ie&&!Me&&-1===e.indexOf("<"))return ne&&De?ne.createHTML(e):e;if(!(a=_t(e)))return Le?null:De?ae:""}a&&Oe&&ut(a.firstChild);for(var p=ft(He?e:a);s=p.nextNode();)3===s.nodeType&&s===m||wt(s)||(s.content instanceof i&&kt(s.content),yt(s),m=s);if(m=null,He)return e;if(Le){if(Be)for(d=se.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return ke.shadowroot&&(d=de.call(r,d,!0)),d}var _=Me?a.outerHTML:a.innerHTML;return Me&&Ee["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&b($,a.ownerDocument.doctype.name)&&(_="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+_),Ie&&(_=g(_,_e," "),_=g(_,fe," ")),ne&&De?ne.createHTML(_):_},o.setConfig=function(e){it(e),Re=!0},o.clearConfig=function(){rt=null,Re=!1},o.isValidAttribute=function(e,t,o){rt||it({});var r=ot(e),n=ot(t);return bt(r,n,o)},o.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],_(pe[e],t))},o.removeHook=function(e){pe[e]&&p(pe[e])},o.removeHooks=function(e){pe[e]&&(pe[e]=[])},o.removeAllHooks=function(){pe={}},o}()}()},70861:(e,t,o)=>{var r=o(83250).Symbol;e.exports=r},29233:e=>{e.exports=function(e,t){for(var o=-1,r=null==e?0:e.length,n=Array(r);++o<r;)n[o]=t(e[o],o,e);return n}},97088:(e,t,o)=>{var r=o(86174)("length");e.exports=r},59512:e=>{e.exports=function(e){return e.split("")}},69823:(e,t,o)=>{var r=o(70861),n=o(91339),a=o(25151),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):a(e)}},58261:(e,t,o)=>{var r=o(69823),n=o(50440);e.exports=function(e){return n(e)&&"[object RegExp]"==r(e)}},86174:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},77379:e=>{e.exports=function(e,t,o){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(o=o>n?n:o)<0&&(o+=n),n=t>o?0:o-t>>>0,t>>>=0;for(var a=Array(n);++r<n;)a[r]=e[r+t];return a}},86245:(e,t,o)=>{var r=o(70861),n=o(29233),a=o(55589),i=o(52624),c=r?r.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return n(t,e)+"";if(i(t))return l?l.call(t):"";var o=t+"";return"0"==o&&1/t==-1/0?"-0":o}},21656:(e,t,o)=>{var r=o(62438),n=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(n,""):e}},31525:e=>{e.exports=function(e){return function(t){return e(t)}}},3237:(e,t,o)=>{var r=o(77379);e.exports=function(e,t,o){var n=e.length;return o=void 0===o?n:o,!t&&o>=n?e:r(e,t,o)}},20302:(e,t,o)=>{var r="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g;e.exports=r},91339:(e,t,o)=>{var r=o(70861),n=Object.prototype,a=n.hasOwnProperty,i=n.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,c),o=e[c];try{e[c]=void 0;var r=!0}catch(e){}var n=i.call(e);return r&&(t?e[c]=o:delete e[c]),n}},63932:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},8690:(e,t,o)=>{e=o.nmd(e);var r=o(20302),n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n&&r.process,c=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=c},25151:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},83250:(e,t,o)=>{var r=o(20302),n="object"==typeof self&&self&&self.Object===Object&&self,a=r||n||Function("return this")();e.exports=a},11324:(e,t,o)=>{var r=o(97088),n=o(63932),a=o(60445);e.exports=function(e){return n(e)?a(e):r(e)}},15233:(e,t,o)=>{var r=o(59512),n=o(63932),a=o(32205);e.exports=function(e){return n(e)?a(e):r(e)}},62438:e=>{var t=/\s/;e.exports=function(e){for(var o=e.length;o--&&t.test(e.charAt(o)););return o}},60445:e=>{var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",i="(?:"+t+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",l=c+i+"(?:\\u200d(?:"+[r,n,a].join("|")+")"+c+i+")*",s="(?:"+[r+t+"?",t,n,a,"[\\ud800-\\udfff]"].join("|")+")",m=RegExp(o+"(?="+o+")|"+s+l,"g");e.exports=function(e){for(var t=m.lastIndex=0;m.test(e);)++t;return t}},32205:e=>{var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",i="(?:"+t+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",l=c+i+"(?:\\u200d(?:"+[r,n,a].join("|")+")"+c+i+")*",s="(?:"+[r+t+"?",t,n,a,"[\\ud800-\\udfff]"].join("|")+")",m=RegExp(o+"(?="+o+")|"+s+l,"g");e.exports=function(e){return e.match(m)||[]}},55589:e=>{var t=Array.isArray;e.exports=t},93702:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},50440:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68290:(e,t,o)=>{var r=o(58261),n=o(31525),a=o(8690),i=a&&a.isRegExp,c=i?n(i):r;e.exports=c},52624:(e,t,o)=>{var r=o(69823),n=o(50440);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},99558:(e,t,o)=>{var r=o(29153);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},96843:(e,t,o)=>{var r=o(99558);e.exports=function(e){var t=r(e),o=t%1;return t==t?o?t-o:t:0}},29153:(e,t,o)=>{var r=o(21656),n=o(93702),a=o(52624),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var o=c.test(e);return o||l.test(e)?s(e.slice(2),o?2:8):i.test(e)?NaN:+e}},99835:(e,t,o)=>{var r=o(86245);e.exports=function(e){return null==e?"":r(e)}},56519:(e,t,o)=>{var r=o(86245),n=o(3237),a=o(63932),i=o(93702),c=o(68290),l=o(11324),s=o(15233),m=o(96843),d=o(99835),u=/\w*$/;e.exports=function(e,t){var o=30,p="...";if(i(t)){var _="separator"in t?t.separator:_;o="length"in t?m(t.length):o,p="omission"in t?r(t.omission):p}var f=(e=d(e)).length;if(a(e)){var h=s(e);f=h.length}if(o>=f)return e;var g=o-l(p);if(g<1)return p;var v=h?n(h,0,g).join(""):e.slice(0,g);if(void 0===_)return v+p;if(h&&(g+=v.length-g),c(_)){if(e.slice(g).search(_)){var w,b=v;for(_.global||(_=RegExp(_.source,d(u.exec(_))+"g")),_.lastIndex=0;w=_.exec(b);)var E=w.index;v=v.slice(0,void 0===E?g:E)}}else if(e.indexOf(r(_),g)!=g){var y=v.lastIndexOf(_);y>-1&&(v=v.slice(0,y))}return v+p}},31772:(e,t,o)=>{"use strict";var r=o(25148);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return o.PropTypes=o,o}},7862:(e,t,o)=>{e.exports=o(31772)()},25148:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{"use strict";o.r(r),o.d(r,{AUTO_DRAFT_NAME:()=>B,AddNewShippingClassModal:()=>Jr,DETAILS_SECTION_ID:()=>T,NEW_PRODUCT_MANAGEMENT_ENABLED_OPTION_NAME:()=>k,PRODUCT_STATUS_LABELS:()=>_c,ProductPageSkeleton:()=>dc,RemoveConfirmationModal:()=>_a,TAB_GENERAL_ID:()=>x,TRACKS_SOURCE:()=>N,__experimentalAttributeControl:()=>fa,__experimentalAttributes:()=>wa,__experimentalBlockIcon:()=>Xi,__experimentalCheckboxControl:()=>mt,__experimentalDetailsDescriptionField:()=>W,__experimentalDetailsFeatureField:()=>z,__experimentalDetailsNameField:()=>H,__experimentalDetailsSummaryField:()=>$,__experimentalEditor:()=>Xe,__experimentalInitBlocks:()=>Yi,__experimentalManageDownloadLimitsModal:()=>Io,__experimentalNumberControl:()=>Wi,__experimentalProductFieldSection:()=>s,__experimentalProductMVPCESFooter:()=>ec,__experimentalProductMVPFeedbackModal:()=>nc,__experimentalProductMVPFeedbackModalContainer:()=>ac,__experimentalProductSectionLayout:()=>c,__experimentalShippingDimensionsImage:()=>nn,__experimentalUseCurrencyInputProps:()=>dr,__experimentalUseFeedbackBar:()=>De,__experimentalUseProductEntityProp:()=>lt,__experimentalUseProductHelper:()=>F,__experimentalUseVariationSwitcher:()=>sc,__experimentalUseVariationsOrder:()=>Tc,__experimentalVariationSwitcherFooter:()=>mc,__experimentalWooProductFieldItem:()=>f,__experimentalWooProductMoreMenuItem:()=>J,__experimentalWooProductSectionItem:()=>h,__experimentalWooProductTabItem:()=>g,createOrderedChildren:()=>d,formatCurrencyDisplayValue:()=>mr,getCheckboxTracks:()=>U,getCurrencySymbolProps:()=>uc,getDerivedProductType:()=>L,getHeaderTitle:()=>Te,getProductStatus:()=>fc,getProductStockStatus:()=>za,getProductStockStatusClass:()=>ja,getProductTitle:()=>hc,getProductVariationTitle:()=>gc,getTruncatedProductVariationTitle:()=>vc,hasAttributesUsedForVariations:()=>xa,initBlock:()=>wc,isValidEmail:()=>Qi,preventLeavingProductForm:()=>Ge,productApiFetchMiddleware:()=>kc,registerProductEditorBlockType:()=>ot,sift:()=>ha,sortFillsByOrder:()=>u,useValidation:()=>Jo,useValidations:()=>Ie});var e={};o.r(e),o.d(e,{disableComplementaryArea:()=>pe,enableComplementaryArea:()=>ue,pinItem:()=>_e,setFeatureDefaults:()=>ve,setFeatureValue:()=>ge,toggleFeature:()=>he,unpinItem:()=>fe});var t={};o.r(t),o.d(t,{getActiveComplementaryArea:()=>we,isFeatureActive:()=>Ee,isItemPinned:()=>be});var n={};o.r(n),o.d(n,{attributesInit:()=>ya,initCatalogVisibility:()=>it,initCheckbox:()=>_t,initCollapsible:()=>vt,initConditional:()=>yt,initDescription:()=>po,initDownloads:()=>Uo,initImages:()=>Go,initInventoryQuantity:()=>jn,initLowStockQty:()=>Qo,initName:()=>lr,initNotice:()=>xi,initNoticeHasVariations:()=>Ii,initNumber:()=>Ji,initPricing:()=>fr,initRadio:()=>Er,initRegularPrice:()=>xr,initRequirePassword:()=>La,initSalePrice:()=>Ir,initScheduleSale:()=>Fr,initSection:()=>$r,initShippingClass:()=>on,initShippingDimensions:()=>sn,initSku:()=>nr,initSummary:()=>En,initTab:()=>Pn,initTag:()=>Vn,initTaxonomy:()=>Vi,initText:()=>ji,initToggle:()=>Zn,initVariationItems:()=>hi,initVariationOptions:()=>Ei,initVariations:()=>Aa});const a=window.wp.element,i=window.wc.components,c=e=>{let{title:t,description:o,className:r,children:n}=e;return(0,a.createElement)(i.FormSection,{title:t,description:o,className:r},a.Children.map(n,(e=>(0,a.isValidElement)(e)&&e.props.onChange?(0,a.createElement)("div",{className:"product-field-layout"},e):e)))},l=window.wp.components,s=e=>{let{id:t,title:o,description:r,className:n,children:s}=e;return(0,a.createElement)(c,{title:o,description:r,className:n},(0,a.createElement)(l.Card,null,(0,a.createElement)(l.CardBody,null,s,(0,a.createElement)(i.__experimentalWooProductFieldItem.Slot,{section:t}))))},m=window.React;function d(e,t,o,r){const{children:n,props:i}=function(e,t,o,r){if("function"==typeof e)return{children:e({...o,order:t,...r}),props:{order:t,...r}};if((0,m.isValidElement)(e))return"function"==typeof(null==e?void 0:e.type)?{children:e,props:{...o,order:t,...r}}:{children:e,props:{order:t,...r}};throw Error("Invalid children type")}(e,t,o,r);return(0,a.cloneElement)(n,i)}const u=e=>{const t=[...e].sort(((e,t)=>e[0].props.order-t[0].props.order));return(0,a.createElement)(m.Fragment,null,t)},p=20,_=e=>{let{fieldName:t,sectionName:o,order:r,children:n}=e;const{registerFill:c,getFillHelpers:s}=(0,i.useSlotContext)(),m=`product_field/${o}/${t}`;return(0,a.useEffect)((()=>{c(m)}),[]),(0,a.createElement)(l.Fill,{name:`woocommerce_product_field_${o}`,key:m},(e=>d(n,r,{sectionName:o,...e,...s()},{_id:m})))},f=e=>{let{children:t,sections:o,id:r}=e;return(0,a.createElement)(a.Fragment,null,o.map((e=>{let{name:o,order:n=p}=e;return(0,a.createElement)(_,{fieldName:r,sectionName:o,order:n,key:o},t)})))};f.Slot=e=>{let{fillProps:t,section:o}=e;const{filterRegisteredFills:r}=(0,i.useSlotContext)();return(0,a.createElement)(l.Slot,{name:`woocommerce_product_field_${o}`,fillProps:t},(e=>{var t;return u?a.Children.map(null===(t=u(r(e)))||void 0===t?void 0:t.props.children,(e=>(0,a.createElement)("div",{className:"woocommerce-product-form__field"},e))):null}))};const h=e=>{let{children:t,tabs:o}=e;return(0,a.createElement)(a.Fragment,null,o.map((e=>{let{name:o,order:r}=e;return(0,a.createElement)(l.Fill,{name:`woocommerce_product_section_${o}`,key:o},(e=>d(t,r||20,{tabName:o,...e})))})))};h.Slot=e=>{let{fillProps:t,tab:o}=e;return(0,a.createElement)(l.Slot,{name:`woocommerce_product_section_${o}`,fillProps:t},(e=>u?u(e):null))};const g=e=>{let{children:t,tabProps:o,templates:r}=e;return r?(0,a.createElement)(a.Fragment,null,r.map((e=>(0,a.createElement)(l.Fill,{name:`woocommerce_product_tab_${e.name}`,key:e.name},(r=>d(t,e.order||20,{},{tabProps:o,templateName:e.name,order:e.order||20,...r})))))):(console.warn("WooProductTabItem fill is missing templates property."),null)};g.Slot=e=>{let{fillProps:t,template:o,children:r}=e;return(0,a.createElement)(l.Slot,{name:`woocommerce_product_tab_${o}`,fillProps:t},(e=>{const o=e.reduce(((e,o)=>{let{childrenMap:r,tabs:n}=e;var a;const i=o[0].props;if(i&&i.tabProps){r[i.tabProps.name]=o[0];const e="function"==typeof i.tabProps?i.tabProps(t):i.tabProps;n.push({...e,order:null!==(a=i.order)&&void 0!==a?a:20})}return{childrenMap:r,tabs:n}}),{childrenMap:{},tabs:[]}),n=o.tabs.sort(((e,t)=>e.order-t.order));return r(n,o.childrenMap)}))};const v=window.wp.data,w=window.wp.i18n,b=window.wp.url,E=window.wc.data,y="woocommerce_product_editor_show_feedback_bar",k="woocommerce_new_product_management_enabled",C="woocommerce_single_variation_notice_dismissed",S="__ADD_NEW_SHIPPING_CLASS_OPTION__",x="tab/general",T=`${x}/details`,N="product-block-editor-v1",P=5,A=[5,10,25],I=window.wc.tracks,M=e=>{let{product:t,permalinkPrefix:o,permalinkSuffix:r,onCancel:n,onSaved:i,saveHandler:c}=e;const{createNotice:s}=(0,v.useDispatch)("core/notices"),[m,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(t.slug||(0,b.cleanForSlug)(t.name)),_=o+(0,b.cleanForSlug)(u)+r;return(0,a.createElement)(l.Modal,{title:(0,w.__)("Edit product link","woocommerce"),onRequestClose:()=>n(),className:"woocommerce-product-link-edit-modal"},(0,a.createElement)("div",{className:"woocommerce-product-link-edit-modal__wrapper"},(0,a.createElement)("p",{className:"woocommerce-product-link-edit-modal__description"},(0,w.__)("Create a unique link for this product. Use simple, descriptive words and numbers. We'll replace spaces with hyphens (-).","woocommerce")),(0,a.createElement)(l.TextControl,{label:(0,w.__)("Product link","woocommerce"),name:"slug",value:u,onChange:p,hideLabelFromVision:!0,help:(0,a.createInterpolateElement)((0,w.__)("Preview: <link />","woocommerce"),{link:(0,a.createElement)("strong",null,_)})}),(0,a.createElement)("div",{className:"woocommerce-product-link-edit-modal__buttons"},(0,a.createElement)(l.Button,{isSecondary:!0,onClick:()=>n()},(0,w.__)("Cancel","woocommerce")),(0,a.createElement)(l.Button,{isPrimary:!0,isBusy:m,disabled:m||u===t.slug,onClick:async()=>{d(!0),await(async()=>{var e;(0,I.recordEvent)("product_update_slug",{source:N,product_id:t.id,product_type:t.type});const{slug:o,permalink:r}=null!==(e=await c(u))&&void 0!==e?e:{};o?s(o===(0,b.cleanForSlug)(u)?"success":"info",o===(0,b.cleanForSlug)(u)?(0,w.__)("Product link successfully updated.","woocommerce"):(0,w.__)("Product link already existed, updated to ","woocommerce")+r):s("error",(0,w.__)("Failed to update product link.","woocommerce")),i()})(),d(!1)}},(0,w.__)("Save","woocommerce")))))},R=window.wc.number,O=window.wc.currency,L=e=>{var t;return window.wcAdminFeatures["product-variation-management"]&&(null===(t=e.attributes)||void 0===t?void 0:t.find((e=>e.options.length&&e.variation)))?"variable":"simple"},B="AUTO-DRAFT";function D(e){return E.productReadOnlyProperties.forEach((t=>delete e[t])),e}function V(e,t){return"publish"===e&&t?[{label:(0,w.__)("View in store","woocommerce"),onClick:()=>{(0,I.recordEvent)("product_preview_changes",{source:N}),window.open(t,"_blank")}}]:[]}function F(){const{createProduct:e,updateProduct:t,deleteProduct:o}=(0,v.useDispatch)(E.PRODUCTS_STORE_NAME),{batchUpdateProductVariations:r,invalidateResolutionForStoreSelector:n}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{createNotice:i}=(0,v.useDispatch)("core/notices"),[c,l]=(0,a.useState)(!1),[s,m]=(0,a.useState)({draft:!1,publish:!1}),d=(0,a.useContext)(O.CurrencyContext),u=(0,a.useCallback)((async function(t,o){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m({...s,[o]:!0}),e({...t,status:o,type:L(t)}).then((e=>{if(!r){const t="publish"===e.status?(0,w.__)("Product published.","woocommerce"):(0,w.__)("Product successfully created.","woocommerce");i("success",`🎉‎ ${t}`,{actions:V(e.status,e.permalink)})}return m({...s,[o]:!1}),e}),(e=>(r||i("error","publish"===o?(0,w.__)("Failed to publish product.","woocommerce"):(0,w.__)("Failed to create product.","woocommerce")),m({...s,[o]:!1}),e)))}),[s]);async function p(e,t){if(t)return r({product_id:e},{update:Object.values(t).flatMap(Object.entries).map((e=>{let[t,o]=e;return{id:t,menu_order:o}}))})}const _=(0,a.useCallback)((async function(e,o,r){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return m({...s,[r]:!0}),t(e,{...o,status:r,type:L(o)}).then((async e=>p(e.id,o.variationsOrder).then((()=>n("getProductVariations"))).then((()=>e)))).then((e=>{if(!a){const t="draft"===o.status&&"publish"===e.status?(0,w.__)("Product published.","woocommerce"):(0,w.__)("Product successfully updated.","woocommerce");i("success",`🎉‎ ${t}`,{actions:V(e.status,e.permalink)})}return m({...s,[r]:!1}),e}),(e=>(a||i("error",(0,w.__)("Failed to update product.","woocommerce")),m({...s,[r]:!1}),e)))}),[s]),f=(0,a.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"draft";return u(D({...e,name:(e.name||B)+" - Copy"}),t)}),[]),h=(0,a.useCallback)((async e=>(l(!0),o(e).then((e=>{const t=(0,w.__)("Successfully moved product to Trash.","woocommerce");return i("success",`🎉‎ ${t}`),l(!1),e}),(e=>(i("error",(0,w.__)("Failed to move product to Trash.","woocommerce")),l(!1),e))))),[]),g=(0,a.useCallback)((e=>{if(!e.length)return"";const{getCurrencyConfig:t}=d,{decimalSeparator:o}=t(),r=new RegExp("[^-\\d\\%s]+".replace("%s",o),"g"),n=new RegExp("[%s](?=%s*[%s])".replaceAll("%s",o),"g");return e.replace(r,"").replace(n,"").replace(o,".")}),[d]),b=(0,a.useCallback)((e=>{const{getCurrencyConfig:t}=d,{decimalSeparator:o,thousandSeparator:r}=t();return R.numberFormat({decimalSeparator:o,thousandSeparator:r},e)}),[d]),y=(0,a.useCallback)((e=>{const{getCurrencyConfig:t}=d,{decimalSeparator:o,thousandSeparator:r}=t();return R.parseNumber({decimalSeparator:o,thousandSeparator:r},e)}),[d]);return{createProductWithStatus:u,updateProductWithStatus:_,copyProductWithStatus:f,deleteProductAndRedirect:h,sanitizePrice:g,formatNumber:b,parseNumber:y,isUpdatingDraft:s.draft,isUpdatingPublished:s.publish,isDeleting:c}}const H=e=>{let{}=e;const{updateProductWithStatus:t}=F(),[o,r]=(0,a.useState)(!1),{getInputProps:n,values:c,touched:s,errors:m,setValue:d,resetForm:u}=(0,i.useFormContext)(),{permalinkPrefix:p,permalinkSuffix:_}=(0,v.useSelect)((e=>{const{getPermalinkParts:t}=e(E.PRODUCTS_STORE_NAME);if(c.id){const e=t(c.id);return{permalinkPrefix:null==e?void 0:e.prefix,permalinkSuffix:null==e?void 0:e.suffix}}return{}}));return(0,a.createElement)("div",null,(0,a.createElement)(l.TextControl,{label:(0,a.createInterpolateElement)((0,w.__)("Name <required />","woocommerce"),{required:(0,a.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(required)","woocommerce"))}),name:"product-details-name",placeholder:(0,w.__)("e.g. 12 oz Coffee Mug","woocommerce"),...n("name",{onBlur:()=>{var e;!c.sku&&(null===(e=c.name)||void 0===e?void 0:e.length)&&d("sku",(0,b.cleanForSlug)(c.name))}})}),c.id&&!(Boolean(s.name)&&Boolean(m.name))&&p&&(0,a.createElement)("span",{className:"woocommerce-product-form__secondary-text product-details-section__product-link"},(0,w.__)("Product link","woocommerce"),": ",(0,a.createElement)("a",{href:c.permalink,target:"_blank",rel:"noreferrer"},p,c.slug||(0,b.cleanForSlug)(c.name),_),(0,a.createElement)(l.Button,{variant:"link",onClick:()=>r(!0)},(0,w.__)("Edit","woocommerce"))),o&&(0,a.createElement)(M,{permalinkPrefix:p||"",permalinkSuffix:_||"",product:c,onCancel:()=>r(!1),onSaved:()=>r(!1),saveHandler:async e=>{const o=await t(c.id,{slug:e},c.status,!0);if(o&&o.id)return u({...c,slug:o.slug,permalink:o.permalink},s,m),{slug:o.slug,permalink:o.permalink}}}))};function U(e){return{onChange:t=>{(0,I.recordEvent)(`product_checkbox_${e}`,{checked:t})}}}const z=()=>{const{getCheckboxControlProps:e}=(0,i.useFormContext)();return(0,a.createElement)(l.CheckboxControl,{label:(0,a.createElement)(a.Fragment,null,(0,w.__)("Feature this product","woocommerce"),(0,a.createElement)(i.__experimentalTooltip,{text:(0,a.createInterpolateElement)((0,w.__)("Include this product in a featured section on your website with a widget or shortcode. <moreLink />","woocommerce"),{moreLink:(0,a.createElement)(i.Link,{href:"https://woocommerce.com/document/woocommerce-shortcodes/#products",target:"_blank",type:"external",onClick:()=>(0,I.recordEvent)("add_product_learn_more",{category:"product-details"})},(0,w.__)("Learn more","woocommerce"))})})),...e("featured",U("featured"))})},j=window.wp.blocks,$=()=>{const{setValue:e,values:t}=(0,i.useFormContext)(),[o,r]=(0,a.useState)((0,j.parse)(t.short_description||""));return(0,a.createElement)(i.__experimentalRichTextEditor,{label:(0,w.__)("Summary","woocommerce"),blocks:o,onChange:t=>{r(t),o.length&&e("short_description",(0,j.serialize)(t))},placeholder:(0,w.__)("Summarize this product in 1-2 short sentences. We'll show it at the top of the page.","woocommerce")})},W=()=>{const{setValue:e,values:t}=(0,i.useFormContext)(),[o,r]=(0,a.useState)((0,j.parse)(t.description||""));return(0,a.createElement)(i.__experimentalRichTextEditor,{label:(0,w.__)("Description","woocommerce"),blocks:o,onChange:t=>{r(t),o.length&&e("description",(0,j.serialize)(t))},placeholder:(0,w.__)("Describe this product. What makes it unique? What are its most important features?","woocommerce")})},G=window.lodash,{Fill:q,Slot:Z}=(0,l.createSlotFill)("WooProductMoreMenuItem");q.Slot=e=>{let{fillProps:t}=e;return(0,a.createElement)(Z,{fillProps:t},(e=>(0,G.isEmpty)(e)?null:(0,a.createElement)(a.Fragment,null,e)))};const J=q,Y=window.wp.plugins,X=window.wc.adminLayout,K=window.wp.coreData,Q=window.wp.keyboardShortcuts,ee=e=>{let{isActive:t}=e;return(0,a.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,a.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null};function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},te.apply(this,arguments)}var oe=o(83849),re=o.n(oe);const ne=window.wp.compose,ae=(0,a.forwardRef)((function(e,t){let{footer:o,header:r,sidebar:n,secondarySidebar:i,notices:c,content:s,drawer:m,actions:d,labels:u,className:p,shortcuts:_}=e;const f=(0,l.__unstableUseNavigateRegions)(_);!function(e){(0,a.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const h={drawer:(0,w.__)("Drawer"),header:(0,w.__)("Header"),body:(0,w.__)("Content"),secondarySidebar:(0,w.__)("Block Library"),sidebar:(0,w.__)("Settings"),actions:(0,w.__)("Publish"),footer:(0,w.__)("Footer"),...u};return(0,a.createElement)("div",te({},f,{ref:(0,ne.useMergeRefs)([t,f.ref]),className:re()(p,"interface-interface-skeleton",f.className,!!o&&"has-footer")}),!!m&&(0,a.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":h.drawer,tabIndex:"-1"},m),(0,a.createElement)("div",{className:"interface-interface-skeleton__editor"},!!r&&(0,a.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":h.header,tabIndex:"-1"},r),(0,a.createElement)("div",{className:"interface-interface-skeleton__body"},!!i&&(0,a.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":h.secondarySidebar,tabIndex:"-1"},i),!!c&&(0,a.createElement)("div",{className:"interface-interface-skeleton__notices"},c),(0,a.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":h.body,tabIndex:"-1"},s),!!n&&(0,a.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":h.sidebar,tabIndex:"-1"},n),!!d&&(0,a.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":h.actions,tabIndex:"-1"},d))),!!o&&(0,a.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":h.footer,tabIndex:"-1"},o))})),ie=window.wp.primitives,ce=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function le(e){let{as:t=l.DropdownMenu,className:o,label:r=(0,w.__)("Options"),popoverProps:n,toggleProps:i,children:c}=e;return(0,a.createElement)(t,{className:re()("interface-more-menu-dropdown",o),icon:ce,label:r,popoverProps:{position:"bottom left",...n,className:re()("interface-more-menu-dropdown__content",null==n?void 0:n.className)},toggleProps:{tooltipPosition:"bottom",...i}},(e=>c(e)))}const se=window.wp.deprecated;var me=o.n(se);const de=window.wp.preferences,ue=(e,t)=>o=>{let{registry:r}=o;t&&r.dispatch(de.store).set(e,"complementaryArea",t)},pe=e=>t=>{let{registry:o}=t;o.dispatch(de.store).set(e,"complementaryArea",null)},_e=(e,t)=>o=>{let{registry:r}=o;if(!t)return;const n=r.select(de.store).get(e,"pinnedItems");!0!==(null==n?void 0:n[t])&&r.dispatch(de.store).set(e,"pinnedItems",{...n,[t]:!0})},fe=(e,t)=>o=>{let{registry:r}=o;if(!t)return;const n=r.select(de.store).get(e,"pinnedItems");r.dispatch(de.store).set(e,"pinnedItems",{...n,[t]:!1})};function he(e,t){return function(o){let{registry:r}=o;me()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),r.dispatch(de.store).toggle(e,t)}}function ge(e,t,o){return function(r){let{registry:n}=r;me()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),n.dispatch(de.store).set(e,t,!!o)}}function ve(e,t){return function(o){let{registry:r}=o;me()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),r.dispatch(de.store).setDefaults(e,t)}}const we=(0,v.createRegistrySelector)((e=>(t,o)=>e(de.store).get(o,"complementaryArea"))),be=(0,v.createRegistrySelector)((e=>(t,o,r)=>{var n;const a=e(de.store).get(o,"pinnedItems");return null===(n=null==a?void 0:a[r])||void 0===n||n})),Ee=(0,v.createRegistrySelector)((e=>(t,o,r)=>(me()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(de.store).get(o,r)))),ye=(0,v.createReduxStore)("core/interface",{reducer:()=>{},actions:e,selectors:t});(0,v.register)(ye);const ke=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),Ce=function(e){let{icon:t,size:o=24,...r}=e;return(0,a.cloneElement)(t,{width:o,height:o,...r})},Se=(0,a.createElement)(ie.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(ie.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})),xe=window.wc.navigation,Te=(e,t)=>Boolean(e)&&e!==t?e:t===B?(0,w.__)("Add new product","woocommerce"):t,Ne=()=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(le,{toggleProps:{onClick:()=>(0,I.recordEvent)("product_dropdown_click")},popoverProps:{className:"woocommerce-product-header__more-menu"}},(e=>{let{onClose:t}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(J.Slot,{fillProps:{onClose:t}}))})));function Pe(e){switch(e.code){case"variable_product_no_variation_prices":case"product_form_field_error":return e.message;case"product_invalid_sku":return(0,w.__)("Invalid or duplicated SKU.","woocommerce");case"product_create_error":return(0,w.__)("Failed to create product.","woocommerce");case"product_publish_error":return(0,w.__)("Failed to publish product.","woocommerce");case"product_preview_error":return(0,w.__)("Failed to preview product.","woocommerce");default:return(0,w.__)("Failed to save product.","woocommerce")}}const Ae=(0,a.createContext)({errors:{},registerValidator:()=>()=>{},unRegisterValidator:()=>()=>{},validateField:()=>Promise.resolve(void 0),validateAll:()=>Promise.resolve({})});function Ie(){const e=(0,a.useContext)(Ae),[t,o]=(0,a.useState)(!1);return{isValidating:t,validate:async t=>(o(!0),new Promise(((o,r)=>{e.validateAll(t).then((e=>{!function(e){return Object.values(e).some(Boolean)}(e)?o():r(e)})).catch((()=>{r(e.errors)}))})).finally((()=>{o(!1)})))}}function Me(e){let{productStatus:t,...o}=e;const{createErrorNotice:r}=(0,v.useDispatch)("core/notices"),n=function(e){let{productStatus:t,productType:o="product",disabled:r,onClick:n,onSaveSuccess:i,onSaveError:c,...l}=e;const s=(0,a.useRef)(),[m]=(0,K.useEntityProp)("postType",o,"id"),[d]=(0,K.useEntityProp)("postType",o,"permalink"),{hasEdits:u,isDisabled:p}=(0,v.useSelect)((e=>{const{hasEditsForEntityRecord:t,isSavingEntityRecord:r}=e("core");return{isDisabled:r("postType",o,m),hasEdits:t("postType",o,m)}}),[m]),{isValidating:_,validate:f}=Ie(),h=r||p||_,{editEntityRecord:g,saveEditedEntityRecord:b}=(0,v.useDispatch)("core");let E;return"string"==typeof d&&(E=new URL(d),E.searchParams.append("preview","true")),{"aria-label":(0,w.__)("Preview in new tab","woocommerce"),children:(0,w.__)("Preview","woocommerce"),target:"_blank",...l,ref(e){"function"==typeof l.ref&&l.ref(e),s.current=e},"aria-disabled":h,href:null==E?void 0:E.toString(),variant:"tertiary",onClick:async function(e){var r;if(h)return e.preventDefault();if(n&&n(e),u){e.preventDefault();try{await f(),"auto-draft"===t&&await g("postType",o,m,{status:"draft"});const e=await b("postType",o,m,{throwOnError:!0});null===(r=s.current)||void 0===r||r.click(),i&&i(e)}catch(e){if(c){let t=e;t.code||(t={code:"product_preview_error"}),c(t)}}}}}}({productStatus:t,...o,onClick(){(0,I.recordEvent)("product_preview_changes",{source:N})},onSaveSuccess(e){if("auto-draft"===t){const t=(0,xe.getNewPath)({},`/product/${e.id}`);(0,xe.navigateTo)({url:t})}},onSaveError(e){const t=Pe(e);r(t)}});return(0,a.createElement)(l.Button,{...n})}const Re={cross_sell_ids:"cross_sells",reviews_allowed:"enable_reviews",downloadable:"is_downloadable",virtual:"is_virtual",images:"product_gallery",upsell_ids:"upsells"},Oe=["attributes","categories","description","manage_stock","menu_order","purchase_note","sale_price","short_description","tags","weight","cross_sell_ids","reviews_allowed","downloadable","virtual","images","upsell_ids"];function Le(e,t){const{id:o,type:r}=t,n={product_id:o,source:"product-blocks-editor-v1",product_type:r};for(const e of Object.keys(t))if(Oe.includes(e)){const o=Re[e]||e;Array.isArray(t[e])||"string"==typeof t[e]?n[o]=t[e].length?"yes":"no":n[o]=t[e]?"yes":"no"}if(t.downloadable||t.virtual){const{downloadable:e,virtual:o}=t,r={virtual:o,downloadable:e};n.product_type_options=Object.keys(r).filter((e=>r[e])).join(",")}"images"in t&&(n.product_image=t.images.length?"yes":"no"),t.dimensions&&(n.dimensions=t.dimensions.length.length||t.dimensions.width.length||t.dimensions.height.length?"yes":"no"),(0,I.recordEvent)(e,n)}const Be=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),De=()=>{const{updateOptions:e}=(0,v.useDispatch)(E.OPTIONS_STORE_NAME),{shouldShowFeedbackBar:t}=(0,v.useSelect)((e=>{var t;const{getOption:o,hasFinishedResolution:r}=e(E.OPTIONS_STORE_NAME),n=o(y);return{shouldShowFeedbackBar:!!r("getOption",[y])&&(null===(t=window.wcTracks)||void 0===t?void 0:t.isEnabled)&&"yes"===n}}),[]);return{shouldShowFeedbackBar:t,maybeShowFeedbackBar:async()=>{var t;const{showFeedbackBarOption:o}=await(async()=>{const{getOption:e}=(0,v.resolveSelect)(E.OPTIONS_STORE_NAME);return{showFeedbackBarOption:await e(y)}})();(null===(t=window.wcTracks)||void 0===t?void 0:t.isEnabled)&&"no"!==o&&e({[y]:"yes"})},hideFeedbackBar:()=>{e({[y]:"no"})}}};function Ve(e){let{productStatus:t,productType:o="product",...r}=e;const{createSuccessNotice:n,createErrorNotice:i}=(0,v.useDispatch)("core/notices"),{maybeShowFeedbackBar:c}=De(),s=function(e){let{productStatus:t,productType:o="product",disabled:r,onClick:n,onSaveSuccess:i,onSaveError:c,...s}=e;const[m]=(0,K.useEntityProp)("postType",o,"id"),{hasEdits:d,isDisabled:u}=(0,v.useSelect)((e=>{const{hasEditsForEntityRecord:t,isSavingEntityRecord:r}=e("core");return{isDisabled:r("postType",o,m),hasEdits:t("postType",o,m)}}),[m]),{isValidating:p,validate:_}=Ie(),f=r||u||"publish"!==t&&!d||p,{editEntityRecord:h,saveEditedEntityRecord:g}=(0,v.useDispatch)("core");let b;return b="publish"===t?(0,w.__)("Switch to draft","woocommerce"):d||"auto-draft"===t?(0,w.__)("Save draft","woocommerce"):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.Icon,{icon:Be}),(0,w.__)("Saved","woocommerce")),{children:b,...s,"aria-disabled":f,variant:"tertiary",onClick:async function(e){if(f)return e.preventDefault();n&&n(e);try{await _({status:"draft"}),await h("postType",o,m,{status:"draft"});const e=await g("postType",o,m,{throwOnError:!0});i&&i(e)}catch(e){c&&c(e)}}}}({productStatus:t,productType:o,...r,onSaveSuccess(e){if(Le("product_edit",e),n((0,w.__)("Product saved as draft.","woocommerce")),c(),"auto-draft"===t){const t=(0,xe.getNewPath)({},`/product/${e.id}`);(0,xe.navigateTo)({url:t})}},onSaveError(e){const t=Pe(e);i(t)}});return(0,a.createElement)(l.Button,{...s})}function Fe(e){let{productStatus:t,productType:o="product",...r}=e;const{createSuccessNotice:n,createErrorNotice:i}=(0,v.useDispatch)("core/notices"),{maybeShowFeedbackBar:c}=De(),s=function(e){let{productType:t="product",productStatus:o,disabled:r,onClick:n,onPublishSuccess:a,onPublishError:i,...c}=e;const{isValidating:l,validate:s}=Ie(),[m]=(0,K.useEntityProp)("postType",t,"id"),{isSaving:d}=(0,v.useSelect)((e=>{const{isSavingEntityRecord:o}=e("core");return{isSaving:o("postType",t,m)}}),[m]),u=d||l,p="product"!==t||"publish"===o,{editEntityRecord:_,saveEditedEntityRecord:f}=(0,v.useDispatch)("core");return{children:p?(0,w.__)("Update","woocommerce"):(0,w.__)("Add","woocommerce"),...c,isBusy:u,variant:"primary",onClick:async function(e){n&&n(e);try{"product"===t?(await s({status:"publish"}),p||await _("postType",t,m,{status:"publish"})):await s();const e=await f("postType",t,m,{throwOnError:!0});e&&a&&a(e)}catch(e){if(i){let t=e;if(!t.code)if(t={code:p?"product_publish_error":"product_create_error"},e.variations)t.code="variable_product_no_variation_prices",t.message=e.variations;else{const o=Object.values(e).find((e=>void 0!==e));void 0!==o&&(t.code="product_form_field_error",t.message=o)}i(t)}}}}}({productType:o,productStatus:t,...r,onPublishSuccess(e){const r="product"!==o||"publish"===t;r&&Le("product_update",e);const a=r?(0,w.__)("Product updated.","woocommerce"):(0,w.__)("Product added.","woocommerce"),i={icon:"🎉",actions:[{label:(0,w.__)("View in store","woocommerce"),url:e.permalink,onClick(t){t.preventDefault(),window.open(e.permalink,"_blank")}}]};if(n(a,i),c(),"auto-draft"===t){const t=(0,xe.getNewPath)({},`/product/${e.id}`);(0,xe.navigateTo)({url:t})}},onPublishError(e){const t=Pe(e);i(t)}});return(0,a.createElement)(l.Button,{...s})}const He="woocommerce_product_tabs";function Ue(e){let{onChange:t=(()=>{})}=e;const[o,r]=(0,a.useState)(null),n=(0,xe.getQuery)(),[i]=(0,K.useEntityProp)("postType","product","id"),c=(0,v.useSelect)((e=>e("core").getEditedEntityRecord("postType","product",i)));return(0,a.useEffect)((()=>{t(o)}),[o]),(0,a.useEffect)((()=>{n.tab&&r(n.tab)}),[n.tab]),(0,a.createElement)(l.NavigableMenu,{role:"tablist",onNavigate:function(e,t){t.click()},className:"woocommerce-product-tabs",orientation:"horizontal"},(0,a.createElement)(l.Slot,{fillProps:{onClick:e=>{(0,xe.navigateTo)({url:(0,xe.getNewPath)({tab:e})}),(0,I.recordEvent)("product_tab_click",function(e,t){const o={product_tab:e,product_type:t.type,source:N};return"inventory"===e?{...o,is_store_stock_management_enabled:t.manage_stock}:o}(e,c))}},name:He},(e=>u?(function(e){var t,n;if(!o)for(let o=0;o<e.length;o++){if(e[o][0].props.disabled)continue;const a=(null===(n=null===(t=e[o][0].props)||void 0===t?void 0:t.children)||void 0===n?void 0:n.key)||null;return void r(a)}}(e),u(e)):null)))}const ze=(0,w.__)("Return to the main product","woocommerce");function je(e){let{onTabSelect:t,productType:o="product"}=e;const[r]=(0,K.useEntityProp)("postType",o,"id"),n=(0,v.useSelect)((e=>{const{getEntityRecord:t}=e("core");return t("postType",o,r)}),[r]),[i]=(0,K.useEntityProp)("postType",o,"name");if(!r)return null;const c=(null==n?void 0:n.parent_id)>0;return(0,a.createElement)("div",{className:"woocommerce-product-header",role:"region","aria-label":(0,w.__)("Product Editor top bar.","woocommerce"),tabIndex:-1},(0,a.createElement)("div",{className:"woocommerce-product-header__inner"},c?(0,a.createElement)("div",{className:"woocommerce-product-header__back"},(0,a.createElement)(l.Tooltip,{className:"woocommerce-product-header__back-tooltip",text:ze},(0,a.createElement)("div",{className:"woocommerce-product-header__back-tooltip-wrapper"},(0,a.createElement)(l.Button,{icon:ke,isTertiary:!0,onClick:()=>{(0,I.recordEvent)("product_variation_back_to_main_product",{source:N});const e=(0,xe.getNewPath)({tab:"variations"},`/product/${n.parent_id}`);(0,xe.navigateTo)({url:e})}},(0,w.__)("Main product","woocommerce"))))):(0,a.createElement)("div",null),(0,a.createElement)("h1",{className:"woocommerce-product-header__title"},c?(0,a.createElement)("div",{className:"woocommerce-product-header__variable-product-title"},(0,a.createElement)(Ce,{icon:Se}),(0,a.createElement)("span",{className:"woocommerce-product-header__variable-product-name"},null==n?void 0:n.name),(0,a.createElement)("span",{className:"woocommerce-product-header__variable-product-id"},"# ",n.id)):Te(i,n.name)),(0,a.createElement)("div",{className:"woocommerce-product-header__actions"},!c&&(0,a.createElement)(Ve,{productType:o,productStatus:n.status}),(0,a.createElement)(Me,{productType:o,productStatus:n.status}),(0,a.createElement)(Fe,{productType:o,productStatus:n.status}),(0,a.createElement)(X.WooHeaderItem.Slot,{name:"product"}),(0,a.createElement)(Ne,null))),(0,a.createElement)(Ue,{onChange:t}))}const $e=window.wp.mediaUtils,We=window.wp.blockEditor,Ge=e=>(t,o)=>{const r=new URLSearchParams(t.search),n=new URLSearchParams(o.search);return r.delete("tab"),n.delete("tab"),(void 0===e||"/add-product"!==n.get("path")||r.get("path")!=="/product/"+e)&&r.toString()!==n.toString()};function qe(e){return delete e.content,delete e.blocks,e}function Ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"product";const[t]=(0,K.useEntityProp)("postType",e,"id"),{edits:o}=(0,v.useSelect)((o=>{const{getEntityRecordNonTransientEdits:r}=o("core");return{edits:qe(r("postType",e,t))}}),[t,e]);function r(e){return o.hasOwnProperty(e)}return{hasEdit:r,hasEdits:Object.keys(o).length>0}}function Je(e){let{context:t,settings:o,productType:r,productId:n}=e;!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"product";const[t]=(0,K.useEntityProp)("postType",e,"id"),{hasEdits:o}=Ze(e),{isSaving:r}=(0,v.useSelect)((o=>{const{isSavingEntityRecord:r}=o("core");return{isSaving:r("postType",e,t)}}),[t,e]);(0,xe.useConfirmUnsavedChanges)(o||r,Ge(t))}(r);const i=(0,v.useSelect)((e=>{const{canUser:t}=e("core");return!1!==t("create","media","")}),[]),c=(0,a.useMemo)((()=>i?{...o,mediaUpload(e){let{onError:t,...r}=e;(0,$e.uploadMedia)({wpAllowedMimeTypes:(null==o?void 0:o.allowedMimeTypes)||void 0,onError:e=>{let{message:o}=e;return t(o)},...r})}}:o),[i,o]),[l,s,m]=(0,K.useEntityBlockEditor)("postType",r,{id:n}),{updateEditorSettings:d}=(0,v.useDispatch)("core/editor");return(0,a.useLayoutEffect)((()=>{const e=null==o?void 0:o.templates[r],t=(0,j.synchronizeBlocksWithTemplate)([],e);m(t,{}),d(null!=o?o:{})}),[r,n]),l?(0,a.createElement)("div",{className:"woocommerce-product-block-editor"},(0,a.createElement)(We.BlockContextProvider,{value:t},(0,a.createElement)(We.BlockEditorProvider,{value:l,onInput:s,onChange:m,settings:c},(0,a.createElement)(We.BlockEditorKeyboardShortcuts.Register,null),(0,a.createElement)(We.BlockTools,null,(0,a.createElement)(We.ObserveTyping,null,(0,a.createElement)(We.BlockList,{className:"woocommerce-product-block-editor__block-list"})))))):null}function Ye(e){let{initialValue:t,children:o}=e;const r=(0,a.useRef)({}),n=(0,a.useRef)({}),[i,c]=(0,a.useState)({});async function l(e,o){const n=r.current;return e in n?(0,n[e])(t,o).then((t=>(c((o=>({...o,[e]:t}))),t))):Promise.resolve(void 0)}return(0,a.createElement)(Ae.Provider,{value:{errors:i,registerValidator:function(e,t){return r.current={...r.current,[e]:t},t=>{n.current[e]=t}},unRegisterValidator:function(e){r.current[e]&&delete r.current[e],n.current[e]&&delete n.current[e]},validateField:l,validateAll:async function(e){const t={},o=r.current;for(const r in o)t[r]=await l(r,e);c(t);const a=function(e,t){const o=Object.entries(e).filter((e=>{let[o,r]=e;return(null==r?void 0:r.closest('.is-selected[role="tabpanel"]'))&&Boolean(t[o])})),[r]=o.sort(((e,t)=>{let[,o]=e,[,r]=t;return o.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})),[,n]=null!=r?r:[];return n}(n.current,t);return null==a||a.focus(),t}}},o)}function Xe(e){let{product:t,productType:o="product",settings:r}=e;const[n,i]=(0,a.useState)(null),c=(0,X.useExtendLayout)("product-block-editor");return(0,a.createElement)(X.LayoutContextProvider,{value:c},(0,a.createElement)(a.StrictMode,null,(0,a.createElement)(K.EntityProvider,{kind:"postType",type:o,id:t.id},(0,a.createElement)(Q.ShortcutProvider,null,(0,a.createElement)(ee,{isActive:!1}),(0,a.createElement)(l.SlotFillProvider,null,(0,a.createElement)(Ye,{initialValue:t},(0,a.createElement)(ae,{header:(0,a.createElement)(je,{onTabSelect:i,productType:o}),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Je,{settings:r,productType:o,productId:t.id,context:{selectedTab:n,postType:o,postId:t.id}}),(0,a.createElement)(Y.PluginArea,{scope:"woocommerce-product-block-editor"}))}),(0,a.createElement)(l.Popover.Slot,null)))))))}const Ke=window.wp.blockLibrary,Qe=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-catalog-visibility-field","description":"A checkbox to manage the catalog visibility of the product.","title":"Product catalog visibility","category":"widgets","keywords":["products","catalog"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"visibility":{"type":"string","enum":["visible","catalog","search","hidden"],"default":"visible"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}'),et=window.wc.blockTemplates;function tt(e){const{postType:t}=e,o=(0,K.useEntityId)("postType",t);return{getEvaluationContext:r=>{const n=r("core").getEditedEntityRecord("postType",t,o);return{...e,editedProduct:n}}}}function ot(e){const{metadata:t,settings:o,name:r}=e,n={...t,usesContext:(a=t.usesContext,[...a||[],"postType"])};var a;return(0,et.registerWooBlockType)({name:r,metadata:n,settings:o},tt)}const{name:rt,...nt}=Qe,at={example:{},edit:function(e){let{attributes:t}=e;const{label:o,visibility:r}=t,n=(0,et.useWooBlockProps)(t),[i,c]=(0,K.useEntityProp)("postType","product","catalog_visibility"),s=i===r||"hidden"===i;return(0,a.createElement)("div",{...n},(0,a.createElement)(l.CheckboxControl,{label:o,checked:s,onChange:function(e){if(e){if("visible"===i)return void c(r);c("hidden")}else{if("hidden"===i)return"catalog"===r?void c("search"):"search"===r?void c("catalog"):void 0;c("visible")}}}))}};function it(){return ot({name:rt,metadata:nt,settings:at})}const ct=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-checkbox-field","title":"Product checkbox control","category":"woocommerce","description":"A reusable checkbox for the product editor.","keywords":["products","checkbox","input"],"textdomain":"default","attributes":{"title":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"property":{"type":"string"},"tooltip":{"type":"string"},"checkedValue":{"type":"string"},"uncheckedValue":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),lt=function(e,t){var o;const r=e.startsWith("meta_data."),n=e.replace("meta_data.",""),[a,i]=(0,K.useEntityProp)("postType",(null==t?void 0:t.postType)||"product",e),[c,l]=(0,K.useEntityProp)("postType",(null==t?void 0:t.postType)||"product","meta_data");return[r?(null===(o=c.find((e=>e.key===n)))||void 0===o?void 0:o.value)||(null==t?void 0:t.fallbackValue):a,r?e=>{const t=c.find((e=>e.key===n)),o=t?{...t,value:e}:{key:n,value:e};l([...c.filter((e=>e.key!==n)),o])}:i]},st=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})),mt=e=>{let{value:t,label:o,onChange:r,tooltip:n,title:i,checkedValue:c,uncheckedValue:s}=e;return(0,a.createElement)("div",{className:"woocommerce-product-form__checkbox"},i&&(0,a.createElement)("h4",null,i),(0,a.createElement)("div",{className:"woocommerce-product-form__checkbox-wrapper"},(0,a.createElement)(l.CheckboxControl,{label:o,checked:void 0!==c?c===t:t,onChange:function(e){r(e?void 0!==c?c:e:void 0!==s?s:e)}}),n&&(0,a.createElement)(l.Tooltip,{text:(0,a.createElement)("span",null,n),position:"top center",className:"woocommerce-product-form__checkbox-tooltip",delay:0},(0,a.createElement)("span",{className:"woocommerce-product-form__checkbox-tooltip-icon"},(0,a.createElement)(Ce,{icon:st,size:21.94,fill:"#949494"})))))},{name:dt,...ut}=ct,pt={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const{property:r,title:n,label:i,tooltip:c,checkedValue:l,uncheckedValue:s}=t,m=(0,et.useWooBlockProps)(t),[d,u]=lt(r,{postType:o,fallbackValue:!1});return(0,a.createElement)("div",{...m},(0,a.createElement)(mt,{value:d||null,onChange:u,label:i||"",title:n,tooltip:c,checkedValue:l,uncheckedValue:s}))}},_t=()=>ot({name:dt,metadata:ut,settings:pt}),ft=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-collapsible","title":"Collapsible","category":"widgets","description":"Container with collapsible inner blocks.","textdomain":"default","attributes":{"toggleText":{"type":"string","__experimentalRole":"content"},"initialCollapsed":{"type":"boolean"},"persistRender":{"type":"boolean"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}'),{name:ht}=ft,gt={example:{},edit:function(e){let{attributes:t}=e;const o=(0,et.useWooBlockProps)(t),{toggleText:r,initialCollapsed:n,persistRender:c=!0}=t;return(0,a.createElement)("div",{...o},(0,a.createElement)(i.CollapsibleContent,{toggleText:r,initialCollapsed:n,persistRender:c},(0,a.createElement)(We.InnerBlocks,{templateLock:"all"})))}},vt=()=>ot({name:ht,metadata:ft,settings:gt}),wt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/conditional","title":"Conditional","category":"widgets","description":"Container to only conditionally render inner blocks.","textdomain":"default","attributes":{"mustMatch":{"__experimentalRole":"content","type":"array","items":{"type":"object"},"default":[]}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}'),{name:bt}=wt,Et={example:{},edit:function(e){let{attributes:t,context:o}=e;me()("`woocommerce/conditional` block",{alternative:"`hideConditions` attribute on any block"});const{postType:r}=o,n=(0,et.useWooBlockProps)(t),{mustMatch:c}=t,l=(0,K.useEntityId)("postType",r),s=(0,v.useSelect)((e=>{const t=e("core").getEditedEntityRecord("postType",r,l);for(const[e,o]of Object.entries(c))if(!o.includes(t[e]))return!1;return!0}),[r,l,c]);return(0,a.createElement)("div",{...n},(0,a.createElement)(i.DisplayState,{state:s?"visible":"visually-hidden"},(0,a.createElement)(We.InnerBlocks,{templateLock:"all"})))}},yt=()=>ot({name:bt,metadata:wt,settings:Et}),kt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-description-field","title":"Product description","category":"woocommerce","description":"The product description.","keywords":["products","description"],"textdomain":"default","attributes":{"__contentEditable":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}');var Ct=o(74944);const St=["a","b","em","i","strong","p","br"],xt=["target","href","rel","name","download"];function Tt(e,t){const o=(null==t?void 0:t.tags)||St,r=(null==t?void 0:t.attr)||xt;return{__html:(0,Ct.sanitize)(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:r})}}const Nt=["a","b","em","i","strong","p","br","img","blockquote","cite","h1","h2","h3","h4","h5","h6","ul","li","ol","div"],Pt=["target","href","rel","name","download","src","style","class"];function At(e){let{content:t}=e;const o=(0,v.useSelect)((e=>e(We.store).getSettings()));return(0,a.createElement)("div",{className:"woocommerce-content-preview"},(0,a.createElement)(We.__unstableIframe,{className:"woocommerce-content-preview__iframe"},(0,a.createElement)(a.Fragment,null,(0,a.createElement)(We.__unstableEditorStyles,{styles:null==o?void 0:o.styles}),(0,a.createElement)("style",null,"body {\n\t\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\t}"),(0,a.createElement)("div",{className:"woocommerce-content-preview__content",dangerouslySetInnerHTML:Tt(t,{tags:Nt,attr:Pt})}))))}const It=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M20 10.8H6.7l4.1-4.5-1.1-1.1-5.8 6.3 5.8 5.8 1.1-1.1-4-3.9H20z"}));function Mt(e){let{onClick:t}=e;return(0,a.createElement)(l.Button,{className:"woocommerce-iframe-editor__back-button",icon:It,onClick:t},(0,w.__)("Back","woocommerce"))}function Rt(e){let{children:t,enableResizing:o,settings:r,...n}=e;const i=(0,We.__unstableUseMouseMoveTypingReset)();return(0,a.createElement)(We.__unstableIframe,{ref:i,name:"editor-canvas",className:"edit-site-visual-editor__editor-canvas",...n},(0,a.createElement)(a.Fragment,null,(0,a.createElement)(We.__unstableEditorStyles,{styles:null==r?void 0:r.styles}),(0,a.createElement)("style",null,".is-root-container {\n\t\t\t\t\t\t\t\tpadding: 36px;\n\t\t\t\t\t\t\t\tdisplay: flow-root;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbody { position: relative; }"),o&&(0,a.createElement)("style",null,".is-root-container { min-height: 0 !important; }"),t))}const Ot=(0,a.createContext)({hasRedo:!1,hasUndo:!1,isDocumentOverviewOpened:!1,isInserterOpened:!1,isSidebarOpened:!0,redo:()=>{},setIsDocumentOverviewOpened:()=>{},setIsInserterOpened:()=>{},setIsSidebarOpened:()=>{},undo:()=>{}}),Lt=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),Bt=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),Dt=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),Vt=(0,a.forwardRef)((function(e,t){const{hasRedo:o,redo:r}=(0,a.useContext)(Ot);return(0,a.createElement)(l.Button,{...e,ref:t,icon:(0,w.isRTL)()?Dt:Bt,label:(0,w.__)("Redo","woocommerce"),"aria-disabled":!o,onClick:o?r:void 0,className:"editor-history__redo"})})),Ft=(0,a.forwardRef)((function(e,t){const{hasUndo:o,undo:r}=(0,a.useContext)(Ot);return(0,a.createElement)(l.Button,{...e,ref:t,icon:(0,w.isRTL)()?Bt:Dt,label:(0,w.__)("Undo","woocommerce"),"aria-disabled":!o,onClick:o?r:void 0,className:"editor-history__undo"})})),Ht=(0,a.createElement)(ie.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(ie.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"})),Ut=(0,a.forwardRef)((function(e,t){const{isDocumentOverviewOpened:o,setIsDocumentOverviewOpened:r}=(0,a.useContext)(Ot);return(0,a.createElement)(l.Button,{...e,ref:t,icon:Ht,isPressed:o,label:(0,w.__)("Document overview","woocommerce"),onClick:function(){r(!o)},className:"document-overview"})})),zt=(0,a.createElement)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),jt=(0,a.forwardRef)((function(e,t){const{isSidebarOpened:o,setIsSidebarOpened:r}=(0,a.useContext)(Ot);return(0,a.createElement)(l.Button,{...e,ref:t,icon:zt,isPressed:o,label:(0,w.__)("Show/hide block inspector","woocommerce"),onClick:function(){r(!o)}})})),$t=()=>{const{createNotice:e}=(0,v.useDispatch)("core/notices"),{blocks:t}=(0,v.useSelect)((e=>{const{getBlocks:t}=e(We.store);return{blocks:t()}}),[]),o=(0,ne.useCopyToClipboard)((()=>(0,j.serialize)(t)),(()=>{e("success",(0,w.__)("All content copied.","woocommerce"))}));return(0,a.createElement)(l.MenuItem,{ref:o,role:"menuitem",onClick:()=>{(0,I.recordEvent)("product_iframe_editor_copy_all_content_menu_item_click")},disabled:!t.length},(0,w.__)("Copy all content","woocommerce"))},Wt=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"})),Gt=()=>(0,a.createElement)(l.MenuItem,{role:"menuitem",icon:Wt,href:(0,w.__)("https://wordpress.org/documentation/article/wordpress-block-editor/","woocommerce"),onClick:()=>{(0,I.recordEvent)("product_iframe_editor_help_menu_item_click")},target:"_blank",rel:"noopener noreferrer"},(0,w.__)("Help","woocommerce"),(0,a.createElement)(l.VisuallyHidden,{as:"span"},(0,w.__)("(opens in a new tab)","woocommerce"))),qt=()=>(0,a.createElement)(l.MenuGroup,{label:(0,w.__)("Tools","woocommerce")},(0,a.createElement)($t,null),(0,a.createElement)(Gt,null)),Zt=()=>(0,a.createElement)(le,null,(()=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(qt,null))));function Jt(e){let{onSave:t=(()=>{}),onCancel:o=(()=>{})}=e;const{isInserterOpened:r,setIsInserterOpened:n}=(0,a.useContext)(Ot),i=(0,ne.useViewportMatch)("medium"),c=(0,a.useRef)(null),{isInserterEnabled:s,isTextModeEnabled:m}=(0,v.useSelect)((e=>{const{hasInserterItems:t,getBlockRootClientId:o,getBlockSelectionEnd:r,__unstableGetEditorMode:n}=e(We.store);return{isTextModeEnabled:"text"===n(),isInserterEnabled:t(o(r()))}}),[]),d=(0,w.__)("Document tools","woocommerce"),u=(0,a.useCallback)((()=>{var e;r?(null===(e=c.current)||void 0===e||e.focus(),n(!1)):n(!0)}),[r,n]);return(0,a.createElement)(We.NavigableToolbar,{className:"woocommerce-iframe-editor__header-toolbar","aria-label":d},(0,a.createElement)("div",{className:"woocommerce-iframe-editor__header-toolbar-left"},(0,a.createElement)(l.ToolbarItem,{ref:c,as:l.Button,className:"woocommerce-iframe-editor__header-toolbar-inserter-toggle",variant:"primary",isPressed:r,onMouseDown:e=>{e.preventDefault()},onClick:u,disabled:!s,icon:Lt,label:r?(0,w.__)("Close","woocommerce"):(0,w.__)("Add","woocommerce"),showTooltip:!0}),i&&(0,a.createElement)(l.ToolbarItem,{as:We.ToolSelector,disabled:m}),(0,a.createElement)(l.ToolbarItem,{as:Ft}),(0,a.createElement)(l.ToolbarItem,{as:Vt}),(0,a.createElement)(l.ToolbarItem,{as:Ut})),(0,a.createElement)("div",{className:"woocommerce-iframe-editor__header-toolbar-right"},(0,a.createElement)(l.ToolbarItem,{as:l.Button,variant:"tertiary",className:"woocommerce-modal-actions__cancel-button",onClick:o,text:(0,w.__)("Cancel","woocommerce")}),(0,a.createElement)(l.ToolbarItem,{as:l.Button,variant:"primary",className:"woocommerce-modal-actions__done-button",onClick:t,text:(0,w.__)("Done","woocommerce")}),(0,a.createElement)(l.ToolbarItem,{as:jt,className:"woocommerce-show-block-inspector-panel"}),(0,a.createElement)(l.ToolbarItem,{as:Zt})))}const Yt=window.wp.keycodes;function Xt(e){let{direction:t,resizeWidthBy:o}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("button",{className:`resizable-editor__drag-handle is-${t}`,"aria-label":(0,w.__)("Drag to resize","woocommerce"),"aria-describedby":`resizable-editor__resize-help-${t}`,onKeyDown:function(e){const{keyCode:r}=e;"left"===t&&r===Yt.LEFT||"right"===t&&r===Yt.RIGHT?o(20):("left"===t&&r===Yt.RIGHT||"right"===t&&r===Yt.LEFT)&&o(-20)}}),(0,a.createElement)(l.VisuallyHidden,{id:`resizable-editor__resize-help-${t}`},(0,w.__)("Use left and right arrow keys to resize the canvas.","woocommerce")))}const Kt={position:void 0,userSelect:void 0,cursor:void 0,width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0};function Qt(e){let{enableResizing:t,height:o,children:r}=e;const[n,i]=(0,a.useState)("100%"),c=(0,a.useRef)(),s=(0,a.useCallback)((e=>{c.current&&i(c.current.offsetWidth+e)}),[]);return(0,a.createElement)(l.ResizableBox,{ref:e=>{c.current=null==e?void 0:e.resizable},size:{width:t?n:"100%",height:t&&o?o:"100%"},onResizeStop:(e,t,o)=>{i(o.style.width)},minWidth:300,maxWidth:"100%",maxHeight:"100%",minHeight:o,enable:{right:t,left:t},showHandle:t,resizeRatio:2,handleComponent:{left:(0,a.createElement)(Xt,{direction:"left",resizeWidthBy:s}),right:(0,a.createElement)(Xt,{direction:"right",resizeWidthBy:s})},handleClasses:void 0,handleStyles:{left:Kt,right:Kt}},r)}const eo=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function to(){const{setIsInserterOpened:e}=(0,a.useContext)(Ot),t=(0,ne.useViewportMatch)("medium","<"),{rootClientId:o}=(0,v.useSelect)((e=>{const{getBlockRootClientId:t}=e(We.store);return{rootClientId:t()}})),r=(0,a.useCallback)((()=>e(!1)),[e]),n=t?"div":l.VisuallyHidden,[i,c]=(0,ne.__experimentalUseDialog)({onClose:r,focusOnMount:!1}),s=(0,a.useRef)(null);return(0,a.useEffect)((()=>{var e;null===(e=s.current)||void 0===e||e.focusSearch()}),[]),(0,a.createElement)("div",{ref:i,...c,className:"woocommerce-iframe-editor__inserter-panel"},(0,a.createElement)(n,{className:"woocommerce-iframe-editor__inserter-panel-header"},(0,a.createElement)(l.Button,{icon:eo,onClick:r,label:(0,w.__)("Close block inserter","woocommerce")})),(0,a.createElement)("div",{className:"woocommerce-iframe-editor__inserter-panel-content"},(0,a.createElement)(We.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:t,rootClientId:o,ref:s})))}const oo=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));function ro(){const{setIsDocumentOverviewOpened:e}=(0,a.useContext)(Ot),t=(0,ne.useFocusOnMount)("firstElement"),o=(0,ne.useFocusReturn)(),r=(0,ne.useFocusReturn)(),[n,i]=(0,a.useState)(null),[c,s]=(0,a.useState)("list-view"),m=(0,a.useRef)(null),d=(0,ne.useMergeRefs)([r,t,m,i]);return(0,a.createElement)("div",{className:"woocommerce-iframe-editor__document-overview-sidebar",onKeyDown:function(t){"Escape"!==t.code||t.defaultPrevented||(t.preventDefault(),e(!1))}},(0,a.createElement)(l.Button,{className:"woocommerce-iframe-editor__document-overview-sidebar-close-button",ref:o,icon:oo,label:(0,w.__)("Close","woocommerce"),onClick:()=>e(!1)}),(0,a.createElement)(l.TabPanel,{className:"woocommerce-iframe-editor__document-overview-sidebar-tab-panel",initialTabName:c,onSelect:s,tabs:[{name:"list-view",title:"List View",className:"woocommerce-iframe-editor__document-overview-sidebar-tab-item"}]},(e=>(0,a.createElement)("div",{className:"woocommerce-iframe-editor__document-overview-sidebar-tab-content",ref:d},"list-view"===e.name?(0,a.createElement)(We.__experimentalListView,{dropZoneElement:n}):null))))}function no(){const{isInserterOpened:e,isDocumentOverviewOpened:t}=(0,a.useContext)(Ot);return e?(0,a.createElement)(to,null):t?(0,a.createElement)(ro,null):null}const ao=50;function io(e){let{maxHistory:t=ao,setBlocks:o}=e;const[r,n]=(0,a.useState)([]),[i,c]=(0,a.useState)(0);return{appendEdit:function(e){const o=[...r.slice(0,i+1),e].slice(-1*t);n(o),c(o.length-1)},hasRedo:!!r.length&&i<r.length-1,hasUndo:!!r.length&&i>0,redo:function(){const e=Math.min(r.length-1,i+1);r[e]&&(o(r[e]),c(e))},undo:function(){const e=Math.max(0,i-1);r[e]&&(o(r[e]),c(e))}}}function co(e){let{closeModal:t=(()=>{}),initialBlocks:o=[],onChange:r=(()=>{}),onClose:n,onInput:i=(()=>{}),settings:c}=e;const[s]=(0,ne.useResizeObserver)(),[m,d]=(0,a.useState)(o),[u,p]=(0,a.useState)(o),{appendEdit:_}=io({setBlocks:d}),{appendEdit:f,hasRedo:h,hasUndo:g,redo:w,undo:b}=io({setBlocks:p}),[E,y]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[S,x]=(0,a.useState)(!0),{clearSelectedBlock:T,updateSettings:N}=(0,v.useDispatch)(We.store),P=(0,v.useSelect)((e=>e(We.store).getSettings()),[]);(0,a.useEffect)((()=>{N(productBlockEditorSettings)}),[]);const A=c||P;return(0,a.createElement)("div",{className:"woocommerce-iframe-editor"},(0,a.createElement)(Ot.Provider,{value:{hasRedo:h,hasUndo:g,isInserterOpened:E,isDocumentOverviewOpened:k,redo:w,setIsInserterOpened:y,setIsDocumentOverviewOpened:C,undo:b,isSidebarOpened:S,setIsSidebarOpened:x}},(0,a.createElement)(We.BlockEditorProvider,{settings:{...A,hasFixedToolbar:!0,templateLock:!1},value:m,onChange:e=>{f(e),p(e),r(e)},onInput:e=>{f(e),p(e),i(e)},useSubRegistry:!0},(0,a.createElement)(Jt,{onSave:()=>{_(u),d(u),r(u),t()},onCancel:()=>{_(m),d(m),r(m),p(m),t()}}),(0,a.createElement)("div",{className:"woocommerce-iframe-editor__main"},(0,a.createElement)(no,null),(0,a.createElement)(We.BlockTools,{className:"woocommerce-iframe-editor__content",onClick:e=>{e.target===e.currentTarget&&T()}},(0,a.createElement)(We.BlockEditorKeyboardShortcuts.Register,null),n&&(0,a.createElement)(Mt,{onClick:()=>{setTimeout(n,550)}}),(0,a.createElement)(Qt,{enableResizing:!0,height:"100%"},(0,a.createElement)(Rt,{enableResizing:!0,settings:A},s,(0,a.createElement)(We.BlockList,{className:"edit-site-block-editor__block-list wp-site-blocks"})),(0,a.createElement)(l.Popover.Slot,null)),(0,a.createElement)("div",{className:"woocommerce-iframe-editor__content-inserter-clipper"})),S&&(0,a.createElement)("div",{className:"woocommerce-iframe-editor__sidebar"},(0,a.createElement)(We.BlockInspector,null))))))}function lo(e){let{initialBlocks:t,onChange:o,onClose:r,title:n}=e;const i=(0,ne.useDebounce)((e=>{o(e)}),250);function c(){const e=i.flush();e&&o(e),r()}return(0,a.createElement)(l.Modal,{className:"woocommerce-modal-editor",title:n,onRequestClose:c,shouldCloseOnClickOutside:!1},(0,a.createElement)(co,{initialBlocks:t,onInput:i,onChange:i,closeModal:c}))}const{name:so,...mo}=kt,uo={example:{},edit:function(e){let{attributes:t}=e;const o=(0,et.useWooBlockProps)(t),[r,n]=(0,a.useState)(!1),[i,c]=(0,K.useEntityProp)("postType","product","description");return(0,a.createElement)("div",{...o},(0,a.createElement)(l.Button,{variant:"secondary",onClick:()=>{n(!0),(0,I.recordEvent)("product_add_description_click")}},i.length?(0,w.__)("Edit description","woocommerce"):(0,w.__)("Add description","woocommerce")),r&&(0,a.createElement)(lo,{initialBlocks:(0,j.parse)(i),onChange:e=>{const t=(0,j.serialize)(function(e){if(1===e.length){const{content:t}=e[0].attributes;if(!t||!t.trim())return[]}return e}(e));c(t)},onClose:()=>n(!1),title:(0,w.__)("Edit description","woocommerce")}),!!i.length&&(0,a.createElement)(At,{content:i}))}},po=()=>ot({name:so,metadata:mo,settings:uo}),_o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-downloads-field","title":"Product downloads","category":"widgets","description":"The product downloads.","keywords":["products","downloads"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');function fo(){return(0,a.createElement)("svg",{width:"104",height:"64",viewBox:"0 0 104 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.129 64C87.9065 64 87.6851 63.9941 87.4649 63.9823V64H61.888L56.6463 48.9818L68.2211 51.8173L51.9999 35.5945L35.7787 51.8173L47.3535 48.9818L42.1118 64H17.972V63.985C8.36383 63.5505 0.682007 53.7386 0.682007 41.6982C0.682007 29.3812 8.72077 19.3963 18.6371 19.3963C22.011 19.3963 25.1676 20.5522 27.8642 22.5626C32.3286 9.21729 41.8544 0 52.8848 0C65.7239 0 76.5246 12.4881 79.6776 29.4383C82.0937 27.4239 85.001 26.2488 88.129 26.2488C96.5176 26.2488 103.318 34.6997 103.318 45.1244C103.318 55.5491 96.5176 64 88.129 64Z",fill:"#F0F0F0"}))}const ho=(0,a.createElement)(ie.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(ie.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),go=(0,a.createElement)(ie.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(ie.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),vo=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));function wo(e){let{allowedTypes:t,maxUploadFileSize:o=1e7,onUploadSuccess:r,onUploadError:n}=e;return(0,a.createElement)(l.FormFileUpload,{multiple:!0,onChange:function(e){const a=e.currentTarget.files;(0,$e.uploadMedia)({allowedTypes:t,filesList:a,maxUploadFileSize:o,onFileChange:r,onError:n})},render:e=>{let{openFileDialog:t}=e;return(0,a.createElement)(l.MenuItem,{icon:vo,iconPosition:"left",onClick:t,info:(0,w.__)("Select files from your device","woocommerce")},(0,w.__)("Upload","woocommerce"))}})}const bo=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"})),Eo="woocommerce-media-library-menu-item__upload_files_modal",yo="woocommerce-media-library-menu-item__upload_files_modal_wrapper";function ko(e){let{allowedTypes:t,onUploadSuccess:o}=e;const[r,n]=(0,a.useState)(!1);return(0,a.useEffect)((function(){const e=document.querySelector(`.${Eo}`),t=null==e?void 0:e.closest('[role="dialog"]'),o=null==t?void 0:t.parentElement;return null==o||o.classList.add(yo),()=>{null==o||o.classList.remove(yo)}}),[r]),(0,a.createElement)($e.MediaUpload,{modalClass:Eo,onSelect:function(e){o(e)},allowedTypes:t,multiple:"add",render:e=>{let{open:t}=e;return(0,a.createElement)(l.MenuItem,{icon:bo,iconPosition:"left",onClick:(o=t,function(){o(),n(!0)}),info:(0,w.__)("Choose from uploaded media","woocommerce")},(0,w.__)("Media Library","woocommerce"));var o}})}const Co=(0,a.createElement)(ie.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M12.5 14.5h-1V16h1c2.2 0 4-1.8 4-4s-1.8-4-4-4h-1v1.5h1c1.4 0 2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5zm-4 1.5v-1.5h-1C6.1 14.5 5 13.4 5 12s1.1-2.5 2.5-2.5h1V8h-1c-2.2 0-4 1.8-4 4s1.8 4 4 4h1zm-1-3.2h5v-1.5h-5v1.5zM18 4H9c-1.1 0-2 .9-2 2v.5h1.5V6c0-.3.2-.5.5-.5h9c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5v-.5H7v.5c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"})),So=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,a.createElement)(ie.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));function xo(e){e.required=!0,e.setCustomValidity(""),e.validity.valueMissing&&e.setCustomValidity((0,w.__)("The URL is required","woocommerce")),e.validity.typeMismatch&&e.setCustomValidity((0,w.__)("Insert a valid URL","woocommerce"))}function To(e){let{onUploadSuccess:t,onUploadError:o}=e;function r(e){e.preventDefault();const r=e.currentTarget,n=r.url;if(xo(n),r.checkValidity()){const e=r.url.value;t([{url:e}])}else o(n.validationMessage)}function n(e){xo(e.target)}function i(e){xo(e.target)}return(0,a.createElement)(l.Dropdown,{position:"middle left",renderToggle:e=>{let{isOpen:t,onToggle:o}=e;return(0,a.createElement)(l.MenuItem,{"aria-expanded":t,icon:Co,iconPosition:"left",onClick:o,info:(0,w.__)("Import a file hosted elsewhere","woocommerce")},(0,w.__)("Insert from URL","woocommerce"))},renderContent:()=>(0,a.createElement)("form",{className:"components-dropdown-menu__menu",noValidate:!0,onSubmit:r},(0,a.createElement)(l.__experimentalInputControl,{name:"url",type:"url",placeholder:(0,w.__)("Insert URL","woocommerce"),suffix:(0,a.createElement)(l.Button,{icon:So,type:"submit"}),className:"woocommerce-inert-url-menu-item__input","aria-label":(0,w.__)("Insert URL","woocommerce"),onInput:n,onBlur:i}))})}function No(e){let{allowedTypes:t,maxUploadFileSize:o,onUploadSuccess:r,onUploadError:n}=e;return(0,a.createElement)(l.Dropdown,{position:"bottom left",contentClassName:"woocommerce-downloads-menu__menu-content",renderToggle:e=>{let{isOpen:t,onToggle:o}=e;return(0,a.createElement)(l.Button,{"aria-expanded":t,icon:t?ho:go,variant:"secondary",onClick:o,className:"woocommerce-downloads-menu__toogle"},(0,a.createElement)("span",null,(0,w.__)("Add new","woocommerce")))},renderContent:e=>{let{onClose:i}=e;return(0,a.createElement)("div",{className:"components-dropdown-menu__menu"},(0,a.createElement)(l.MenuGroup,null,(0,a.createElement)(wo,{allowedTypes:t,maxUploadFileSize:o,onUploadSuccess:e=>{r(e),i()},onUploadError:n}),(0,a.createElement)(ko,{allowedTypes:t,onUploadSuccess:e=>{r(e),i()}}),(0,a.createElement)(To,{onUploadSuccess:e=>{r(e),i()},onUploadError:n})))}})}const Po=e=>{let{value:t,onChange:o,onFocus:r,onKeyUp:n}=e;const{formatNumber:a,parseNumber:i}=F();return{value:a(t),onFocus(e){setTimeout((function(e){e.select()}),0,e.currentTarget),r&&r(e)},onKeyUp(e){const r=Number.parseFloat(t||"0"),a=Number(e.currentTarget.step||"1");"ArrowUp"===e.code&&o(String(r+a)),"ArrowDown"===e.code&&o(String(r-a)),n&&n(e)},onChange(e){const t=i(e);o(t)}}};function Ao(e){return null===e?"0":-1===e?"":String(e)}function Io(e){let{initialValue:t,onSubmit:o,onClose:r}=e;const[n,i]=(0,a.useState)(Ao(t.downloadLimit)),[c,s]=(0,a.useState)(Ao(t.downloadExpiry)),[m,d]=(0,a.useState)({});function u(){return n&&!Number.isInteger(Number(n))?(d((e=>({...e,downloadLimit:(0,w.__)("Download limit must be an integer number","woocommerce")}))),!1):Number.parseInt(n,10)<0?(d((e=>({...e,downloadLimit:(0,w.sprintf)((0,w.__)("Download limit must be greater than or equal to %d","woocommerce"),0)}))),!1):(d((e=>{let{downloadLimit:t,...o}=e;return o})),!0)}function p(){return c&&!Number.isInteger(Number(c))?(d((e=>({...e,downloadExpiry:(0,w.__)("Expiry period must be an integer number","woocommerce")}))),!1):Number.parseInt(c,10)<0?(d((e=>({...e,downloadExpiry:(0,w.sprintf)((0,w.__)("Expiry period must be greater than or equal to %d","woocommerce"),0)}))),!1):(d((e=>{let{downloadExpiry:t,...o}=e;return o})),!0)}const _={...Po({value:n,onChange:i}),id:(0,ne.useInstanceId)(l.BaseControl,"product_download_limit_field"),type:"number",min:0,className:re()({"has-error":m.downloadLimit}),label:(0,w.__)("Download limit","woocommerce"),help:m.downloadLimit||(0,w.__)("Decide how many times customers can download files after purchasing the product. Leave blank for unlimited re-downloads.","woocommerce"),placeholder:(0,w.__)("Unlimited","woocommerce"),suffix:(0,a.createElement)("span",{className:"woocommerce-manage-download-limits-modal__input-suffix"},(0,w.__)("times","woocommerce")),onBlur(){u()}},f={...Po({value:c,onChange:s}),id:(0,ne.useInstanceId)(l.BaseControl,"product_download_expiry_field"),type:"number",min:0,className:re()({"has-error":m.downloadExpiry}),label:(0,w.__)("Expiry period","woocommerce"),help:m.downloadExpiry||(0,w.__)("Decide how long customers can access the files after purchasing the product. Leave blank for unlimited access.","woocommerce"),placeholder:(0,w.__)("Unlimited","woocommerce"),suffix:(0,a.createElement)("span",{className:"woocommerce-manage-download-limits-modal__input-suffix"},(0,w.__)("days","woocommerce")),onBlur(){p()}};return(0,a.createElement)(l.Modal,{title:(0,w.__)("Manage download limits","woocommerce"),className:"woocommerce-manage-download-limits-modal",onRequestClose:r},(0,a.createElement)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();const t=u(),r=p();t&&r&&o({downloadLimit:""===n?-1:Number.parseInt(n,10),downloadExpiry:""===c?-1:Number.parseInt(c,10)})}},(0,a.createElement)("div",{className:"woocommerce-manage-download-limits-modal__content"},(0,a.createElement)(l.__experimentalInputControl,{..._}),(0,a.createElement)(l.__experimentalInputControl,{...f})),(0,a.createElement)("div",{className:"woocommerce-manage-download-limits-modal__actions"},(0,a.createElement)(l.Button,{variant:"tertiary",type:"button",onClick:function(){r()}},(0,w.__)("Cancel","woocommerce")),(0,a.createElement)(l.Button,{variant:"primary",type:"submit"},(0,w.__)("Save","woocommerce")))))}const Mo=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),Ro=()=>(0,a.createElement)("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.25 6C0.25 5.0335 1.0335 4.25 2 4.25L3 4.25L3 5.75L2 5.75C1.86193 5.75 1.75 5.86193 1.75 6L1.75 14C1.75 14.1381 1.86193 14.25 2 14.25L8 14.25C8.13807 14.25 8.25 14.1381 8.25 14L8.25 13L9.75 13L9.75 14C9.75 14.9665 8.9665 15.75 8 15.75L2 15.75C1.0335 15.75 0.25 14.9665 0.25 14L0.25 6ZM6 0.25C5.0335 0.25 4.25 1.0335 4.25 2L4.25 10C4.25 10.9665 5.0335 11.75 6 11.75L12 11.75C12.9665 11.75 13.75 10.9665 13.75 10L13.75 2C13.75 1.0335 12.9665 0.249999 12 0.249999L6 0.25ZM5.75 2C5.75 1.86193 5.86193 1.75 6 1.75L12 1.75C12.1381 1.75 12.25 1.86193 12.25 2L12.25 10C12.25 10.1381 12.1381 10.25 12 10.25L6 10.25C5.86193 10.25 5.75 10.1381 5.75 10L5.75 2Z",fill:"#007CBA"})),Oo=e=>{let{downloableItem:t,onCancel:o,onChange:r,onRemove:n,onSave:i}=e;const{createNotice:c}=(0,v.useDispatch)("core/notices"),[s,m]=(0,a.useState)(!1),{file:d="",name:u=""}=t;return(0,a.createElement)(l.Modal,{title:(0,w.sprintf)((0,w.__)("Edit %s","woocommerce"),u),onRequestClose:e=>{e.isPropagationStopped()||s||((0,I.recordEvent)("product_downloads_modal_cancel"),o())},className:"woocommerce-edit-downloads-modal"},(0,a.createElement)(l.BaseControl,{id:"file-name-help",className:"woocommerce-edit-downloads-modal__file-name",help:(0,w.__)("Your customers will see this on the thank-you page and in their order confirmation email.","woocommerce")},(0,a.createElement)(l.__experimentalInputControl,{id:"file-name",label:(0,w.__)("FILE NAME","woocommerce"),name:"file-name",value:u||"",onChange:r})),(0,a.createElement)("div",{className:"woocommerce-edit-downloads-modal__file-url"},(0,a.createElement)(l.__experimentalInputControl,{disabled:!0,id:"file-url",label:(0,w.__)("FILE URL","woocommerce"),name:"file-url",value:d||"",suffix:(0,a.createElement)(l.Button,{icon:(0,a.createElement)(Ro,null),onClick:async function(){(0,I.recordEvent)("product_downloads_modal_copy_url_to_clipboard"),m(!0),await async function(e){if("clipboard"in navigator)await navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}await void c("success",(0,w.__)("URL copied successfully.","woocommerce"))}(d),m(!1)}})})),(0,a.createElement)("div",{className:"woocommerce-edit-downloads-modal__buttons"},(0,a.createElement)("div",{className:"woocommerce-edit-downloads-modal__buttons-left"},(0,a.createElement)(l.Button,{icon:Mo,isDestructive:!0,variant:"tertiary",label:(0,w.__)("Delete","woocommerce"),onClick:()=>{(0,I.recordEvent)("product_downloads_modal_delete"),n()}},(0,w.__)("Delete file","woocommerce"))),(0,a.createElement)("div",{className:"woocommerce-edit-downloads-modal__buttons-right"},(0,a.createElement)(l.Button,{label:(0,w.__)("Cancel","woocommerce"),onClick:()=>{(0,I.recordEvent)("product_downloads_modal_cancel"),o()},variant:"tertiary"},(0,w.__)("Cancel","woocommerce")),(0,a.createElement)(l.Button,{label:(0,w.__)("Update","woocommerce"),onClick:()=>{(0,I.recordEvent)("product_downloads_modal_update"),i()},variant:"primary"},(0,w.__)("Update","woocommerce")))))};function Lo(e){var t;const[o]=null!==(t=null==e?void 0:e.split("/").reverse())&&void 0!==t?t:[];return o}function Bo(e){return e?String(e):""}function Do(e){return{...e,id:Bo(e.id)}}const{name:Vo,...Fo}=_o,Ho={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const r=(0,et.useWooBlockProps)(t),[,n]=(0,K.useEntityProp)("postType",o,"downloadable"),[c,s]=(0,K.useEntityProp)("postType",o,"downloads"),[m,d]=(0,K.useEntityProp)("postType","product","download_limit"),[u,p]=(0,K.useEntityProp)("postType","product","download_expiry"),[_,f]=(0,a.useState)(),{allowedMimeTypes:h}=(0,v.useSelect)((e=>{const{getEditorSettings:t}=e("core/editor");return t()})),g=h?Object.values(h):[],{createErrorNotice:b}=(0,v.useDispatch)("core/notices"),[E,y]=(0,a.useState)(!1);function k(e){if(!Array.isArray(e))return;const t=e.filter((e=>!c.some((t=>t.file===e.url))));if(t.length!==e.length&&b(1===e.length?(0,w.__)("This file has already been added","woocommerce"):(0,w.__)("Some of these files have already been added","woocommerce")),t.length){c.length||n(!0);const e=t.map((e=>({id:Bo(e.id),file:e.url,name:e.title||e.alt||e.caption||Lo(e.url)}))),o=c.map(Do);o.push(...e),s(o)}}function C(e){const t=c.reduce((function(t,o){return o.file===e.file?t:[...t,Do(o)]}),[]);t.length||n(!1),s(t)}function S(e){return function(){C(e)}}function x(e){return function(){f(e)}}function T(e){b("string"==typeof e?e:(0,w.__)("There was an error uploading files","woocommerce"))}return(0,a.createElement)("div",{...r},(0,a.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__header"},Boolean(c.length)&&(0,a.createElement)(l.Button,{variant:"tertiary",onClick:function(){y(!0)}},(0,w.__)("Manage limits","woocommerce")),(0,a.createElement)(No,{allowedTypes:g,onUploadSuccess:k,onUploadError:T})),(0,a.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__body"},(0,a.createElement)(i.MediaUploader,{label:Boolean(c.length)?"":(0,a.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__drop-zone-content"},(0,a.createElement)(fo,null),(0,a.createElement)("p",{className:"wp-block-woocommerce-product-downloads-field__drop-zone-label"},(0,a.createInterpolateElement)((0,w.__)("Supported file types: <Types /> and more. <link>View all</link>","woocommerce"),{Types:(0,a.createElement)(a.Fragment,null,"PNG, JPG, PDF, PPT, DOC, MP3, MP4"),link:(0,a.createElement)("a",{href:"https://codex.wordpress.org/Uploading_Files",target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation()})}))),buttonText:"",allowedMediaTypes:g,multipleSelect:"add",onUpload:k,onFileUploadChange:k,onError:T}),Boolean(c.length)&&(0,a.createElement)(i.Sortable,{className:"wp-block-woocommerce-product-downloads-field__table"},c.map((e=>{const t=Lo(e.file),o=e.file.startsWith("blob");return(0,a.createElement)(i.ListItem,{key:e.file},(0,a.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__table-filename"},(0,a.createElement)("span",null,e.name),e.name!==t&&(0,a.createElement)("span",{className:"wp-block-woocommerce-product-downloads-field__table-filename-description"},t)),(0,a.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__table-actions"},o&&(0,a.createElement)(l.Spinner,{"aria-label":(0,w.__)("Uploading file","woocommerce")}),!o&&(0,a.createElement)(l.Button,{onClick:x(e),variant:"tertiary"},(0,w.__)("Edit","woocommerce")),(0,a.createElement)(l.Button,{icon:oo,label:(0,w.__)("Remove file","woocommerce"),disabled:o,onClick:S(e)})))})))),E&&(0,a.createElement)(Io,{initialValue:{downloadLimit:m,downloadExpiry:u},onSubmit:function(e){d(e.downloadLimit),p(e.downloadExpiry),y(!1)},onClose:function(){y(!1)}}),_&&(0,a.createElement)(Oo,{downloableItem:{..._},onCancel:()=>f(null),onRemove:()=>{C(_),f(null)},onChange:e=>{f({..._,name:e})},onSave:()=>{const e=c.map((e=>e.id===_.id?_:e));s(e),f(null)}}))}};function Uo(){return ot({name:Vo,metadata:Fo,settings:Ho})}const zo=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-images-field","title":"Product images","category":"widgets","description":"The product images.","keywords":["products","image","images","gallery"],"textdomain":"default","attributes":{"mediaId":{"type":"number","__experimentalRole":"content"},"property":{"type":"string"},"multiple":{"type":"boolean","default":true},"images":{"__experimentalRole":"content","type":"array","items":{"type":"number"},"default":[]}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');function jo(e){return e.id?{id:e.id,name:e.title,src:e.url,alt:e.alt}:null}const{name:$o}=zo,Wo={example:{},edit:function(e){let{attributes:t,context:o}=e;var r;const{property:n,multiple:c}=t,[s,m]=(0,K.useEntityProp)("postType",o.postType,n),[d,u]=(0,a.useState)(!1),[p,_]=(0,a.useState)(!1),[f,h]=(0,a.useState)(null),g=(0,et.useWooBlockProps)(t,{className:re()({"has-images":Array.isArray(s)?s.length>0:Boolean(s)})});function v(e){return function(t){var o;if((0,I.recordEvent)(e),Array.isArray(t)){const e=t.filter((e=>e.id)).map((e=>({id:e.id,name:e.title,src:e.url,alt:e.alt})));(null===(o=t[0])||void 0===o?void 0:o.id)&&m([...s,...e])}else t.id&&m(jo(t))}}return(0,a.createElement)("div",{...g},(0,a.createElement)("div",{className:"woocommerce-product-form__image-drop-zone"},d?(0,a.createElement)("div",{className:"woocommerce-product-form__remove-image-drop-zone"},(0,a.createElement)("span",null,(0,a.createElement)(Ce,{icon:Mo,size:20,className:"icon-control"}),(0,w.__)("Drop here to remove","woocommerce")),(0,a.createElement)(l.DropZone,{onHTMLDrop:()=>_(!0),onDrop:()=>_(!0),label:(0,w.__)("Drop here to remove","woocommerce")})):(0,a.createElement)(i.MediaUploader,{value:Array.isArray(s)?s.map((e=>{let{id:t}=e;return t})):null!==(r=null==s?void 0:s.id)&&void 0!==r?r:void 0,multipleSelect:!!c&&"add",onError:()=>null,onFileUploadChange:v("product_images_add_via_file_upload_area"),onMediaGalleryOpen:()=>{(0,I.recordEvent)("product_images_media_gallery_open")},onSelect:function(e){if((0,I.recordEvent)("product_images_add_via_media_library"),Array.isArray(e)){const t=e.map(jo).filter((e=>null!==e));m(t)}else m(jo(e))},onUpload:v("product_images_add_via_drag_and_drop_upload"),label:"",buttonText:(0,w.__)("Choose an image","woocommerce")})),null!=s&&(0,a.createElement)(i.ImageGallery,{allowDragging:!1,onDragStart:function(e){var t,o;if(Array.isArray(s)){const{id:r,dataset:n}=e.target;if(r)h(parseInt(r,10));else if(null==n?void 0:n.index){const e=parseInt(n.index,10);h(null!==(o=null===(t=s[e])||void 0===t?void 0:t.id)&&void 0!==o?o:null)}u((e=>!e))}},onDragEnd:function(){Array.isArray(s)&&(p&&f&&((0,I.recordEvent)("product_images_remove_image_button_click"),m(s.filter((e=>e.id!==f))),_(!1),h(null)),u((e=>!e)))},onOrderChange:function(e){if(Array.isArray(s)){const t=s.reduce(((e,t)=>({...e,[`${t.id}`]:t})),{}),o=e.filter((e=>{var o;return(null===(o=null==e?void 0:e.props)||void 0===o?void 0:o.id)in t})).map((e=>{var o;return t[null===(o=null==e?void 0:e.props)||void 0===o?void 0:o.id]}));(0,I.recordEvent)("product_images_change_image_order_via_image_gallery"),m(o)}},onReplace:function(e){let{replaceIndex:t,media:o}=e;if((0,I.recordEvent)("product_images_replace_image_button_click"),Array.isArray(s)&&!s.some((e=>o.id===e.id))){const e=jo(o);if(e){const o=[...s];o[t]=e,m(o)}}else m(jo(o))},onRemove:function(e){let{removedItem:t}=e;if((0,I.recordEvent)("product_images_remove_image_button_click"),Array.isArray(s)){const e=s.filter((e=>e.id===t.props.id));m(e)}else m(null)},onSelectAsCover:()=>(0,I.recordEvent)("product_images_select_image_as_cover_button_click")},(Array.isArray(s)?s:[s]).map(((e,t)=>(0,a.createElement)(i.ImageGalleryItem,{key:e.id,alt:e.alt,src:e.src,id:`${e.id}`,isCover:c&&0===t})))))}},Go=()=>ot({name:$o,metadata:zo,settings:Wo}),qo=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-inventory-email-field","title":"Stock level threshold","category":"widgets","description":"Stock management minimum quantity.","keywords":["products","inventory","email","minimum"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),Zo=window.wc.wcSettings;function Jo(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=(0,a.useContext)(Ae),[n,i]=(0,a.useState)(!1),c=(0,a.useMemo)((()=>r.registerValidator(e,t)),[e,...o]);return(0,a.useEffect)((()=>()=>{r.unRegisterValidator(e)}),[]),{ref:c,error:r.errors[e],isValidating:n,validate:async()=>(i(!0),r.validateField(e).finally((()=>{i(!1)})))}}const{name:Yo,...Xo}=qo,Ko={example:{},edit:function(e){let{attributes:t,clientId:o}=e;const r=(0,et.useWooBlockProps)(t),n=(0,Zo.getSetting)("notifyLowStockAmount",2),[c,s]=(0,K.useEntityProp)("postType","product","low_stock_amount"),m=(0,ne.useInstanceId)(l.BaseControl,"low_stock_amount"),{ref:d,error:u,validate:p}=Jo(`low_stock_amount-${o}`,(async function(){if(c&&c<0)return(0,w.__)("This field must be a positive number.","woocommerce")}),[c]);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{...r},(0,a.createElement)("div",{className:"wp-block-columns"},(0,a.createElement)("div",{className:"wp-block-column"},(0,a.createElement)(l.BaseControl,{id:m,label:(0,w.__)("Email me when stock reaches","woocommerce"),help:u||(0,a.createInterpolateElement)((0,w.__)("Make sure to enable notifications in <link>store settings.</link>","woocommerce"),{link:(0,a.createElement)(i.Link,{href:`${(0,Zo.getSetting)("adminUrl")}admin.php?page=wc-settings&tab=products&section=inventory`,target:"_blank",type:"external"})}),className:u&&"has-error"},(0,a.createElement)(l.__experimentalInputControl,{id:m,ref:d,name:"low_stock_amount",placeholder:(0,w.sprintf)((0,w.__)("%d (store default)","woocommerce"),n),onChange:s,onBlur:p,value:c,type:"number",min:0}))),(0,a.createElement)("div",{className:"wp-block-column"}))))}};function Qo(){return ot({name:Yo,metadata:Xo,settings:Ko})}const er=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-sku-field","title":"Product text control","category":"woocommerce","description":"The product sku.","keywords":["products","sku"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),{name:tr,...or}=er,rr={example:{},edit:function(e){let{attributes:t,context:o}=e;const r=(0,et.useWooBlockProps)(t),[n,i]=(0,K.useEntityProp)("postType",o.postType,"sku");return(0,a.createElement)("div",{...r},(0,a.createElement)(l.BaseControl,{id:"product_sku",className:"woocommerce-product-form_inventory-sku",label:(0,a.createInterpolateElement)((0,w.__)("Sku <description />","woocommerce"),{description:(0,a.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(STOCK KEEPING UNIT)","woocommerce"))})},(0,a.createElement)(l.__experimentalInputControl,{name:"woocommerce-product-sku",onChange:i,value:n||""})))}},nr=()=>ot({name:tr,metadata:or,settings:rr}),ar=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-name-field","title":"Product name","category":"widgets","description":"The product name.","keywords":["products","name","title"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"},"autoFocus":{"type":"boolean","default":false}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),{name:ir}=ar,cr={example:{},edit:function(e){let{attributes:t}=e;const o=(0,et.useWooBlockProps)(t),{editEntityRecord:r,saveEntityRecord:n}=(0,v.useDispatch)("core"),{hasEdit:i}=Ze(),[c,s]=(0,a.useState)(!1),m=(0,K.useEntityId)("postType","product"),d=(0,v.useSelect)((e=>e("core").getEditedEntityRecord("postType","product",m))),[u,p]=(0,K.useEntityProp)("postType","product","sku"),[_,f]=(0,K.useEntityProp)("postType","product","name"),{permalinkPrefix:h,permalinkSuffix:g}=(0,v.useSelect)((e=>{const{getPermalinkParts:t}=e(E.PRODUCTS_STORE_NAME);if(m){const e=t(m);return{permalinkPrefix:null==e?void 0:e.prefix,permalinkSuffix:null==e?void 0:e.suffix}}return{}})),{ref:y,error:k,validate:C}=Jo("name",(async function(){return _&&_!==B?_.length>120?(0,w.__)("Please enter a product name shorter than 120 characters.","woocommerce"):void 0:(0,w.__)("Name field is required.","woocommerce")}),[_]),S=null!=k?k:m&&["publish","draft"].includes(d.status)&&h&&(0,a.createElement)("span",{className:"woocommerce-product-form__secondary-text product-details-section__product-link"},(0,w.__)("Product link","woocommerce"),": ",(0,a.createElement)("a",{href:d.permalink,target:"_blank",rel:"noreferrer"},h,d.slug||(0,b.cleanForSlug)(_),g),(0,a.createElement)(l.Button,{variant:"link",onClick:()=>s(!0)},(0,w.__)("Edit","woocommerce"))),x=(0,ne.useInstanceId)(l.BaseControl,"product_name");return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{...o},(0,a.createElement)(l.BaseControl,{id:x,label:(0,a.createInterpolateElement)((0,w.__)("Name <required />","woocommerce"),{required:(0,a.createElement)("span",{className:"woocommerce-product-form__required-input"},(0,w.__)("*","woocommerce"))}),className:re()({"has-error":k}),help:S},(0,a.createElement)(l.__experimentalInputControl,{id:x,ref:y,name:"name",autoFocus:t.autoFocus,placeholder:(0,w.__)("e.g. 12 oz Coffee Mug","woocommerce"),onChange:f,value:_&&_!==B?_:"",autoComplete:"off","data-1p-ignore":!0,onBlur:()=>{i("name")&&(u||k||p((0,b.cleanForSlug)(_)),C())}})),c&&(0,a.createElement)(M,{permalinkPrefix:h||"",permalinkSuffix:g||"",product:d,onCancel:()=>s(!1),onSaved:()=>s(!1),saveHandler:async e=>{const{slug:t,permalink:o}=await n("postType","product",{id:d.id,slug:e});if(t&&o)return r("postType","product",d.id,{slug:t,permalink:o}),{slug:t,permalink:o}}})))}},lr=()=>ot({name:ir,metadata:ar,settings:cr}),sr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-pricing-field","description":"A product price block with currency display.","title":"Product pricing","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"property":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"help":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),mr=(e,t,o)=>{const{decimalSeparator:r,thousandSeparator:n}=t,a=new RegExp("[^-0-9%s1%s2]".replace("%s1",r).replace("%s2",n),"g");return void 0===e?e:o(e).replace(a,"")},dr=e=>{let{value:t,onChange:o,onFocus:r,onKeyUp:n}=e;const{sanitizePrice:i}=F(),c=(0,a.useContext)(O.CurrencyContext),{getCurrencyConfig:l,formatAmount:s}=c,m=l();return{prefix:m.symbol,className:"components-currency-control",value:mr(String(t),m,s),sanitize:e=>i(String(e)),onFocus(e){setTimeout((function(e){e.select()}),0,e.currentTarget),r&&r(e)},onKeyUp(e){const r=Number.parseFloat(i(t||"0")),a=Number(e.currentTarget.step||"1");"ArrowUp"===e.code&&o(String(r+a)),"ArrowDown"===e.code&&o(String(r-a)),n&&n(e)},onChange(e){const t=i(e);o&&o(t)}}},{name:ur,...pr}=sr,_r={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const r=(0,et.useWooBlockProps)(t),{property:n,label:c,help:s}=t,[m,d]=lt(n,{postType:o,fallbackValue:""}),u=dr({value:m||"",onChange:d}),p=s?(0,a.createInterpolateElement)(s,{PricingTab:(0,a.createElement)(i.Link,{href:(0,xe.getNewPath)({tab:"pricing"}),onClick:()=>{(0,I.recordEvent)("product_pricing_help_click")}})}):null,_=(0,ne.useInstanceId)(l.BaseControl,"wp-block-woocommerce-product-pricing-field");return(0,a.createElement)("div",{...r},(0,a.createElement)(l.BaseControl,{id:_,help:p},(0,a.createElement)(l.__experimentalInputControl,{...u,id:_,name:n,label:c||(0,w.__)("Price","woocommerce")})))}};function fr(){return ot({name:ur,metadata:pr,settings:_r})}const hr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-radio-field","title":"Product radio control","category":"woocommerce","description":"The product radio.","keywords":["products","radio","input"],"textdomain":"default","attributes":{"title":{"type":"string"},"description":{"type":"string"},"property":{"type":"string"},"options":{"type":"array","items":{"type":"object"},"default":[],"__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}');function gr(e){let{title:t,description:o,className:r,...n}=e;return(0,a.createElement)(l.RadioControl,{...n,className:re()(r,"woocommerce-radio-field"),label:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",{className:"woocommerce-radio-field__title"},t),o&&(0,a.createElement)("span",{className:"woocommerce-radio-field__description",dangerouslySetInnerHTML:Tt(o)}))})}const{name:vr,...wr}=hr,br={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const r=(0,et.useWooBlockProps)(t),{description:n,options:i,property:c,title:l}=t,[s,m]=lt(c,{postType:o,fallbackValue:""});return(0,a.createElement)("div",{...r},(0,a.createElement)(gr,{title:l,description:n,selected:s,options:i,onChange:e=>m(e||"")}))}};function Er(){return ot({name:vr,metadata:wr,settings:br})}const yr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-regular-price-field","description":"A product price block with currency display.","title":"Product regular price","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"help":{"type":"string"},"isRequired":{"type":"boolean","default":false}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"],"editorStyle":"file:./editor.css"}'),{name:kr,...Cr}=yr,Sr={example:{},edit:function(e){let{attributes:t,clientId:o,context:r}=e;const n=(0,et.useWooBlockProps)(t),{label:c,help:s,isRequired:m}=t,[d,u]=(0,K.useEntityProp)("postType",r.postType||"product","regular_price"),[p]=(0,K.useEntityProp)("postType",r.postType||"product","sale_price"),_=dr({value:d,onChange:u}),f=s?(0,a.createInterpolateElement)(s,{PricingTab:(0,a.createElement)(i.Link,{href:(0,xe.getNewPath)({tab:"pricing"}),onClick:()=>{(0,I.recordEvent)("product_pricing_help_click")}})}):null,h=(0,ne.useInstanceId)(l.BaseControl,"wp-block-woocommerce-product-regular-price-field"),{ref:g,error:v,validate:b}=Jo(`regular_price-${o}`,(async function(){const e=Number.parseFloat(d);if(e){if(e<0)return(0,w.__)("List price must be greater than or equals to zero.","woocommerce");if(p&&e<=Number.parseFloat(p))return(0,w.__)("List price must be greater than the sale price.","woocommerce")}else if(m)return(0,w.sprintf)((0,w.__)("%s is required.","woocommerce"),c)}),[d,p]);return(0,a.useEffect)((()=>{m&&b()}),[]),(0,a.createElement)("div",{...n},(0,a.createElement)(l.BaseControl,{id:h,help:v||f,className:re()({"has-error":v})},(0,a.createElement)(l.__experimentalInputControl,{..._,id:h,name:"regular_price",ref:g,label:c,onBlur:b})))}};function xr(){return ot({name:kr,metadata:Cr,settings:Sr})}const Tr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-sale-price-field","description":"A product price block with currency display.","title":"Product sale price","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"help":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"],"editorStyle":"file:./editor.css"}'),{name:Nr,...Pr}=Tr,Ar={example:{},edit:function(e){let{attributes:t,clientId:o,context:r}=e;const n=(0,et.useWooBlockProps)(t),{label:i,help:c}=t,[s]=(0,K.useEntityProp)("postType",r.postType||"product","regular_price"),[m,d]=(0,K.useEntityProp)("postType",r.postType||"product","sale_price"),u=dr({value:m,onChange:d}),p=(0,ne.useInstanceId)(l.BaseControl,"wp-block-woocommerce-product-sale-price-field"),{ref:_,error:f,validate:h}=Jo(`sale-price-${o}`,(async function(){if(m){if(Number.parseFloat(m)<0)return(0,w.__)("Sale price must be greater than or equals to zero.","woocommerce");const e=Number.parseFloat(s);if(!e||e<=Number.parseFloat(m))return(0,w.__)("Sale price must be lower than the list price.","woocommerce")}}),[s,m]);return(0,a.createElement)("div",{...n},(0,a.createElement)(l.BaseControl,{id:p,help:f||c,className:re()({"has-error":f})},(0,a.createElement)(l.__experimentalInputControl,{...u,id:p,name:"sale_price",ref:_,label:i,onBlur:h})))}};function Ir(){return ot({name:Nr,metadata:Pr,settings:Ar})}const Mr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-schedule-sale-fields","title":"Product schedule sale fields","category":"woocommerce","description":"The product schedule sale fields.","keywords":["products","schedule","sale"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),Rr=window.moment;var Or=o.n(Rr);const Lr=window.wp.date,{name:Br,...Dr}=Mr,Vr={example:{},edit:function(e){let{attributes:t,clientId:o,context:r}=e;const n=(0,et.useWooBlockProps)(t),{hasEdit:c}=Ze(),s=(0,Lr.getSettings)().formats.datetime,[m,d]=(0,a.useState)(!1),[u]=(0,K.useEntityProp)("postType",r.postType||"product","sale_price"),p=Number.parseFloat(u||"0")>0,[_,f]=(0,K.useEntityProp)("postType",r.postType||"product","date_on_sale_from_gmt"),[h,g]=(0,K.useEntityProp)("postType",r.postType||"product","date_on_sale_to_gmt"),v=Or()().startOf("minute").toISOString();(0,a.useEffect)((()=>{c("sale_price")&&!p&&(d(!1),f(""),g(""))}),[p]),(0,a.useEffect)((()=>{(_||h)&&d(!0)}),[_,h]);const b=Or()(_,Or().ISO_8601,!0),E=Or()(h,Or().ISO_8601,!0),{ref:y,error:k,validate:C}=Jo(`date_on_sale_from_gmt-${o}`,(async function(){if(m&&_){if(!b.isValid())return(0,w.__)("Please enter a valid date.","woocommerce");if(b.isAfter(E))return(0,w.__)("The start date of the sale must be before the end date.","woocommerce")}}),[m,_,b,E]),{ref:S,error:x,validate:T}=Jo(`date_on_sale_to_gmt-${o}`,(async function(){if(m&&h){if(!E.isValid())return(0,w.__)("Please enter a valid date.","woocommerce");if(E.isBefore(b))return(0,w.__)("The end date of the sale must be after the start date.","woocommerce")}}),[m,_,b,E]);return(0,a.createElement)("div",{...n},(0,a.createElement)(l.ToggleControl,{label:(0,w.__)("Schedule sale","woocommerce"),checked:m,onChange:function(e){(0,I.recordEvent)("product_pricing_schedule_sale_toggle_click",{enabled:e}),d(e),e?(f(v),g("")):(f(""),g(""))},disabled:!p}),m&&(0,a.createElement)("div",{className:"wp-block-columns wp-block-woocommerce-product-schedule-sale-fields__content"},(0,a.createElement)("div",{className:"wp-block-column"},(0,a.createElement)(i.DateTimePickerControl,{ref:y,label:(0,w.__)("From","woocommerce"),placeholder:(0,w.__)("Sale start date and time (optional)","woocommerce"),dateTimeFormat:s,currentDate:_,onChange:f,className:k&&"has-error",help:k,onBlur:C})),(0,a.createElement)("div",{className:"wp-block-column"},(0,a.createElement)(i.DateTimePickerControl,{ref:S,label:(0,w.__)("To","woocommerce"),placeholder:(0,w.__)("Sale end date and time (optional)","woocommerce"),dateTimeFormat:s,currentDate:h,onChange:e=>g(Or()(e).startOf("minute").toISOString()),onBlur:T,className:x&&"has-error",help:x}))))}};function Fr(){return ot({name:Br,metadata:Dr,settings:Vr})}const Hr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-section","title":"Product section","category":"woocommerce","description":"The product section.","keywords":["products","section","group"],"textdomain":"default","attributes":{"title":{"type":"string"},"description":{"type":"string","__experimentalRole":"content"},"blockGap":{"type":"string","enum":["unit-30","unit-40"],"default":"unit-30"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),{name:Ur,...zr}=Hr,jr={example:{},edit:function(e){let{attributes:t}=e;const{description:o,title:r,blockGap:n}=t,i=(0,et.useWooBlockProps)(t),c=(0,We.useInnerBlocksProps)({className:re()("wp-block-woocommerce-product-section__content",`wp-block-woocommerce-product-section__content--block-gap-${n}`)},{templateLock:"all"}),l=r?"fieldset":"div",s="fieldset"===l?"legend":"div";return(0,a.createElement)(l,{...i},r&&(0,a.createElement)(s,{className:"wp-block-woocommerce-product-section__heading"},(0,a.createElement)("h2",{className:"wp-block-woocommerce-product-section__heading-title"},r),o&&(0,a.createElement)("p",{className:"wp-block-woocommerce-product-section__heading-description",dangerouslySetInnerHTML:Tt(o)})),(0,a.createElement)("div",{...c}))}};function $r(){return ot({name:Ur,metadata:zr,settings:jr})}const Wr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-shipping-class-field","title":"Product shipping class field","category":"woocommerce","description":"The product shipping class field.","keywords":["products","shipping","class"],"textdomain":"default","attributes":{"title":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}');function Gr(e){let{onAdd:t,onCancel:o}=e;var r;const{errors:n,getInputProps:c,isValidForm:s}=(0,i.useFormContext)(),[m,d]=(0,a.useState)(!1);return(0,a.createElement)("div",{className:"woocommerce-add-new-shipping-class-modal__wrapper"},(0,a.createElement)(l.TextControl,{...c("name"),placeholder:(0,w.__)("e.g. Fragile products","woocommerce"),label:(0,a.createInterpolateElement)((0,w.__)("Name <required />","woocommerce"),{required:(0,a.createElement)("span",{className:"woocommerce-add-new-shipping-class-modal__optional-input"},(0,w.__)("(required)","woocommerce"))})}),(0,a.createElement)(l.TextControl,{...c("slug"),label:(0,w.__)("Slug","woocommerce")}),(0,a.createElement)(l.TextControl,{...c("description"),label:(0,w.__)("Description","woocommerce"),help:null!==(r=null==n?void 0:n.description)&&void 0!==r?r:(0,w.__)("Describe how you and other store administrators can use this shipping class.","woocommerce")}),(0,a.createElement)("div",{className:"woocommerce-add-new-shipping-class-modal__buttons"},(0,a.createElement)(l.Button,{isSecondary:!0,onClick:o},(0,w.__)("Cancel","woocommerce")),(0,a.createElement)(l.Button,{isPrimary:!0,isBusy:m,disabled:!s||m,onClick:function(){d(!0),t().then((()=>{d(!1),o()})).catch((()=>{d(!1)}))}},(0,w.__)("Add","woocommerce"))))}function qr(e){var t;const o={};return(null===(t=e.name)||void 0===t?void 0:t.length)||(o.name=(0,w.__)("The shipping class name is required.","woocommerce")),o}const Zr={name:"",slug:"",description:""};function Jr(e){let{shippingClass:t,onAdd:o,onCancel:r}=e;return(0,a.createElement)(l.Modal,{title:(0,w.__)("New shipping class","woocommerce"),className:"woocommerce-add-new-shipping-class-modal",onRequestClose:r},(0,a.createElement)(i.Form,{initialValues:null!=t?t:Zr,validate:qr,errors:{},onSubmit:function(e){return o(Object.entries(e).reduce((function(e,t){let[o,r]=t;return{...e,[o]:""===r?void 0:r}}),{}))}},(e=>(0,a.createElement)(Gr,{onAdd:e.handleSubmit,onCancel:r}))))}const Yr=[{value:"",label:(0,w.__)("No shipping class","woocommerce")},{value:S,label:(0,w.__)("Add new shipping class","woocommerce")}];function Xr(e){return e.map((e=>{let{slug:t,name:o}=e;return{value:t,label:o}}))}function Kr(e,t){const o=null==e?void 0:e.find((e=>{let{slug:t}=e;return"uncategorized"!==t}));if(o&&!(null==t?void 0:t.some((e=>{let{slug:t}=e;return t===o.slug}))))return{name:o.name,slug:o.slug}}const{name:Qr,...en}=Wr,tn={example:{},edit:function(e){let{attributes:t,context:o}=e;const[r,n]=(0,a.useState)(!1),c=(0,et.useWooBlockProps)(t),{createProductShippingClass:s,invalidateResolution:m}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_SHIPPING_CLASSES_STORE_NAME),{createErrorNotice:d}=(0,v.useDispatch)("core/notices"),[u]=(0,K.useEntityProp)("postType",o.postType,"categories"),[p,_]=(0,K.useEntityProp)("postType",o.postType,"shipping_class"),[f]=(0,K.useEntityProp)("postType",o.postType,"virtual");function h(e){let t=(0,w.__)("We couldn’t add this shipping class. Try again in a few seconds.","woocommerce");throw"term_exists"===e.code&&(t=(0,w.__)("A shipping class with that slug already exists.","woocommerce")),d(t,{explicitDismiss:!0}),e}const{shippingClasses:g}=(0,v.useSelect)((e=>{var t;const{getProductShippingClasses:o}=e(E.EXPERIMENTAL_PRODUCT_SHIPPING_CLASSES_STORE_NAME);return{shippingClasses:null!==(t=o())&&void 0!==t?t:[]}}),[]),b=(0,ne.useInstanceId)(l.BaseControl,"wp-block-woocommerce-product-shipping-class-field");return(0,a.createElement)("div",{...c},(0,a.createElement)("div",{className:"wp-block-columns"},(0,a.createElement)("div",{className:"wp-block-column"},(0,a.createElement)(l.SelectControl,{id:b,name:"shipping_class",value:p,onChange:e=>{e!==S?_(e):n(!0)},label:(0,w.__)("Shipping class","woocommerce"),options:[...Yr,...Xr(null!=g?g:[])],disabled:f,help:(0,a.createInterpolateElement)((0,w.__)("Manage shipping classes and rates in <Link>global settings</Link>.","woocommerce"),{Link:(0,a.createElement)(i.Link,{href:(0,xe.getNewPath)({tab:"shipping",section:"classes"},"",{},"wc-settings"),target:"_blank",type:"external",onClick:()=>{(0,I.recordEvent)("product_shipping_global_settings_link_click")}},(0,a.createElement)(a.Fragment,null))})})),(0,a.createElement)("div",{className:"wp-block-column"})),r&&(0,a.createElement)(Jr,{shippingClass:Kr(u,g),onAdd:e=>s(e).then((e=>((0,I.recordEvent)("product_new_shipping_class_modal_add_button_click"),m("getProductShippingClasses"),_(e.slug),e))).catch(h),onCancel:()=>n(!1)}))}};function on(){return ot({name:Qr,metadata:en,settings:tn})}const rn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-shipping-dimensions-fields","title":"Product shipping dimensions fields","category":"woocommerce","description":"The product shipping dimensions fields.","keywords":["products","shipping","dimensions"],"textdomain":"default","attributes":{"__contentEditable":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');function nn(e){let{highlight:t,labels:o={},...r}=e;return(0,a.createElement)("svg",{width:"295",height:"195",viewBox:"0 0 295 195",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},(0,a.createElement)("path",{d:"M11.5664 134.604V35.3599C11.5664 33.9482 12.9862 32.9782 14.3014 33.4915L99.6373 66.7959C100.4 67.0935 100.905 67.8243 100.914 68.6426L102.037 171.578C102.052 173.027 100.574 174.014 99.2419 173.444L12.7831 136.448C12.0451 136.132 11.5664 135.407 11.5664 134.604Z",fill:"A"===t?"#F0F6FC":"#FFFFFF"}),(0,a.createElement)("path",{d:"M11.5664 134.603V35.3599C11.5664 33.9482 12.9862 32.9782 14.3014 33.4915L99.624 66.7908C100.393 67.0909 100.9 67.8314 100.901 68.6569L101.024 174.131L12.7844 136.447C12.0457 136.132 11.5664 135.406 11.5664 134.603Z",stroke:"#E0E0E0",strokeWidth:"2.00574"}),(0,a.createElement)("path",{d:"M1.25977 150.388L86.0112 188.183",stroke:"A"===t?"#006FAD":"#CCCCCC",strokeWidth:"1.50431",strokeMiterlimit:"16"}),(0,a.createElement)("path",{d:"M250.775 32.9793L100.9 66.9577V172.981C100.9 174.297 102.146 175.257 103.418 174.921L251.73 135.764C252.611 135.531 253.224 134.735 253.224 133.824V34.9354C253.224 33.6488 252.03 32.6948 250.775 32.9793Z",fill:"B"===t?"#F0F6FC":"#FFFFFF",stroke:"#E0E0E0",strokeWidth:"2.00574"}),(0,a.createElement)("path",{d:"M270.402 28.9875V132.064",stroke:"C"===t?"#006FAD":"#CCCCCC",strokeWidth:"1.50431",strokeMiterlimit:"16"}),(0,a.createElement)("path",{d:"M257.804 152.679L107.771 192.765",stroke:"B"===t?"#006FAD":"#CCCCCC",strokeWidth:"1.50431",strokeMiterlimit:"16"}),(0,a.createElement)("path",{d:"M13.1406 33.41L161.446 1.61817C161.808 1.54066 162.184 1.56462 162.533 1.68742L251.16 32.8868",stroke:"#E0E0E0",strokeWidth:"2.00574"}),o.C?(0,a.createElement)("text",{x:"280",y:"85",fontSize:11,fill:"C"===t?"#007CBA":"#949494"},o.C):(0,a.createElement)("path",{d:"M282.123 80.7892C282.123 79.5323 282.435 78.5405 283.058 77.8136C283.685 77.0867 284.537 76.7233 285.615 76.7233C286.467 76.7233 287.192 76.9739 287.79 77.4752C288.391 77.9729 288.741 78.6175 288.837 79.4088H287.639C287.525 78.9326 287.285 78.553 286.92 78.2701C286.558 77.9873 286.123 77.8458 285.615 77.8458C284.92 77.8458 284.368 78.1108 283.96 78.6407C283.556 79.1671 283.353 79.8833 283.353 80.7892C283.353 81.6915 283.556 82.4077 283.96 82.9376C284.368 83.464 284.922 83.7272 285.62 83.7272C286.132 83.7272 286.569 83.5983 286.93 83.3405C287.296 83.0826 287.532 82.7353 287.639 82.2985H288.837C288.73 83.0647 288.382 83.6824 287.795 84.1515C287.208 84.617 286.483 84.8497 285.62 84.8497C284.542 84.8497 283.69 84.4863 283.063 83.7594C282.437 83.0325 282.123 82.0424 282.123 80.7892Z",fill:"C"===t?"#007CBA":"#949494"}),o.B?(0,a.createElement)("text",{x:"188",y:"190",fontSize:11,fill:"B"===t?"#007CBA":"#949494"},o.B):(0,a.createElement)("path",{d:"M192.281 189.611V181.861H195.396C196.123 181.861 196.692 182.034 197.104 182.382C197.519 182.725 197.727 183.196 197.727 183.794C197.727 184.199 197.596 184.562 197.335 184.885C197.073 185.203 196.751 185.395 196.368 185.459V185.551C196.891 185.604 197.312 185.803 197.63 186.147C197.953 186.487 198.114 186.91 198.114 187.414C198.114 188.098 197.879 188.635 197.41 189.026C196.941 189.416 196.293 189.611 195.466 189.611H192.281ZM193.484 188.591H195.224C195.765 188.591 196.177 188.483 196.459 188.268C196.742 188.054 196.884 187.74 196.884 187.328C196.884 186.924 196.737 186.618 196.443 186.41C196.15 186.199 195.72 186.093 195.154 186.093H193.484V188.591ZM193.484 185.142H194.913C195.442 185.142 195.844 185.048 196.116 184.858C196.391 184.664 196.529 184.383 196.529 184.015C196.529 183.656 196.404 183.379 196.153 183.182C195.906 182.981 195.561 182.881 195.117 182.881H193.484V185.142Z",fill:"B"===t?"#007CBA":"#949494"}),o.A?(0,a.createElement)("text",{x:"18",y:"185",fontSize:11,fill:"A"===t?"#007CBA":"#949494"},o.A):(0,a.createElement)("path",{d:"M22.7694 185.149L25.5678 177.399H26.8622L29.6605 185.149H28.3822L27.6732 183.092H24.7191L24.0048 185.149H22.7694ZM25.0253 182.082H27.3671L26.2445 178.806H26.1532L25.0253 182.082Z",fill:"A"===t?"#007CBA":"#949494"}))}const{name:an,...cn}=rn,ln={example:{},edit:function(e){let{attributes:t,clientId:o,context:r}=e;var n,i,c;const s=(0,et.useWooBlockProps)(t),[m,d]=(0,K.useEntityProp)("postType",r.postType,"dimensions"),[u,p]=(0,K.useEntityProp)("postType",r.postType,"weight"),[_]=(0,K.useEntityProp)("postType",r.postType,"virtual"),[f,h]=(0,a.useState)(),{formatNumber:g,parseNumber:b}=F(),{dimensionUnit:y,weightUnit:k}=(0,v.useSelect)((e=>{const{getOption:t}=e(E.OPTIONS_STORE_NAME);return{dimensionUnit:t("woocommerce_dimension_unit"),weightUnit:t("woocommerce_weight_unit")}}),[]);function C(e,t){return{name:`dimensions.${e}`,value:m?g(String(m[e])):void 0,onChange:t=>d({...null!=m?m:{},[e]:b(t)}),onFocus:()=>h(t),onBlur:()=>h(void 0),suffix:y,disabled:_}}const{ref:S,error:x,validate:T}=Jo(`dimensions_width-${o}`,(async function(){if((null==m?void 0:m.width)&&+m.width<=0)return(0,w.__)("Width must be greater than zero.","woocommerce")}),[null==m?void 0:m.width]),{ref:N,error:P,validate:A}=Jo(`dimensions_length-${o}`,(async function(){if((null==m?void 0:m.length)&&+m.length<=0)return(0,w.__)("Length must be greater than zero.","woocommerce")}),[null==m?void 0:m.length]),{ref:I,error:M,validate:R}=Jo(`dimensions_height-${o}`,(async function(){if((null==m?void 0:m.height)&&+m.height<=0)return(0,w.__)("Height must be greater than zero.","woocommerce")}),[null==m?void 0:m.height]),{ref:O,error:L,validate:B}=Jo(`weight-${o}`,(async function(){if(u&&+u<=0)return(0,w.__)("Weight must be greater than zero.","woocommerce")}),[u]),D={...C("width","A"),id:(0,ne.useInstanceId)(l.BaseControl,"product_shipping_dimensions_width"),ref:S,onBlur:T},V={...C("length","B"),id:(0,ne.useInstanceId)(l.BaseControl,"product_shipping_dimensions_length"),ref:N,onBlur:A},H={...C("height","C"),id:(0,ne.useInstanceId)(l.BaseControl,"product_shipping_dimensions_height"),ref:I,onBlur:R},U={id:(0,ne.useInstanceId)(l.BaseControl,"product_shipping_weight"),name:"weight",value:g(String(u)),onChange:e=>p(b(e)),suffix:k,ref:O,onBlur:B,disabled:_};return(0,a.createElement)("div",{...s},(0,a.createElement)("h4",null,(0,w.__)("Dimensions","woocommerce")),(0,a.createElement)("div",{className:"wp-block-columns"},(0,a.createElement)("div",{className:"wp-block-column"},(0,a.createElement)(l.BaseControl,{id:D.id,label:(0,a.createInterpolateElement)((0,w.__)("Width <Side />","woocommerce"),{Side:(0,a.createElement)("span",null,"A")}),className:re()({"has-error":x}),help:x},(0,a.createElement)(l.__experimentalInputControl,{...D})),(0,a.createElement)(l.BaseControl,{id:V.id,label:(0,a.createInterpolateElement)((0,w.__)("Length <Side />","woocommerce"),{Side:(0,a.createElement)("span",null,"B")}),className:re()({"has-error":P}),help:P},(0,a.createElement)(l.__experimentalInputControl,{...V})),(0,a.createElement)(l.BaseControl,{id:H.id,label:(0,a.createInterpolateElement)((0,w.__)("Height <Side />","woocommerce"),{Side:(0,a.createElement)("span",null,"C")}),className:re()({"has-error":M}),help:M},(0,a.createElement)(l.__experimentalInputControl,{...H})),(0,a.createElement)(l.BaseControl,{id:U.id,label:(0,w.__)("Weight","woocommerce"),className:re()({"has-error":L}),help:L},(0,a.createElement)(l.__experimentalInputControl,{...U}))),(0,a.createElement)("div",{className:"wp-block-column"},(0,a.createElement)(nn,{highlight:f,className:"wp-block-woocommerce-product-shipping-dimensions-fields__dimensions-image",labels:{A:(null===(n=D.value)||void 0===n?void 0:n.length)?D.value:void 0,B:(null===(i=V.value)||void 0===i?void 0:i.length)?V.value:void 0,C:(null===(c=H.value)||void 0===c?void 0:c.length)?H.value:void 0}}))))}};function sn(){return ot({name:an,metadata:cn,settings:ln})}const mn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-summary-field","title":"Product summary","category":"widgets","description":"The product summary.","keywords":["products","summary","excerpt"],"textdomain":"default","attributes":{"property":{"type":"string"},"align":{"type":"string"},"allowedFormats":{"type":"array","default":["core/bold","core/code","core/italic","core/link","core/strikethrough","core/underline","core/text-color","core/subscript","core/superscript","core/unknown"]},"direction":{"type":"string","enum":["ltr","rtl"]},"label":{"type":"string"},"helpText":{"type":"string"},"content":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),dn=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,a.createElement)(ie.Path,{d:"M5.52 2h7.43c.55 0 1 .45 1 1s-.45 1-1 1h-1v13c0 .55-.45 1-1 1s-1-.45-1-1V5c0-.55-.45-1-1-1s-1 .45-1 1v12c0 .55-.45 1-1 1s-1-.45-1-1v-5.96h-.43C3.02 11.04 1 9.02 1 6.52S3.02 2 5.52 2zM14 14l5-4-5-4v8z"}));function un(e){let{direction:t,onChange:o}=e;return(0,a.createElement)(a.Fragment,null,(0,w.isRTL)()&&(0,a.createElement)(l.ToolbarButton,{icon:dn,title:(0,w._x)("Left to right","editor button","woocommerce"),isActive:"ltr"===t,onClick:function(){"function"==typeof o&&o("ltr"===t?void 0:"ltr")}}))}const pn=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z"})),_n=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M16.4 4.2H7.6v1.5h8.9V4.2zM4 11.2v1.5h16v-1.5H4zm3.6 8.6h8.9v-1.5H7.6v1.5z"})),fn=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M11.1 19.8H20v-1.5h-8.9v1.5zm0-15.6v1.5H20V4.2h-8.9zM4 12.8h16v-1.5H4v1.5z"})),hn=(0,a.createElement)(ie.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})),gn=[{icon:pn,title:(0,w.__)("Align text left","woocommerce"),align:"left"},{icon:_n,title:(0,w.__)("Align text center","woocommerce"),align:"center"},{icon:fn,title:(0,w.__)("Align text right","woocommerce"),align:"right"},{icon:hn,title:(0,w.__)("Align text justify","woocommerce"),align:"justify"}],{name:vn,...wn}=mn,bn={example:{},edit:function e(t){let{attributes:o,setAttributes:r,context:n}=t;const{align:i,allowedFormats:c,direction:s,label:m,helpText:d}=o,u=(0,et.useWooBlockProps)(o,{style:{direction:s}}),p=(0,ne.useInstanceId)(e,"wp-block-woocommerce-product-summary-field__content"),[_,f]=(0,K.useEntityProp)("postType",n.postType||"product",o.property),{clearSelectedBlock:h}=(0,v.useDispatch)(We.store);return(0,a.createElement)("div",{className:"wp-block wp-block-woocommerce-product-summary-field-wrapper"},(0,a.createElement)(We.BlockControls,{group:"block"},(0,a.createElement)(We.AlignmentControl,{alignmentControls:gn,value:i,onChange:function(e){r({align:e})}}),(0,a.createElement)(un,{direction:s,onChange:function(e){r({direction:e})}})),(0,a.createElement)(l.BaseControl,{id:p.toString(),label:(0,a.createInterpolateElement)(m||(0,w.__)("Summary","woocommerce"),{optional:(0,a.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(OPTIONAL)","woocommerce"))}),help:"string"==typeof d?d:(0,w.__)("Summarize this product in 1-2 short sentences. We'll show it at the top of the page.","woocommerce")},(0,a.createElement)("div",{...u},(0,a.createElement)(We.RichText,{id:p.toString(),identifier:"content",tagName:"p",value:_,onChange:f,"data-empty":Boolean(_),className:re()("components-summary-control",{[`has-text-align-${i}`]:i}),dir:s,allowedFormats:c,onBlur:function(e){var t;(null===(t=e.relatedTarget)||void 0===t?void 0:t.closest(".block-editor-block-contextual-toolbar"))||h()}}))))}};function En(){return ot({name:vn,metadata:wn,settings:bn})}const yn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-tab","title":"Product tab","category":"woocommerce","description":"The product tab.","keywords":["products","tab","group"],"textdomain":"default","attributes":{"id":{"type":"string"},"title":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"providesContext":{"isInSelectedTab":"isSelected"},"usesContext":["selectedTab"],"editorStyle":"file:./editor.css","templateLock":"contentOnly"}'),kn=100,Cn=e=>{let{children:t}=e;return(0,a.createElement)(a.Fragment,null,t)};function Sn(e){let{children:t,className:o,id:r,order:n=kn,selected:i=!1}=e;const c=re()("wp-block-woocommerce-product-tab__button",o,{"is-selected":i});return(0,a.createElement)(l.Fill,{name:He},(e=>{const{onClick:o}=e;return(0,a.createElement)(Cn,{order:n},(0,a.createElement)(l.Button,{key:r,className:c,onClick:()=>o(r),id:`woocommerce-product-tab__${r}`,"aria-controls":`woocommerce-product-tab__${r}-content`,"aria-selected":i},t))}))}const{name:xn,...Tn}=yn,Nn={example:{},edit:function(e){let{setAttributes:t,attributes:o,context:r}=e;const n=(0,et.useWooBlockProps)(o),{id:i,title:c,_templateBlockOrder:l,isSelected:s}=o,m=r.selectedTab===i;m!==s&&t({isSelected:m});const d=re()("wp-block-woocommerce-product-tab__content",{"is-selected":m});return(0,a.createElement)("div",{...n},(0,a.createElement)(Sn,{id:i,selected:m,order:l},c),(0,a.createElement)("div",{id:`woocommerce-product-tab__${i}-content`,"aria-labelledby":`woocommerce-product-tab__${i}`,role:"tabpanel",className:d},(0,a.createElement)(We.InnerBlocks,{templateLock:"contentOnly"})))}};function Pn(){return ot({name:xn,metadata:Tn,settings:Nn})}const An=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-tag-field","title":"Product Tag","category":"widgets","description":"A field to select product tags.","keywords":["products","tag"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"placeholder":{"type":"string"}},"usesContext":["postType"],"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),In=e=>{let{initialTagName:t,onCancel:o,onCreate:r}=e;const{createNotice:n}=(0,v.useDispatch)("core/notices"),[i,c]=(0,a.useState)(!1),{createProductTag:s,invalidateResolutionForStoreSelector:m}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_TAGS_STORE_NAME),[d,u]=(0,a.useState)(t||"");return(0,a.createElement)(l.Modal,{title:(0,w.__)("Create tag","woocommerce"),onRequestClose:()=>o(),className:"woocommerce-create-new-tag-modal"},(0,a.createElement)("div",{className:"woocommerce-create-new-tag-modal__wrapper"},(0,a.createElement)(l.TextControl,{label:(0,w.__)("Name","woocommerce"),name:"Tops",value:d,onChange:u}),(0,a.createElement)("div",{className:"woocommerce-create-new-tag-modal__buttons"},(0,a.createElement)(l.Button,{isSecondary:!0,onClick:()=>o(),disabled:i},(0,w.__)("Cancel","woocommerce")),(0,a.createElement)(l.Button,{isPrimary:!0,disabled:0===d.length||i,isBusy:i,onClick:()=>{(async()=>{(0,I.recordEvent)("product_tag_add",{source:N}),c(!0);try{const e=await s({name:d});m("getProductTags"),c(!1),r(e)}catch(e){n("error",(0,w.__)("Failed to create tag.","woocommerce")),c(!1),o()}})()}},(0,w.__)("Save","woocommerce")))))};function Mn(e){return{value:String(e.id),label:e.name}}function Rn(e){return{id:+e.value,name:e.label}}function On(e){return e.map(Mn)}const Ln=e=>{let{id:t,label:o,placeholder:r,value:n=[],onChange:c}=e;const{tagsSelectList:l,searchTags:s}=(()=>{const[e,t]=(0,a.useState)([]),[o,r]=(0,a.useState)(!0),n=e=>{r(!0);const o=void 0!==e?{search:e}:"";(0,v.resolveSelect)(E.EXPERIMENTAL_PRODUCT_TAGS_STORE_NAME).getProductTags(o).then((e=>{t(e)})).finally((()=>{r(!1)}))};return(0,a.useEffect)(n,[]),{searchTags:n,tagsSelectList:e,isSearching:o}})(),[m,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),[_,f]=(0,a.useState)(!1),[h,g]=(0,a.useState)(),{createProductTag:b,invalidateResolutionForStoreSelector:y}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_TAGS_STORE_NAME),{createNotice:k}=(0,v.useDispatch)("core/notices"),C=e=>{d(e||""),s(e||""),g(e)},S=(0,ne.useDebounce)(C,150);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.__experimentalSelectTreeControl,{id:t,multiple:!0,shouldNotRecursivelySelect:!0,createValue:m,label:o,isLoading:u,onInputChange:S,placeholder:0===n.length?r:"",initialInputValue:h,onCreateNew:0===m.length?()=>f(!0):async()=>{(0,I.recordEvent)("product_tag_add",{source:N}),p(!0);try{g("");const e=await b({name:m});y("getProductTags"),p(!1),c([...n,e]),C("")}catch(e){k("error",(0,w.__)("Failed to create tag.","woocommerce")),p(!1)}},shouldShowCreateButton:e=>!e||-1===l.findIndex((t=>t.name===e)),items:On(l),selected:On(n),onSelect:e=>{if(Array.isArray(e)){const t=e.filter((e=>{let{value:t}=e;return!n.some((e=>e.id===+t))})).map(Rn);c([...n,...t])}},onRemove:e=>{const t=Array.isArray(e)?n.filter((t=>!e.some((e=>{let{value:o}=e;return t.id===+o})))):n.filter((t=>t.id!==+e.value));c(t)}}),_&&(0,a.createElement)(In,{initialTagName:m,onCancel:()=>f(!1),onCreate:e=>{c([...n,e]),f(!1),C("")}}))},{name:Bn}=An,Dn={example:{},edit:function(e){let{attributes:t,context:o}=e;const r=(0,et.useWooBlockProps)(t),{name:n,label:i,placeholder:c}=t,[s,m]=(0,K.useEntityProp)("postType",o.postType||"product",n||"tags"),d=(0,ne.useInstanceId)(l.BaseControl,"tag-field");return(0,a.createElement)("div",{...r},(0,a.createElement)(Ln,{id:d,label:i||(0,w.__)("Tags","woocommerce"),placeholder:c||(0,w.__)("Search or create tags…","woocommerce"),onChange:m,value:s||[]}))}},Vn=()=>ot({name:Bn,metadata:An,settings:Dn}),Fn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-inventory-quantity-field","title":"Product inventory quantity available","category":"woocommerce","description":"The product available quantity.","keywords":["products","quantity","inventory"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}'),{name:Hn,...Un}=Fn,zn={example:{},edit:function(e){let{attributes:t,clientId:o,context:r}=e;const n=(0,et.useWooBlockProps)(t),[i]=(0,K.useEntityProp)("postType",r.postType,"manage_stock"),[c,s]=(0,K.useEntityProp)("postType",r.postType,"stock_quantity"),m=(0,ne.useInstanceId)(l.BaseControl,"product_stock_quantity"),{ref:d,error:u,validate:p}=Jo(`stock_quantity-${o}`,(async function(){if(i&&c&&c<0)return(0,w.__)("Stock quantity must be a positive number.","woocommerce")}),[i,c]);return(0,a.useEffect)((()=>{i&&null===c&&s(1)}),[i,c]),(0,a.createElement)("div",{...n},(0,a.createElement)("div",{className:"wp-block-columns"},(0,a.createElement)("div",{className:"wp-block-column"},(0,a.createElement)(l.BaseControl,{id:m,className:u&&"has-error",help:null!=u?u:""},(0,a.createElement)(l.__experimentalInputControl,{id:m,name:"stock_quantity",ref:d,label:(0,w.__)("Available quantity","woocommerce"),value:c,onChange:s,onBlur:p,type:"number",min:0}))),(0,a.createElement)("div",{className:"wp-block-column"})))}};function jn(){return ot({name:Hn,metadata:Un,settings:zn})}const $n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-toggle-field","title":"Product toggle control","category":"woocommerce","description":"The product toggle.","keywords":["products","radio","input"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"property":{"type":"string"},"disabled":{"type":"boolean","default":false},"disabledCopy":{"type":"string","__experimentalRole":"content"},"checkedValue":{"type":"object"},"uncheckedValue":{"type":"object"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":true,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}'),{name:Wn,...Gn}=$n,qn={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const r=(0,et.useWooBlockProps)(t),{label:n,property:i,disabled:c,disabledCopy:s,checkedValue:m,uncheckedValue:d}=t,[u,p]=lt(i,{postType:o,fallbackValue:!1});return(0,a.createElement)("div",{...r},(0,a.createElement)(l.ToggleControl,{label:n,checked:void 0!==m?m===u:u,disabled:c,onChange:function(e){p(e?void 0!==m?m:e:void 0!==d?d:e)}}),c&&(0,a.createElement)("p",{className:"wp-block-woocommerce-product-toggle__disable-copy",dangerouslySetInnerHTML:Tt(s)}))}};function Zn(){return ot({name:Wn,metadata:Gn,settings:qn})}const Jn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-attributes-field","title":"Product attributes","category":"widgets","description":"The product attributes.","keywords":["products","attributes"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),Yn=e=>{let{initialAttributeTermName:t,attributeId:o,onCancel:r=(()=>{}),onCreated:n=(()=>{})}=e;const{createNotice:c}=(0,v.useDispatch)("core/notices"),[s,m]=(0,a.useState)(!1),{createProductAttributeTerm:d,invalidateResolutionForStoreSelector:u}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME);return(0,a.createElement)(l.Modal,{title:(0,w.__)("Create attribute","woocommerce"),onRequestClose:e=>{e.stopPropagation(),r()},className:"woocommerce-create-attribute-term-modal"},(0,a.createElement)(i.Form,{initialValues:{name:t,slug:(0,b.cleanForSlug)(t)},validate:function(e){var t;const o={};return(null===(t=e.name)||void 0===t?void 0:t.length)||(o.name=(0,w.__)("The attribute term name is required.","woocommerce")),o},errors:{},onSubmit:async e=>{(0,I.recordEvent)("product_attribute_term_add",{source:N}),m(!0);try{const t=await d({...e,attribute_id:o});(0,I.recordEvent)("product_attribute_term_add_success",{source:N}),u("getProductAttributes"),m(!1),n(t)}catch(e){(0,I.recordEvent)("product_attribute_term_add_failed",{source:N}),c("error",(0,w.__)("Failed to create attribute term.","woocommerce")),m(!1),r()}}},(e=>{let{getInputProps:t,handleSubmit:o,isValidForm:n,setValue:i,values:c}=e;const m=t("name");return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.TextControl,{label:(0,w.__)("Name","woocommerce"),...m,onBlur:()=>{m.onBlur(),i("slug",(0,b.cleanForSlug)(c.name))}}),(0,a.createElement)(l.TextControl,{label:(0,w.__)("Slug","woocommerce"),...t("slug"),help:(0,w.__)("The “slug” is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens.","woocommerce")}),(0,a.createElement)(l.TextareaControl,{label:(0,w.__)("Description","woocommerce"),...t("description")}),(0,a.createElement)("div",{className:"woocommerce-create-attribute-term-modal__buttons"},(0,a.createElement)(l.Button,{isSecondary:!0,label:(0,w.__)("Cancel","woocommerce"),onClick:()=>r()},(0,w.__)("Cancel","woocommerce")),(0,a.createElement)(l.Button,{isPrimary:!0,isBusy:s,label:(0,w.__)("Add attribute","woocommerce"),disabled:!n||s,onClick:o},(0,w.__)("Add","woocommerce"))))})))};let Xn=0;const Kn=e=>{let{value:t=[],onChange:o,placeholder:r,disabled:n,attributeId:c,label:s="",autoCreateOnSelect:m=!0,readOnlyWhenClosed:d=!1}=e;const u=(0,a.useRef)("woocommerce-attribute-term-field-"+ ++Xn),[p,_]=(0,a.useState)([]),[f,h]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[k,C]=(0,a.useState)(),{createNotice:S}=(0,v.useDispatch)("core/notices"),{createProductAttributeTerm:x,invalidateResolutionForStoreSelector:T}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME),P=(0,a.useCallback)((e=>(h(!0),(0,v.resolveSelect)(E.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({search:e||"",attribute_id:c}).then((e=>(_(e),h(!1),e)),(e=>(h(!1),e))))),[c]),A=(0,ne.useDebounce)(P,250);(0,a.useEffect)((()=>{n||void 0===c||p.length||P()}),[n,c]);const M=e=>{o(t.filter((t=>t.slug!==e.slug)))},R=()=>{const e=document.querySelector("."+u.current+" .woocommerce-experimental-select-control__input");e&&setTimeout((()=>{e.focus()}),0)},O=e=>{-99!==e.id?t.find((t=>t.slug===e.slug))?M(e):o([...t,e]):m?((async e=>{(0,I.recordEvent)("product_attribute_term_add",{source:N}),y(!0);try{const r=await x({...e,attribute_id:c});(0,I.recordEvent)("product_attribute_term_add_success",{source:N}),o([...t,r]),T("getProductAttributes"),T("getProductAttributeTerms"),y(!1)}catch(e){let t={source:N,code:"Unknown error.",message:"An unknown error occurred."},o=(0,w.__)("Failed to create attribute term.","woocommerce");const r=e;(null==r?void 0:r.code)&&(null==r?void 0:r.message)&&(t={...t,code:r.code,message:r.message},"term_exists"===r.code&&(o=(0,w.__)("Attribute term already exists.","woocommerce"))),(0,I.recordEvent)("product_attribute_term_add_failed",t),S("error",o),y(!1)}})({name:e.name,slug:(0,b.cleanForSlug)(e.name)}),R()):C(e.name)},L=(t||[]).map((e=>e.slug));return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.__experimentalSelectControl,{items:p,multiple:!0,disabled:n||!c,label:s,getFilteredItems:(e,t)=>t.length>0&&!e.find((e=>e.name.toLowerCase()===t.toLowerCase()))?[...e,{id:-99,name:t}]:e,onInputChange:A,placeholder:r||"",getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.slug)||"",stateReducer:(e,t)=>{const{changes:o,type:r}=t;switch(r){case i.selectControlStateChangeTypes.ControlledPropUpdatedSelectedItem:const t=g?{isOpen:g}:{};return{...o,...t,inputValue:e.inputValue};case i.selectControlStateChangeTypes.ItemClick:return o.selectedItem&&-99===o.selectedItem.id?o:{...o,isOpen:!0,inputValue:e.inputValue,highlightedIndex:e.highlightedIndex};default:return o}},selected:t,onSelect:O,onRemove:M,readOnlyWhenClosed:d,className:"woocommerce-attribute-term-field "+u.current,__experimentalOpenMenuOnFocus:!0},(e=>{let{items:t,highlightedIndex:o,getItemProps:r,getMenuProps:n,isOpen:c}=e;return(0,a.createElement)(i.__experimentalSelectControlMenu,{isOpen:c,getMenuProps:n},[f||g?(0,a.createElement)("div",{key:"loading-spinner",className:"woocommerce-attribute-term-field__loading-spinner"},(0,a.createElement)(l.Spinner,null)):null,...t.map(((e,t)=>{const n=L.includes(e.slug);return(0,a.createElement)(i.__experimentalSelectControlMenuItem,{key:`${e.slug}`,index:t,isActive:o===t,item:e,getItemProps:r},-99!==e.id?(0,a.createElement)(l.CheckboxControl,{onChange:()=>null,checked:n,label:(0,a.createElement)("span",{style:{fontWeight:n?"bold":"normal"}},e.name)}):(0,a.createElement)("div",{className:"woocommerce-attribute-term-field__add-new"},(0,a.createElement)(l.Icon,{icon:Lt,size:20,className:"woocommerce-attribute-term-field__add-new-icon"}),(0,a.createElement)("span",null,(0,w.sprintf)((0,w.__)('Create "%s"',"woocommerce"),e.name))))}))].filter((e=>null!==e)))})),!m&&k&&void 0!==c&&(0,a.createElement)(Yn,{initialAttributeTermName:k,onCancel:()=>{C(void 0),R()},attributeId:c,onCreated:e=>{O(e),C(void 0),T("getProductAttributeTerms"),R()}}))};function Qn(e){return null!==e&&"object"==typeof e&&!!e.label}const ea=e=>{let{value:t=[],onChange:o,placeholder:r,disabled:n,label:c}=e;const[s,m]=(0,a.useState)(t),d=e=>{o(t.filter((t=>t!==e)))};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.__experimentalSelectControl,{items:s,multiple:!0,disabled:n,label:c||"",placeholder:r||"",getItemLabel:e=>Qn(e)?e.label:e||"",getItemValue:e=>Qn(e)?e.id:e||"",getFilteredItems:(e,t)=>{const o=e.filter((e=>!t.length||!Qn(e)&&e.toLowerCase().includes(t.toLowerCase())));return t.length>0&&!o.find((e=>!Qn(e)&&e.toLowerCase()===t.toLowerCase()))?[...o,{id:"is-new",label:t}]:o},selected:t,onSelect:e=>{if(Qn(e))return m([...s,e.label]),void o([...t,e.label]);t.includes(e)?d(e):o([...t,e])},onRemove:d,className:"woocommerce-attribute-term-field"},(e=>{let{items:o,highlightedIndex:r,getItemProps:n,getMenuProps:c,isOpen:s}=e;return(0,a.createElement)(i.__experimentalSelectControlMenu,{isOpen:s,getMenuProps:c},o.map(((e,o)=>(0,a.createElement)(i.__experimentalSelectControlMenuItem,{key:`${Qn(e)?e.id:e}`,index:o,isActive:r===o,item:e,getItemProps:n},Qn(e)?(0,a.createElement)("div",{className:"woocommerce-attribute-term-field__add-new"},(0,a.createElement)(l.Icon,{icon:Lt,size:20,className:"woocommerce-attribute-term-field__add-new-icon"}),(0,a.createElement)("span",null,(0,w.sprintf)((0,w.__)('Create "%s"',"woocommerce"),e.label))):(0,a.createElement)(l.CheckboxControl,{onChange:()=>null,checked:t.includes(e),label:(0,a.createElement)("span",{style:{fontWeight:t.includes(e)?"bold":"normal"}},e)})))))})))};function ta(e){let{title:t="",content:o="",className:r,type:n="info",children:i,isDismissible:c=!1,handleDismiss:s=(()=>{})}=e;return(0,a.createElement)("div",{className:re()(r,n,"woocommerce-product-notice",{"is-dismissible":c})},t&&(0,a.createElement)("h3",{className:"woocommerce-product-notice__title"},t),o&&(0,a.createElement)("p",{className:"woocommerce-product-notice__content"},o),(0,a.createElement)("div",{className:"woocommerce-product-notice__content"},i),c&&(0,a.createElement)(l.Button,{className:"woocommerce-product-notice__dismiss",icon:oo,onClick:s}))}function oa(e){return 0!==e.id?e.id:e.name}const ra=e=>`${e.id}-${e.name}`;function na(e){return"string"==typeof e?{id:0,name:e,options:[]}:e}const aa=e=>{let{title:t=(0,w.__)("Edit attribute","woocommerce"),nameLabel:o=(0,w.__)("Name","woocommerce"),globalAttributeHelperMessage:r,customAttributeHelperMessage:n=(0,w.__)("Your customers will see this on the product page","woocommerce"),termsLabel:c=(0,w.__)("Values","woocommerce"),termsPlaceholder:s=(0,w.__)("Search or create value","woocommerce"),isDefaultLabel:m=(0,w.__)("Set default value","woocommerce"),isDefaultTooltip:d=(0,w.__)("Check to preselect the first choice when customers enter the product page.","woocommerce"),useAsFilterLabel:u=(0,w.__)("Use as filter","woocommerce"),useAsFilterTooltip:p=(0,w.__)("Check to allow customers to search and filter by this option in your store.","woocommerce"),visibleLabel:_=(0,w.__)("Show in product details","woocommerce"),visibleTooltip:f=(0,w.__)("Check to show this option and its values in the product details section on the product page.","woocommerce"),cancelAccessibleLabel:h=(0,w.__)("Cancel","woocommerce"),cancelLabel:g=(0,w.__)("Cancel","woocommerce"),updateAccessibleLabel:v=(0,w.__)("Edit attribute","woocommerce"),updateLabel:b=(0,w.__)("Update","woocommerce"),onCancel:E,onEdit:y,attribute:k,attributes:C}=e;const[S,x]=(0,a.useState)({...k}),T=0===(null==S?void 0:S.id),{additions:N,deletions:P}=(0,a.useMemo)((()=>{var e,t,o,r,n,a,i,c;if(!k.variation)return{};const l=C.filter((e=>ra(e)!==ra(k))).reduce(((e,t)=>{let{terms:o}=t;var r;return e*(null!==(r=null==o?void 0:o.length)&&void 0!==r?r:1)}),1),s=null!==(t=null===(e=k.terms)||void 0===e?void 0:e.length)&&void 0!==t?t:0,m=l*s,d=null!==(n=null===(r=null===(o=null==S?void 0:S.terms)||void 0===o?void 0:o.filter((e=>{var t;return!(null===(t=k.terms)||void 0===t?void 0:t.some((t=>t.id===e.id)))})))||void 0===r?void 0:r.length)&&void 0!==n?n:0,u=s+d||1,p=null!==(c=null===(i=null===(a=k.terms)||void 0===a?void 0:a.filter((e=>{var t;return null===(t=null==S?void 0:S.terms)||void 0===t?void 0:t.some((t=>e.id===t.id))})))||void 0===i?void 0:i.length)&&void 0!==c?c:0;return{additions:Math.abs(m-l*u),deletions:Math.abs(m-l*p)}}),[C,k,S]);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.Modal,{title:t,onRequestClose:()=>E(),className:"woocommerce-edit-attribute-modal"},(0,a.createElement)("div",{className:"woocommerce-edit-attribute-modal__body"},(0,a.createElement)(l.TextControl,{label:o,disabled:!T,value:(null==S?void 0:S.name)?null==S?void 0:S.name:"",onChange:e=>x({...S,name:e})}),(0,a.createElement)("p",{className:"woocommerce-edit-attribute-modal__helper-text"},T?n:r),k.terms?(0,a.createElement)(Kn,{label:c,placeholder:(null==S?void 0:S.terms)&&(null==S?void 0:S.terms.length)>0?"":s,value:null==S?void 0:S.terms,attributeId:null==S?void 0:S.id,onChange:e=>{x({...S,terms:e})}}):(0,a.createElement)(ea,{label:c,placeholder:(null==S?void 0:S.options)&&(null==S?void 0:S.options.length)>0?"":s,disabled:!(null==k?void 0:k.name),value:null==S?void 0:S.options,onChange:e=>{x({...S,options:e})}}),(0,a.createElement)("div",{className:"woocommerce-edit-attribute-modal__options"},k.variation&&(0,a.createElement)("div",{className:"woocommerce-edit-attribute-modal__option-container"},(0,a.createElement)(l.CheckboxControl,{onChange:e=>x({...S,isDefault:e}),checked:null==S?void 0:S.isDefault,label:m}),(0,a.createElement)(i.__experimentalTooltip,{text:d})),(0,a.createElement)("div",{className:"woocommerce-edit-attribute-modal__option-container"},(0,a.createElement)(l.CheckboxControl,{onChange:e=>x({...S,visible:e}),checked:null==S?void 0:S.visible,label:_}),(0,a.createElement)(i.__experimentalTooltip,{text:f})),0!==k.id&&(0,a.createElement)("div",{className:"woocommerce-edit-attribute-modal__option-container"},(0,a.createElement)(l.CheckboxControl,{disabled:!0,onChange:()=>{},checked:!0,label:u}),(0,a.createElement)(i.__experimentalTooltip,{text:p}))),Boolean(N||P)&&(0,a.createElement)(ta,null,function(){const e=(0,w.sprintf)((0,w.__)("%d variations will be added","woocommerce"),N),t=(0,w.sprintf)((0,w.__)("%d variations will be removed","woocommerce"),P);return N&&P?(0,w.sprintf)("%s, %s.",e,t):N?(0,w.sprintf)("%s.",e):(0,w.sprintf)("%s.",t)}())),(0,a.createElement)("div",{className:"woocommerce-edit-attribute-modal__buttons"},(0,a.createElement)(l.Button,{isSecondary:!0,label:h,onClick:()=>E()},g),(0,a.createElement)(l.Button,{isPrimary:!0,label:v,onClick:()=>{y(S)}},b))),(0,a.createElement)(i.__experimentalSelectControlMenuSlot,null))};function ia(e){let{width:t=24,height:o=24,...r}=e;return(0,a.createElement)("svg",{...r,width:t,height:o,viewBox:`0 0 ${t} ${o}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("g",null,(0,a.createElement)("path",{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z",fill:"#949494"}),(0,a.createElement)("rect",{x:"16.7734",y:"4",width:"1.22727",height:"16",transform:"rotate(30 16.7734 4)",fill:"#949494"}),(0,a.createElement)("rect",{x:"16",y:"3",width:"1.22727",height:"16",transform:"rotate(30 16 3)",fill:"white"})),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:"clip0_4951_450432"},(0,a.createElement)("rect",{width:"24",height:"24",fill:"white"}))))}function ca(e){let{width:t=24,height:o=24,className:r,...n}=e;return(0,a.createElement)("svg",{...n,width:t,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:re()(r,"woocommerce-hidden-icon")},(0,a.createElement)("path",{d:"M3.99863 13C4.66945 13.3354 4.66932 13.3357 4.66919 13.3359L4.672 13.3305C4.67523 13.3242 4.68086 13.3135 4.6889 13.2985C4.70497 13.2686 4.73062 13.2218 4.76597 13.1608C4.83672 13.0385 4.94594 12.8592 5.09443 12.6419C5.39214 12.2062 5.84338 11.624 6.45337 11.0431C7.6721 9.88241 9.49621 8.75 11.9986 8.75C14.501 8.75 16.3251 9.88241 17.5439 11.0431C18.1539 11.624 18.6051 12.2062 18.9028 12.6419C19.0513 12.8592 19.1605 13.0385 19.2313 13.1608C19.2666 13.2218 19.2923 13.2686 19.3083 13.2985C19.3164 13.3135 19.322 13.3242 19.3252 13.3305L19.3281 13.3359C19.3279 13.3357 19.3278 13.3354 19.9986 13C20.6694 12.6646 20.6693 12.6643 20.6691 12.664L20.6678 12.6614L20.6652 12.6563L20.6573 12.6408C20.6507 12.6282 20.6417 12.6108 20.63 12.5892C20.6068 12.5459 20.5734 12.4852 20.5296 12.4096C20.4422 12.2584 20.3131 12.0471 20.1413 11.7956C19.7984 11.2938 19.2809 10.626 18.5784 9.9569C17.1721 8.61759 14.9962 7.25 11.9986 7.25C9.00105 7.25 6.82516 8.61759 5.41889 9.9569C4.71638 10.626 4.19886 11.2938 3.85596 11.7956C3.68413 12.0471 3.55507 12.2584 3.46762 12.4096C3.42386 12.4852 3.39044 12.5459 3.3672 12.5892C3.35558 12.6108 3.3465 12.6282 3.33994 12.6408L3.33199 12.6563L3.32943 12.6614L3.3285 12.6632C3.32833 12.6635 3.32781 12.6646 3.99863 13ZM11.9986 16C13.9316 16 15.4986 14.433 15.4986 12.5C15.4986 10.567 13.9316 9 11.9986 9C10.0656 9 8.49863 10.567 8.49863 12.5C8.49863 14.433 10.0656 16 11.9986 16Z",fill:"#949494"}))}const la=(0,w.__)("Visible in product details","woocommerce"),sa=(0,w.__)("Custom attribute. Customers can’t filter or search by it to find this product","woocommerce"),ma=e=>{let{attribute:t,editLabel:o=(0,w.__)("Edit","woocommerce"),removeLabel:r=(0,w.__)("Remove attribute","woocommerce"),onDragStart:n,onDragEnd:c,onEditClick:s,onRemoveClick:m}=e;return(0,a.createElement)(i.ListItem,{className:"woocommerce-attribute-list-item",onDragStart:n,onDragEnd:c},(0,a.createElement)("div",null,t.name),(0,a.createElement)("div",null,t.options.slice(0,t.options.length>3?2:3).map((e=>(0,a.createElement)(i.Tag,{key:e,label:e}))),t.options.length>3&&(0,a.createElement)(i.Tag,{label:(0,w.sprintf)((0,w.__)("+ %i more","woocommerce"),t.options.length-2)})),(0,a.createElement)("div",{className:"woocommerce-attribute-list-item__actions"},0===t.id&&(0,a.createElement)(l.Tooltip,{className:"woocommerce-attribute-list-item__actions-tooltip",position:"top center",text:sa},(0,a.createElement)("div",{className:"woocommerce-attribute-list-item__actions-icon-wrapper"},(0,a.createElement)(ia,{className:"woocommerce-attribute-list-item__actions-icon-wrapper-icon"}))),t.visible&&(0,a.createElement)(l.Tooltip,{className:"woocommerce-attribute-list-item__actions-tooltip",position:"top center",text:la},(0,a.createElement)("div",{className:"woocommerce-attribute-list-item__actions-icon-wrapper"},(0,a.createElement)(ca,{className:"woocommerce-attribute-list-item__actions-icon-wrapper-icon"}))),"function"==typeof s&&(0,a.createElement)(l.Button,{variant:"tertiary",onClick:()=>s(t)},o),"function"==typeof m&&(0,a.createElement)(l.Button,{icon:oo,label:r,onClick:()=>m(t)})))};function da(e){return-99===e.id}const ua=e=>{let{value:t=null,onChange:o,placeholder:r,label:n,disabled:c,disabledAttributeIds:s=[],disabledAttributeMessage:m,ignoredAttributeIds:d=[],createNewAttributesAsGlobal:u=!1}=e;const{createErrorNotice:p}=(0,v.useDispatch)("core/notices"),{createProductAttribute:_,invalidateResolution:f}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_ATTRIBUTES_STORE_NAME),{attributes:h,isLoading:g}=(0,v.useSelect)((e=>{const{getProductAttributes:t,hasFinishedResolution:o}=e(E.EXPERIMENTAL_PRODUCT_ATTRIBUTES_STORE_NAME);return{isLoading:!o("getProductAttributes"),attributes:t()}})),b=(0,a.useMemo)((function(){var e;return null!==(e=null==h?void 0:h.map((e=>({...e,isDisabled:s.includes(e.id)}))))&&void 0!==e?e:[]}),[h,s]);return(0,a.createElement)(i.__experimentalSelectControl,{className:"woocommerce-attribute-input-field",items:b||[],label:n||"",disabled:c,getFilteredItems:(e,t)=>{const o=e.filter((e=>(e=>!d.length||!d.includes(e.id))(e)&&(e.name||"").toLowerCase().startsWith(t.toLowerCase())));return t.length>0&&(u||!e.find((e=>e.name.toLowerCase()===t.toLowerCase())))?[...o,{id:-99,name:t}]:o},placeholder:r,getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.id)||"",selected:t,onSelect:e=>{da(e)?(e=>{(0,I.recordEvent)("product_attribute_add_custom_attribute",{source:N}),u?_({name:e.name,generate_slug:!0}).then((e=>{f("getProductAttributes"),o({...e,options:[]})}),(e=>{let t=(0,w.__)("Failed to create new attribute.","woocommerce");"woocommerce_rest_cannot_create"===e.code&&(t=e.message),p(t,{explicitDismiss:!0})})):o(e.name)})(e):o({id:e.id,name:e.name,options:[]})},onRemove:()=>o(),__experimentalOpenMenuOnFocus:!0},(e=>{let{items:t,highlightedIndex:o,getItemProps:r,getMenuProps:n,isOpen:c}=e;return(0,a.createElement)(i.__experimentalSelectControlMenu,{getMenuProps:n,isOpen:c},g?(0,a.createElement)(l.Spinner,null):t.map(((e,t)=>(0,a.createElement)(i.__experimentalSelectControlMenuItem,{key:e.id,index:t,isActive:o===t,item:e,getItemProps:t=>({...r(t),disabled:e.isDisabled||void 0}),tooltipText:e.isDisabled?m:e.slug},da(e)?(0,a.createElement)("div",{className:"woocommerce-attribute-input-field__add-new"},(0,a.createElement)(l.Icon,{icon:Lt,size:20,className:"woocommerce-attribute-input-field__add-new-icon"}),(0,a.createElement)("span",null,(0,w.sprintf)((0,w.__)('Create "%s"',"woocommerce"),e.name))):e.name))))}))},pa=e=>{let{title:t=(0,w.__)("Add attributes","woocommerce"),description:o="",notice:r=(0,w.__)("By default, attributes are filterable and visible on the product page. You can change these settings for each attribute separately later.","woocommerce"),attributeLabel:n=(0,w.__)("Attribute","woocommerce"),valueLabel:c=(0,w.__)("Values","woocommerce"),attributePlaceholder:s=(0,w.__)("Search or create attribute","woocommerce"),termPlaceholder:m=(0,w.__)("Search or create value","woocommerce"),removeLabel:d=(0,w.__)("Remove attribute","woocommerce"),addAnotherAccessibleLabel:u=(0,w.__)("Add another attribute","woocommerce"),addAnotherLabel:p=(0,w.__)("+ Add another","woocommerce"),cancelLabel:_=(0,w.__)("Cancel","woocommerce"),addAccessibleLabel:f=(0,w.__)("Add attributes","woocommerce"),addLabel:h=(0,w.__)("Add","woocommerce"),onCancel:g,onAdd:b,onAddAnother:y=(()=>{}),onRemoveItem:k=(()=>{}),selectedAttributeIds:C=[],createNewAttributesAsGlobal:S=!1,disabledAttributeIds:x=[],disabledAttributeMessage:T=(0,w.__)("Already used in Attributes","woocommerce"),termsAutoSelection:N,defaultVisibility:P=!1}=e;const A=e=>{return(e=>0!==e.id)(e)?(t=e.terms)?t.map((e=>e.name)):[]:e.options;var t},I=e=>void 0!==e.visible?e.visible:P,M=e=>{setTimeout((()=>{const t=document.querySelector(".woocommerce-new-attribute-modal__table-row-"+e+" .woocommerce-new-attribute-modal__table-attribute-value-column .woocommerce-experimental-select-control__input");t&&t.focus()}),0)};return(0,a.useEffect)((function(){const e=document.querySelector(".woocommerce-new-attribute-modal__table-row .woocommerce-attribute-input-field label"),t=setTimeout((()=>{null==e||e.focus()}),100);return()=>clearTimeout(t)}),[]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.Form,{initialValues:{attributes:[null]}},(e=>{let{values:i,setValue:w}=e;function P(e){return function(t){N&&t&&"string"!=typeof t?(0,v.resolveSelect)(E.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({search:"",attribute_id:t.id}).then((o=>{const r=na(t);"all"===N?r.terms=o:o.length>0&&(r.terms=[o[0]]),w("attributes["+e+"]",{...r}),M(e)})):(w("attributes["+e+"]",t&&na(t)),t&&M(e))}}return(0,a.createElement)(l.Modal,{title:t,onRequestClose:e=>{e.isPropagationStopped()||g()},className:"woocommerce-new-attribute-modal"},r&&(0,a.createElement)(l.Notice,{isDismissible:!1},(0,a.createElement)("p",null,r)),o&&(0,a.createElement)("p",null,o),(0,a.createElement)("div",{className:"woocommerce-new-attribute-modal__body"},(0,a.createElement)("table",{className:"woocommerce-new-attribute-modal__table"},(0,a.createElement)("thead",null,(0,a.createElement)("tr",{className:"woocommerce-new-attribute-modal__table-header"},(0,a.createElement)("th",null,n),(0,a.createElement)("th",null,c))),(0,a.createElement)("tbody",null,i.attributes.map(((e,t)=>(0,a.createElement)("tr",{key:t,className:`woocommerce-new-attribute-modal__table-row woocommerce-new-attribute-modal__table-row-${t}`},(0,a.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-column"},(0,a.createElement)(ua,{placeholder:s,value:e,label:n,onChange:P(t),ignoredAttributeIds:[...C,...i.attributes.map((e=>null==e?void 0:e.id)).filter((e=>void 0!==e))],createNewAttributesAsGlobal:S,disabledAttributeIds:x,disabledAttributeMessage:T})),(0,a.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-value-column"},e&&0===e.id?(0,a.createElement)(ea,{placeholder:(null==e?void 0:e.options)&&(null==e?void 0:e.options.length)>0?"":m,disabled:!e.name,value:e.options,label:c,onChange:e=>w("attributes["+t+"].options",e)}):(0,a.createElement)(Kn,{placeholder:(null==e?void 0:e.terms)&&(null==e?void 0:e.terms.length)>0?"":m,disabled:!e||!e.id,attributeId:e?e.id:void 0,value:null==e?[]:e.terms,label:c,onChange:e=>w("attributes["+t+"].terms",e)})),(0,a.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-trash-column"},(0,a.createElement)(l.Button,{icon:oo,disabled:1===i.attributes.length&&null===i.attributes[0],label:d,onClick:()=>((e,t,o)=>{k(),t.attributes.length>1?o("attributes",t.attributes.filter(((t,o)=>o!==e))):o(`attributes[${e}]`,[null])})(t,i,w)})))))))),(0,a.createElement)("div",null,(0,a.createElement)(l.Button,{className:"woocommerce-new-attribute-modal__add-attribute",variant:"tertiary",label:u,onClick:()=>{((e,t)=>{var o;t("attributes",[...e.attributes,null]),o=e.attributes.length,setTimeout((()=>{const e=document.querySelector(`.woocommerce-new-attribute-modal__table-row-${o}`);null==e||e.scrollIntoView({behavior:"smooth"})}),0),y()})(i,w)}},p)),(0,a.createElement)("div",{className:"woocommerce-new-attribute-modal__buttons"},(0,a.createElement)(l.Button,{isSecondary:!0,label:_,onClick:()=>g()},_),(0,a.createElement)(l.Button,{isPrimary:!0,label:f,disabled:1===i.attributes.length&&(null===i.attributes[0]||void 0===i.attributes[0]),onClick:()=>(e=>{const t=[];e.attributes.forEach((e=>{var o;null!==(o=e)&&o.name.length>0&&(e=>e.terms&&e.terms.length>0||e.options&&e.options.length>0)(o)&&t.push({...e,visible:I(e),options:A(e)})})),b(t)})(i)},h)))})),(0,a.createElement)(i.__experimentalSelectControlMenuSlot,null))};function _a(e){let{title:t,description:o,onCancel:r,onRemove:n}=e;const[i,c]=(0,a.useState)(!1);return(0,a.createElement)(l.Modal,{title:t,onRequestClose:e=>{!e.isPropagationStopped()&&r&&r()},className:"woocommerce-remove-confirmation-modal"},(0,a.createElement)("div",{className:"woocommerce-remove-confirmation-modal__content"},o),(0,a.createElement)("div",{className:"woocommerce-remove-confirmation-modal__buttons"},(0,a.createElement)(l.Button,{isDestructive:!0,variant:"primary",isBusy:i,onClick:async function(){try{c(!0),await n()}finally{c(!1)}}},(0,w.__)("Delete","woocommerce")),(0,a.createElement)(l.Button,{variant:"tertiary",onClick:r},(0,w.__)("Cancel","woocommerce"))))}const fa=e=>{let{value:t,onAdd:o=(()=>{}),onAddAnother:r=(()=>{}),onRemoveItem:n=(()=>{}),onChange:c,onEdit:s=(()=>{}),onNewModalCancel:m=(()=>{}),onNewModalClose:d=(()=>{}),onNewModalOpen:u=(()=>{}),onEditModalCancel:p=(()=>{}),onEditModalClose:_=(()=>{}),onEditModalOpen:f=(()=>{}),onRemove:h=(()=>{}),onRemoveCancel:g=(()=>{}),onNoticeDismiss:v=(()=>{}),uiStrings:b,createNewAttributesAsGlobal:E=!1,useRemoveConfirmationModal:y=!1,disabledAttributeIds:k=[],termsAutoSelection:C,defaultVisibility:S=!1}=e;b={newAttributeListItemLabel:(0,w.__)("Add new","woocommerce"),globalAttributeHelperMessage:(0,w.__)("You can change the attribute's name in <link>Attributes</link>.","woocommerce"),newAttributeModalNotice:(0,w.__)("By default, attributes are filterable and visible on the product page. You can change these settings for each attribute separately later.","woocommerce"),attributeRemoveConfirmationMessage:(0,w.__)("Remove this attribute?","woocommerce"),...b};const[x,T]=(0,a.useState)(!1),[P,A]=(0,a.useState)(),[M,R]=(0,a.useState)(null),O=e=>{c(e.map((e=>({...e,options:e.terms?e.terms.map((e=>e.name)):e.options,terms:void 0,visible:e.visible||!1}))))},L=e=>{O(t.filter((t=>ra(t)!==ra(e)))),h(e),A(null)},B=()=>{T(!1),d()},D=e=>{R(null),_(e)},V=t.sort(((e,t)=>e.position-t.position)),F=t.reduce(((e,t)=>(e[oa(t)]=t,e)),{}),H=t.find((e=>ra(e)===M));return(0,a.createElement)("div",{className:"woocommerce-attribute-field"},(0,a.createElement)(l.Button,{variant:"secondary",className:"woocommerce-add-attribute-list-item__add-button",onClick:()=>{T(!0),u()}},b.newAttributeListItemLabel),b.notice&&(0,a.createElement)(l.Notice,{isDismissible:!0,status:"warning",className:"woocommerce-attribute-field__notice",onRemove:v},(0,a.createElement)("p",null,b.notice)),Boolean(t.length)&&(0,a.createElement)(i.Sortable,{onOrderChange:e=>{const t=e.reduce(((e,t,o)=>{let{props:r}=t;return e[oa(r.attribute)]=o,e}),{});c(function(e,t){return Object.keys(t).map((o=>isNaN(e[o])?{...t[o]}:{...t[o],position:e[o]}))}(t,F))}},V.map((e=>(0,a.createElement)(ma,{attribute:e,removeLabel:null==b?void 0:b.attributeRemoveLabel,key:ra(e),onEditClick:()=>{return t=e,(0,I.recordEvent)("product_options_edit",{source:N,attribute:t.name}),R(ra(t)),void f(t);var t},onRemoveClick:()=>{return t=e,void(y?A(t):window.confirm(null==b?void 0:b.attributeRemoveConfirmationMessage)?L(t):g(t));var t}})))),x&&(0,a.createElement)(pa,{title:b.newAttributeModalTitle,description:b.newAttributeModalDescription,notice:b.newAttributeModalNotice,onCancel:()=>{B(),m()},onAdd:e=>{const r=e.filter((e=>!t.some((t=>ra(e)===ra(t)))));O([...t,...r]),o(e),B()},onAddAnother:r,onRemoveItem:n,selectedAttributeIds:t.map((e=>e.id)),createNewAttributesAsGlobal:E,disabledAttributeIds:k,disabledAttributeMessage:b.disabledAttributeMessage,termsAutoSelection:C,defaultVisibility:S}),(0,a.createElement)(i.__experimentalSelectControlMenuSlot,null),H&&(0,a.createElement)(aa,{title:(0,w.sprintf)((0,w.__)("Edit %s","woocommerce"),H.name),customAttributeHelperMessage:b.customAttributeHelperMessage,globalAttributeHelperMessage:b.globalAttributeHelperMessage?(0,a.createInterpolateElement)(b.globalAttributeHelperMessage,{link:(0,a.createElement)(i.Link,{href:(0,Zo.getAdminLink)("edit.php?post_type=product&page=product_attributes"),target:"_blank",type:"wp-admin"},(0,a.createElement)(a.Fragment,null))}):void 0,onCancel:()=>{D(H),p(H)},onEdit:e=>{(e=>{var o;(0,I.recordEvent)("product_options_update",{source:N,attribute:e.name,values:null===(o=e.terms)||void 0===o?void 0:o.map((e=>e.name)),default:e.isDefault,visible:e.visible,filter:!0});const r=t.map((t=>ra(t)===ra(e)?e:t));s(e),O(r),D(e)})(e)},attribute:H,attributes:t}),P&&(0,a.createElement)(_a,{title:(0,w.sprintf)((0,w.__)("Delete %(attributeName)s","woocommerce"),{attributeName:P.name}),description:(0,a.createElement)("p",null,b.attributeRemoveConfirmationModalMessage),onRemove:()=>L(P),onCancel:()=>{g(P),A(null)}}))},ha=(e,t)=>e.reduce(((e,o)=>(e[t(o)?0:1].push(o),e)),[[],[]]),ga=(e,t)=>t?e.filter((e=>!!e.variation)):e.filter((e=>!e.variation));function va(e){let{allAttributes:t=[],isVariationAttributes:o=!1,onChange:r,productId:n}=e;const[i,c]=(0,a.useState)(ga(t,o)),l=(0,a.useCallback)((e=>(0,v.resolveSelect)(E.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({attribute_id:e}).then((e=>e),(e=>e))),[n]),s=(e,t,o)=>e.map(((e,r)=>{let{isDefault:n,terms:a,...i}=e;return{...i,variation:t,position:o+r}}));return(0,a.useEffect)((()=>{const[e,r]=ha(ga(t,o),(e=>0===e.id));Promise.all(r.map((e=>l(e.id)))).then((t=>{c([...r.map(((e,o)=>{return r=e,n=t[o],{...r,terms:(n||[]).filter((e=>r.options.includes(e.name)))};var r,n})),...e])}))}),[t,o,l]),{attributes:i,handleChange:e=>{const n=e.reduce(((e,t)=>void 0===t.isDefault||!0===t.isDefault?[...e,{id:t.id,name:t.name,option:t.options[0]}]:e),[]);let a=o?t.filter((e=>!e.variation)):t.filter((e=>!!e.variation));a=a.filter((t=>!(t.id>0&&e.some((e=>e.id===t.id))||0===t.id&&e.some((e=>e.name.toLowerCase()===t.name.toLowerCase())))));const i=s(e,o,o?a.length:0),c=s(a,!o,o?0:e.length);r(o?[...c,...i]:[...i,...c],n)},setAttributes:c}}const wa=e=>{let{value:t,onChange:o,productId:r}=e;const{attributes:n,handleChange:i}=va({allAttributes:t,onChange:o,productId:r});return(0,a.createElement)(fa,{value:n,disabledAttributeIds:t.filter((e=>!!e.variation)).map((e=>e.id)),uiStrings:{disabledAttributeMessage:(0,w.__)("Already used in Variations","woocommerce")},onAdd:()=>{(0,I.recordEvent)("product_add_attributes_modal_add_button_click")},onChange:i,onNewModalCancel:()=>{(0,I.recordEvent)("product_add_attributes_modal_cancel_button_click")},onNewModalOpen:()=>{n.length?(0,I.recordEvent)("product_add_attribute_button"):(0,I.recordEvent)("product_add_first_attribute_button_click")},onAddAnother:()=>{(0,I.recordEvent)("product_add_attributes_modal_add_another_attribute_button_click")},onRemoveItem:()=>{(0,I.recordEvent)("product_add_attributes_modal_remove_attribute_button_click")},onRemove:()=>(0,I.recordEvent)("product_remove_attribute_confirmation_confirm_click"),onRemoveCancel:()=>(0,I.recordEvent)("product_remove_attribute_confirmation_cancel_click"),termsAutoSelection:"first",defaultVisibility:!0})},{name:ba}=Jn,Ea={example:{},edit:function(e){let{attributes:t}=e;const[o,r]=(0,K.useEntityProp)("postType","product","attributes"),n=(0,K.useEntityId)("postType","product"),i=(0,et.useWooBlockProps)(t);return(0,a.createElement)("div",{...i},(0,a.createElement)(wa,{productId:n,value:o,onChange:r}))}},ya=()=>ot({name:ba,metadata:Jn,settings:Ea}),ka=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-variations-fields","title":"Product variations fields","category":"woocommerce","description":"The product variations.","keywords":["products","variations"],"textdomain":"default","attributes":{"description":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}');function Ca(e){const t=(0,ne.useInstanceId)(l.G,"clip");return(0,a.createElement)(l.SVG,{width:"264",height:"167",...e,viewBox:"0 0 264 167",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(l.G,{clipPath:`url(#${t})`},(0,a.createElement)(l.Path,{d:"M38.5556 0.164185C11.3783 0.164185 -3.89877 21.4091 1.5234 37.3916C7.43365 54.8517 25.6968 71.9169 25.6968 85.7696H51.4188C51.4188 71.908 69.6821 54.8517 75.5923 37.3916C81.0145 21.4091 65.7463 0.164185 38.5556 0.164185Z",fill:"#F0F0F0"}),(0,a.createElement)(l.Path,{d:"M50.5063 48.3114C44.2189 48.3114 40.5228 52.5755 40.5228 59.1735V59.9899C40.079 59.9899 39.6176 59.9899 39.1827 59.9944H38.3486C37.7141 59.9944 37.3325 59.9944 36.5915 59.9944V59.1779C36.5915 52.5755 32.8953 48.3114 26.6124 48.3114C21.0127 48.3114 17.8047 50.4812 17.8047 54.2616C17.8047 57.0969 20.4936 59.0137 25.7915 59.9589C29.0306 60.5357 32.1721 60.6777 35.2781 60.7087V85.7652H36.6003V60.7176C37.3413 60.722 37.7185 60.722 38.3574 60.7176C38.9919 60.7176 39.7906 60.7176 40.5316 60.7176V85.7652H41.8539V60.7132C44.9554 60.6777 48.0969 60.5401 51.3405 59.9633C56.6384 59.0182 59.3273 57.1013 59.3273 54.266C59.3273 50.4856 56.1192 48.3158 50.5196 48.3158L50.5063 48.3114ZM35.2781 59.9855C32.2032 59.95 29.106 59.8124 25.9202 59.2445C21.0172 58.3704 19.6905 56.2938 19.6905 54.1329C19.6905 50.2682 23.5996 49.0347 26.6124 49.0347C32.2342 49.0347 35.2781 53.0148 35.2781 59.169V59.981V59.9855ZM51.1985 59.2445C48.0126 59.8124 44.9155 59.9544 41.845 59.9855V59.1735C41.845 53.0148 44.8889 49.0391 50.5107 49.0391C53.528 49.0391 57.4326 50.2726 57.4326 54.1373C57.4326 56.2982 56.1015 58.3704 51.2029 59.2489L51.1985 59.2445Z",fill:"white"}),(0,a.createElement)(l.Path,{d:"M38.5585 101.872C45.5248 101.872 51.4173 96.1613 51.4173 89.834H25.6953C25.6953 96.1613 31.5923 101.872 38.5585 101.872Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M57.2858 89.9271H19.832V85.7695H57.2858V89.9271Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M69.5768 106.602H7.63895L0.4375 167L15.2974 151.328H64.2566L69.5768 106.602Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M119.436 122.749C113.97 115.072 110.828 111.394 104.652 111.394C97.8809 111.394 94.908 119.061 98.9724 123.853C103.445 129.125 118.993 134.627 118.993 134.627C118.993 134.627 94.0694 129.923 84.9112 129.923C79.8573 129.923 74.6836 131.96 74.6836 139.135C74.6836 146.31 79.8617 148.346 84.9112 148.346C94.0694 148.346 118.993 143.643 118.993 143.643C118.993 143.643 103.445 149.145 98.9724 154.416C94.908 159.208 97.8764 166.876 104.652 166.876C110.828 166.876 113.97 163.197 119.436 155.521C121.287 152.921 130.707 139.135 130.707 139.135C130.707 139.135 121.287 125.349 119.436 122.749Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M94.2838 102.671L169.715 102.671V80.4849L94.2838 80.4849V102.671Z",fill:"#F0F0F0"}),(0,a.createElement)(l.Path,{d:"M169.712 0H94.2812V75.4311H169.712V0Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M147.619 49.6336C147.619 44.4156 144.429 39.4194 138.168 36.0116H157.66L139.472 6.00781H124.524L106.336 36.0116H125.828C119.567 39.4194 116.377 44.4156 116.377 49.6336C116.377 55.5394 121.005 61.4985 127.106 64.6888C118.667 62.9849 117.344 69.4232 117.344 69.4232H146.661C146.661 69.4232 145.338 62.9849 136.899 64.6888C143 61.4985 147.628 55.5394 147.628 49.6336H147.619Z",fill:"white"}),(0,a.createElement)(l.Path,{d:"M147.86 80.7911H94.2812V85.2283H147.86V80.7911Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M169.712 89.8473H94.2812V94.2844H169.712V89.8473Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M136.82 98.9034H94.2812V103.341H136.82V98.9034Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M219.52 167C229.042 167 235.063 158.538 235.063 151.457H203.977C203.977 158.538 209.998 167 219.52 167Z",fill:"#DDDDDD"}),(0,a.createElement)(l.Path,{d:"M219.516 58.2018C185.027 58.2018 168.143 86.1557 178.522 110.613C185.541 127.141 202.225 125.264 202.225 138.505H236.826C236.826 125.264 253.514 127.141 260.529 110.613C270.903 86.1557 254.006 58.2018 219.516 58.2018Z",fill:"#F0F0F0"}),(0,a.createElement)(l.Path,{d:"M219.52 167C228.9 167 234.882 158.787 235.059 151.776C235.059 151.67 235.059 142.707 235.059 142.6H203.973C203.973 142.685 203.973 151.63 203.973 151.719C204.115 158.742 210.105 167.004 219.511 167.004L219.52 167Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M240.248 142.596H198.801V138.505H240.248V142.596Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M240.248 149.074H198.801V144.983H240.248V149.074Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M169.656 125.371H142.133V152.894H169.656V125.371Z",fill:"#F0F0F0"}),(0,a.createElement)(l.Path,{d:"M155.015 146.194L162.181 139.587L147.445 139.663V138.571L162.154 138.647L155.015 132.067L155.676 131.228L163.982 139.055V139.184L155.676 147.033L155.015 146.194Z",fill:"#DDDDDD"}),(0,a.createElement)(l.Path,{d:"M22.0977 126.533L27.44 141.921L53.5835 112.729",stroke:"white",strokeMiterlimit:"10"}),(0,a.createElement)(l.Path,{d:"M232.227 110.138C232.227 102.307 227.559 97.4392 220.042 97.4126C220.042 97.4126 220.025 97.4126 220.016 97.4126C220.007 97.4126 219.998 97.4126 219.989 97.4126C212.473 97.4392 207.805 102.928 207.805 110.138C207.805 117.349 212.22 120.774 218.516 125.287C214.704 128.858 212.663 134.516 212.663 138.505H215.867C215.867 134.809 216.572 129.56 220.016 126.462C223.463 129.56 224.164 134.809 224.164 138.505H227.368C227.368 134.516 225.322 128.858 221.515 125.287C227.812 120.778 232.227 116.958 232.227 110.138ZM220.016 124.435C213.773 119.989 209.242 117.158 209.242 110.138C209.242 103.119 213.546 98.7216 220.016 98.7082C226.485 98.7216 230.789 103.354 230.789 110.138C230.789 116.222 226.259 119.989 220.016 124.435Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M250.84 40.1516C250.84 45.9864 246.155 50.7297 240.342 50.8184H199.862C193.97 50.8184 189.195 46.0441 189.195 40.1516C189.195 34.2591 193.97 29.4847 199.862 29.4847H240.36C246.164 29.4847 250.84 34.3256 250.84 40.1516Z",fill:"#F0F0F0"}),(0,a.createElement)(l.Path,{d:"M240.122 47.7347C244.31 47.7347 247.705 44.3396 247.705 40.1516C247.705 35.9636 244.31 32.5686 240.122 32.5686C235.934 32.5686 232.539 35.9636 232.539 40.1516C232.539 44.3396 235.934 47.7347 240.122 47.7347Z",fill:"#E0E0E0"}),(0,a.createElement)(l.Path,{d:"M131.996 6.00781H124.524L106.332 36.0116H125.824H138.168H157.661L139.468 6.00781H131.996Z",fill:"#F0F0F0"}),(0,a.createElement)(l.Path,{d:"M151.608 26.0281H112.384L106.332 36.0116L151.608 26.0281Z",fill:"white"}),(0,a.createElement)(l.Path,{d:"M145.555 16.0446H118.435L112.383 26.0281L145.555 16.0446Z",fill:"white"}),(0,a.createElement)(l.Path,{d:"M139.469 6.00781H124.525L118.438 16.0446L139.469 6.00781Z",fill:"white"}),(0,a.createElement)(l.Path,{d:"M57.4297 42.9647H87.8994",stroke:"#DDDDDD",strokeWidth:"0.71",strokeMiterlimit:"10"}),(0,a.createElement)(l.Path,{d:"M61.8945 32.1914L83.4412 53.7381",stroke:"#DDDDDD",strokeWidth:"0.71",strokeMiterlimit:"10"}),(0,a.createElement)(l.Path,{d:"M72.668 27.7321V58.2018",stroke:"#DDDDDD",strokeWidth:"0.71",strokeMiterlimit:"10"})),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:t},(0,a.createElement)(l.Rect,{width:"263.121",height:"167",fill:"white",transform:"translate(0.4375)"}))))}function Sa(){const[e]=(0,K.useEntityProp)("postType","product","id"),{generateProductVariations:t,invalidateResolutionForStoreSelector:o}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{invalidateResolution:r}=(0,v.useDispatch)("core"),[n,i]=(0,a.useState)(!1);return{generateProductVariations:(0,a.useCallback)((async(n,a)=>{i(!0);const{status:c,variations:l}=await(0,v.resolveSelect)("core").getEditedEntityRecord("postType","product",e),s=n.some((e=>e.variation)),m=await async function(e){var t,o;try{const{attributes:r}=await(0,v.resolveSelect)("core").getEntityRecord("postType","product",e);if(!r.some((e=>e.variation)))return{};const n=await(0,v.resolveSelect)(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME).getProductVariations({product_id:e,page:1,per_page:P,order:"asc",orderby:"menu_order"});return n&&n.length>0&&n[0].regular_price?{regular_price:n[0].regular_price,stock_quantity:null!==(t=n[0].stock_quantity)&&void 0!==t?t:void 0,stock_status:n[0].stock_status,manage_stock:n[0].manage_stock,low_stock_amount:null!==(o=n[0].low_stock_amount)&&void 0!==o?o:void 0}:{}}catch{return{}}}(e);return t({product_id:e},{type:s?"variable":"simple",attributes:n,default_attributes:a},{delete:!0,default_values:m}).then((()=>{if(o("getProductVariations"),l&&l.length>0)for(const e of l)r("getEntityRecord",["postType","product_variation",e]);return r("getEntityRecord",["postType","product",e]),o("getProductVariationsTotalCount")})).finally((()=>{if(i(!1),"auto-draft"===c&&(0,xe.getPath)().endsWith("add-product")){const t=(0,xe.getNewPath)({},`/product/${e}`);(0,xe.navigateTo)({url:t})}}))}),[]),isGenerating:n}}const xa=e=>!(!Array.isArray(e)||!e.length)&&e.some((e=>{let{variation:t}=e;return t})),{name:Ta,...Na}=ka,Pa={example:{},edit:function(e){let{attributes:t}=e;const{description:o}=t,{generateProductVariations:r}=Sa(),[n,i]=(0,a.useState)(!1),[c,s]=(0,K.useEntityProp)("postType","product","attributes"),[,m]=(0,K.useEntityProp)("postType","product","default_attributes"),{attributes:d,handleChange:u}=va({allAttributes:c,isVariationAttributes:!0,productId:(0,K.useEntityId)("postType","product"),onChange(e,t){s(e),m(t),r(e,t)}}),p=xa(c),_=(0,et.useWooBlockProps)(t,{className:re()({"wp-block-woocommerce-product-variations-fields--has-attributes":p})}),f=(0,We.useInnerBlocksProps)({className:"wp-block-woocommerce-product-variations-fields__content"},{templateLock:"all"}),h=()=>{i(!1)};return(0,a.createElement)("div",{..._},(0,a.createElement)("div",{className:"wp-block-woocommerce-product-variations-fields__heading"},(0,a.createElement)("div",{className:"wp-block-woocommerce-product-variations-fields__heading-image-container"},(0,a.createElement)(Ca,null)),(0,a.createElement)("p",{className:"wp-block-woocommerce-product-variations-fields__heading-description",dangerouslySetInnerHTML:Tt(o)}),(0,a.createElement)("div",{className:"wp-block-woocommerce-product-variations-fields__heading-actions"},(0,a.createElement)(l.Button,{variant:"primary",onClick:()=>{i(!0),(0,I.recordEvent)("product_options_add_first_option")}},(0,w.__)("Add variation options","woocommerce")))),(0,a.createElement)("div",{...f}),n&&(0,a.createElement)(pa,{title:(0,w.__)("Add variation options","woocommerce"),description:(0,w.__)("Select from existing attributes or create new ones to add new variations for your product. You can change the order later.","woocommerce"),createNewAttributesAsGlobal:!0,notice:"",onCancel:()=>{(0,I.recordEvent)("product_options_modal_cancel_button_click"),h()},onAdd:e=>{const t=e.filter((e=>!d.some((t=>ra(e)===ra(t)))));(0,I.recordEvent)("product_options_add",{source:N,options:t.map((e=>({attribute:e.name,values:e.options})))}),u(t),h()},onAddAnother:()=>{(0,I.recordEvent)("product_add_options_modal_add_another_option_button_click")},onRemoveItem:()=>{(0,I.recordEvent)("product_add_options_modal_remove_option_button_click")},selectedAttributeIds:d.map((e=>e.id)),disabledAttributeIds:c.filter((e=>!e.variation)).map((e=>e.id)),termsAutoSelection:"all"}))}};function Aa(){return ot({name:Ta,metadata:Na,settings:Pa})}const Ia=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-password-field","description":"A checkbox and an input to type a password to view a product.","title":"Product password","category":"widgets","keywords":["products","password"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),{name:Ma,...Ra}=Ia,Oa={edit:function(e){let{attributes:t}=e;const o=(0,et.useWooBlockProps)(t),{label:r}=t,[n,i]=(0,K.useEntityProp)("postType","product","post_password"),[c,s]=(0,a.useState)(Boolean(n)),m=(0,ne.useInstanceId)(l.BaseControl,"post_password");return(0,a.createElement)("div",{...o},(0,a.createElement)(l.CheckboxControl,{label:r,checked:c,className:"wp-block-woocommerce-product-password-fields__field",onChange:e=>{s(e),e||i("")}}),c&&(0,a.createElement)(l.BaseControl,{id:m,label:(0,w.__)("Password","woocommerce")},(0,a.createElement)(l.__experimentalInputControl,{id:m,value:n,onChange:i})))}};function La(){return ot({name:Ma,metadata:Ra,settings:Oa})}const Ba=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-variation-items-field","title":"Product variations items","category":"woocommerce","description":"The product variations items.","keywords":["products","variations"],"textdomain":"default","attributes":{"description":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["isInSelectedTab"],"editorStyle":"file:./editor.css"}');var Da,Va,Fa=o(56519),Ha=o.n(Fa);!function(e){e.instock="instock",e.onbackorder="onbackorder",e.outofstock="outofstock"}(Da||(Da={})),function(e){e.instock="green",e.onbackorder="yellow",e.outofstock="red"}(Va||(Va={}));const Ua={[Da.instock]:(0,w.__)("In stock","woocommerce"),[Da.onbackorder]:(0,w.__)("On backorder","woocommerce"),[Da.outofstock]:(0,w.__)("Out of stock","woocommerce")},za=e=>e.manage_stock?e.stock_quantity||0:e.stock_status?Ua[e.stock_status]:Ua.instock,ja=e=>{if(e.manage_stock){const t=e.stock_quantity||0;return t>=10?Va.instock:t<10&&t>2?Va.onbackorder:Va.outofstock}return e.stock_status?Va[e.stock_status]:""},$a=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));async function Wa(e){let{message:t=(0,w.__)("Enter a value","woocommerce"),defaultValue:o,onOk:r,onCancel:n}=e;const a=window.prompt(t,o);null!==a?r(a):n&&n()}function Ga(e){let{selection:t,onChange:o,onClose:r}=e;const n=Array.isArray(t)?t.map((e=>{let{id:t}=e;return t})):t.id;function i(e){Array.isArray(t)?o(t.map((t=>{let{id:o,dimensions:r}=t;return{id:o,dimensions:{...r,...e}}}))):o({dimensions:{...t.dimensions,...e}})}return(0,a.createElement)(l.Dropdown,{position:"middle right",renderToggle:e=>{let{isOpen:t,onToggle:o}=e;return(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_shipping_click",{source:N,variation_id:n}),o()},"aria-expanded":t,icon:$a,iconPosition:"right"},(0,w.__)("Shipping","woocommerce"))},renderContent:()=>(0,a.createElement)("div",{className:"components-dropdown-menu__menu"},window.wcAdminFeatures["product-virtual-downloadable"]&&(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_shipping_select",{source:N,action:"toggle_shipping",variation_id:n}),Array.isArray(t)?o(t.map((e=>{let{id:t,virtual:o}=e;return{id:t,virtual:!o}}))):o({virtual:!t.virtual}),(0,I.recordEvent)("product_variations_menu_shipping_update",{source:N,action:"toggle_shipping",variation_id:n}),r()}},(0,w.__)("Toggle shipping","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_shipping_select",{source:N,action:"dimensions_length_set",variation_id:n}),Wa({onOk(e){(0,I.recordEvent)("product_variations_menu_shipping_update",{source:N,action:"dimensions_length_set",variation_id:n}),i({length:e})}}),r()}},(0,w.__)("Set length","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_shipping_select",{source:N,action:"dimensions_width_set",variation_id:n}),Wa({onOk(e){(0,I.recordEvent)("product_variations_menu_shipping_update",{source:N,action:"dimensions_width_set",variation_id:n}),i({width:e})}}),r()}},(0,w.__)("Set width","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_shipping_select",{source:N,action:"dimensions_height_set",variation_id:n}),Wa({onOk(e){(0,I.recordEvent)("product_variations_menu_shipping_update",{source:N,action:"dimensions_height_set",variation_id:n}),i({height:e})}}),r()}},(0,w.__)("Set height","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_shipping_select",{source:N,action:"weight_set",variation_id:n}),Wa({onOk(e){(0,I.recordEvent)("product_variations_menu_shipping_update",{source:N,action:"weight_set",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o}=t;return{id:o,weight:e}}))):o({weight:e})}}),r()}},(0,w.__)("Set weight","woocommerce")))})}function qa(e){let{selection:t,onChange:o,onClose:r}=e;return(0,a.createElement)(l.MenuItem,{onClick:()=>{const e=Array.isArray(t)?t.map((e=>{let{id:t}=e;return t})):t.id;(0,I.recordEvent)("product_variations_menu_inventory_select",{source:N,action:"stock_quantity_set",variation_id:e}),Wa({onOk(r){const n=Number(r);Number.isNaN(n)||((0,I.recordEvent)("product_variations_menu_inventory_update",{source:N,action:"stock_quantity_set",variation_id:e}),Array.isArray(t)?o(t.map((e=>{let{id:t}=e;return{id:t,stock_quantity:n,manage_stock:!0}}))):o({stock_quantity:n,manage_stock:!0}))}}),r()}},(0,w.__)("Update stock","woocommerce"))}function Za(e){let{selection:t,onChange:o,onClose:r}=e;const n=Array.isArray(t)?t.map((e=>{let{id:t}=e;return t})):t.id;return(0,a.createElement)(l.Dropdown,{position:"middle right",renderToggle:e=>{let{isOpen:t,onToggle:o}=e;return(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_inventory_click",{source:N,variation_id:n}),o()},"aria-expanded":t,icon:$a,iconPosition:"right"},(0,w.__)("Inventory","woocommerce"))},renderContent:()=>(0,a.createElement)("div",{className:"components-dropdown-menu__menu"},(0,a.createElement)(l.MenuGroup,null,(0,a.createElement)(qa,{selection:t,onChange:o,onClose:r}),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_inventory_select",{source:N,action:"manage_stock_toggle",variation_id:n}),Array.isArray(t)?o(t.map((e=>{let{id:t,manage_stock:o}=e;return{id:t,manage_stock:!o}}))):o({manage_stock:!t.manage_stock}),r()}},(0,w.__)('Toggle "track quantity"',"woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_inventory_select",{source:N,action:"set_status_in_stock",variation_id:n}),Array.isArray(t)?o(t.map((e=>{let{id:t}=e;return{id:t,stock_status:Da.instock,manage_stock:!1}}))):o({stock_status:Da.instock,manage_stock:!1}),r()}},(0,w.__)("Set status to In stock","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_inventory_select",{source:N,action:"set_status_out_of_stock",variation_id:n}),Array.isArray(t)?o(t.map((e=>{let{id:t}=e;return{id:t,stock_status:Da.outofstock,manage_stock:!1}}))):o({stock_status:Da.outofstock,manage_stock:!1}),r()}},(0,w.__)("Set status to Out of stock","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_inventory_select",{source:N,action:"set_status_on_back_order",variation_id:n}),Array.isArray(t)?o(t.map((e=>{let{id:t}=e;return{id:t,stock_status:Da.onbackorder,manage_stock:!1}}))):o({stock_status:Da.onbackorder,manage_stock:!1}),r()}},(0,w.__)("Set status to On back order","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_inventory_select",{source:N,action:"low_stock_amount_set",variation_id:n}),Wa({onOk(e){(0,I.recordEvent)("product_variations_menu_inventory_update",{source:N,action:"low_stock_amount_set",variation_id:n});const r=Number(e);if(Number.isNaN(r))return null;Array.isArray(t)?o(t.map((e=>{let{id:t}=e;return{id:t,low_stock_amount:r,manage_stock:!0}}))):o({low_stock_amount:r,manage_stock:!0})}}),r()}},(0,w.__)("Edit low stock threshold","woocommerce"))))})}function Ja(e){let{selection:t,onChange:o,onClose:r}=e;return(0,a.createElement)(l.MenuItem,{onClick:()=>{const e=Array.isArray(t)?t.map((e=>{let{id:t}=e;return t})):t.id;(0,I.recordEvent)("product_variations_menu_pricing_select",{source:N,action:"list_price_set",variation_id:e}),Wa({onOk(r){(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"list_price_set",variation_id:e}),Array.isArray(t)?o(t.map((e=>{let{id:t}=e;return{id:t,regular_price:r}}))):o({regular_price:r})}}),r()}},(0,w.__)("Set list price","woocommerce"))}function Ya(e){return e.endsWith("%")}function Xa(e){const t=e.substring(0,e.length-1);if(!Number.isNaN(Number(t)))return Number(t)}function Ka(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(Ya(t)){if(Number.isNaN(Number(e)))return 0;const r=Xa(t);return void 0===r?Number(e):Number(e)+Number(e)*(r/100)*o}if(Number.isNaN(Number(e))){if(Number.isNaN(Number(t)))return;return Number(t)}return Number(e)+Number(t)*o}function Qa(e){let{selection:t,onChange:o,onClose:r}=e;const n=Array.isArray(t)?t.map((e=>{let{id:t}=e;return t})):t.id;return(0,a.createElement)(l.Dropdown,{position:"middle right",renderToggle:e=>{let{isOpen:t,onToggle:o}=e;return(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_pricing_click",{source:N,variation_id:n}),o()},"aria-expanded":t,icon:$a,iconPosition:"right"},(0,w.__)("Pricing","woocommerce"))},renderContent:()=>(0,a.createElement)("div",{className:"components-dropdown-menu__menu"},(0,a.createElement)(l.MenuGroup,{label:(0,w.__)("List price","woocommerce")},(0,a.createElement)(Ja,{selection:t,onChange:o,onClose:r}),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_pricing_select",{source:N,action:"list_price_increase",variation_id:n}),Wa({message:(0,w.__)("Enter a value (fixed or %)","woocommerce"),onOk(e){var r;(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"list_price_increase",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o,regular_price:r}=t;var n;return{id:o,regular_price:null===(n=Ka(r,e))||void 0===n?void 0:n.toFixed(2)}}))):o({regular_price:null===(r=Ka(t.regular_price,e))||void 0===r?void 0:r.toFixed(2)})}}),r()}},(0,w.__)("Increase list price","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_pricing_select",{source:N,action:"list_price_decrease",variation_id:n}),Wa({message:(0,w.__)("Enter a value (fixed or %)","woocommerce"),onOk(e){var r;(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"list_price_increase",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o,regular_price:r}=t;var n;return{id:o,regular_price:null===(n=Ka(r,e,-1))||void 0===n?void 0:n.toFixed(2)}}))):o({regular_price:null===(r=Ka(t.regular_price,e,-1))||void 0===r?void 0:r.toFixed(2)})}}),r()}},(0,w.__)("Decrease list price","woocommerce"))),(0,a.createElement)(l.MenuGroup,{label:(0,w.__)("Sale price","woocommerce")},(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_pricing_select",{source:N,action:"sale_price_set",variation_id:n}),Wa({onOk(e){(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"sale_price_set",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o}=t;return{id:o,sale_price:e}}))):o({sale_price:e})}}),r()}},(0,w.__)("Set sale price","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_pricing_select",{source:N,action:"sale_price_increase",variation_id:n}),Wa({message:(0,w.__)("Enter a value (fixed or %)","woocommerce"),onOk(e){var r;(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"sale_price_increase",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o,sale_price:r}=t;var n;return{id:o,sale_price:null===(n=Ka(r,e))||void 0===n?void 0:n.toFixed(2)}}))):o({sale_price:null===(r=Ka(t.sale_price,e))||void 0===r?void 0:r.toFixed(2)})}}),r()}},(0,w.__)("Increase sale price","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_pricing_select",{source:N,action:"sale_price_decrease",variation_id:n}),Wa({message:(0,w.__)("Enter a value (fixed or %)","woocommerce"),onOk(e){var r;(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"sale_price_decrease",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o,sale_price:r}=t;var n;return{id:o,sale_price:null===(n=Ka(r,e,-1))||void 0===n?void 0:n.toFixed(2)}}))):o({sale_price:null===(r=Ka(t.sale_price,e,-1))||void 0===r?void 0:r.toFixed(2)})}}),r()}},(0,w.__)("Decrease sale price","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_pricing_select",{source:N,action:"sale_price_schedule",variation_id:n}),Wa({message:(0,w.__)("Sale start date (YYYY-MM-DD format or leave blank)","woocommerce"),onOk(e){(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"sale_price_schedule",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o}=t;return{id:o,date_on_sale_from_gmt:e}}))):o({date_on_sale_from_gmt:e})}}),Wa({message:(0,w.__)("Sale end date (YYYY-MM-DD format or leave blank)","woocommerce"),onOk(e){(0,I.recordEvent)("product_variations_menu_pricing_update",{source:N,action:"sale_price_schedule",variation_id:n}),Array.isArray(t)?o(t.map((t=>{let{id:o}=t;return{id:o,date_on_sale_to_gmt:e}}))):o({date_on_sale_to_gmt:e})}}),r()}},(0,w.__)("Schedule sale","woocommerce"))))})}function ei(e){let{selection:t,onChange:o,onClose:r}=e;function n(e){return"private"===e?"publish":"private"}return(0,a.createElement)(l.MenuItem,{onClick:function(){const e=Array.isArray(t)?t.map((e=>{let{id:t}=e;return t})):t.id;(0,I.recordEvent)("product_variations_menu_toggle_visibility_select",{source:N,action:"status_set",variation_id:e}),Array.isArray(t)?o(t.map((e=>{let{id:t,status:o}=e;return{id:t,status:n(o)}}))):o({status:n(t.status)}),(0,I.recordEvent)("product_variations_toggle_visibility_update",{source:N,action:"status_set",variation_id:e}),r()}},(0,w.__)("Toggle visibility","woocommerce"))}const ti="downloads_menu_item__upload_files_modal_wrapper";function oi(e){return{id:`${e.id}`,name:e.name,file:e.url}}function ri(e){let{selection:t,onChange:o,onClose:r}=e;const n=Array.isArray(t)?t.map((e=>{let{id:t}=e;return t})):t.id,i=(Array.isArray(t)?t[0].downloads:t.downloads).map((e=>{let{id:t}=e;return Number.parseInt(t,10)})),[c,s]=(0,a.useState)(!1);function m(e){const a={downloadable:!0,downloads:Array.isArray(e)?e.map(oi):oi(e)};Array.isArray(t)?o(t.map((e=>{let{id:t}=e;return{...a,id:t}}))):o(a),(0,I.recordEvent)("product_variations_menu_downloads_update",{source:N,action:"downloads_set",variation_id:n}),r()}function d(e,a){return function(){(0,I.recordEvent)("product_variations_menu_downloads_select",{source:N,action:`${e}_set`,variation_id:n}),Wa({message:a,onOk(r){Array.isArray(t)?o(t.map((t=>{let{id:o}=t;return{id:o,downloadable:!0,[e]:r}}))):o({downloadable:!0,[e]:r}),(0,I.recordEvent)("product_variations_menu_downloads_update",{source:N,action:`${e}_set`,variation_id:n})}}),s(!1),r()}}return(0,a.useEffect)((function(){const e=document.querySelector(".downloads_menu_item__upload_files_modal"),t=null==e?void 0:e.closest('[role="dialog"]'),o=null==t?void 0:t.parentElement;return null==o||o.classList.add(ti),()=>{null==o||o.classList.remove(ti)}}),[c]),(0,a.createElement)(l.Dropdown,{position:"middle right",renderToggle:e=>{let{isOpen:t,onToggle:o}=e;return(0,a.createElement)(l.MenuItem,{onClick:()=>{(0,I.recordEvent)("product_variations_menu_shipping_click",{source:N,variation_id:n}),o()},"aria-expanded":t,icon:$a,iconPosition:"right"},(0,w.__)("Downloads","woocommerce"))},renderContent:()=>(0,a.createElement)("div",{className:"components-dropdown-menu__menu"},(0,a.createElement)($e.MediaUpload,{modalClass:"downloads_menu_item__upload_files_modal",multiple:"add",value:i,onSelect:m,render:e=>{let{open:t}=e;return(0,a.createElement)(l.MenuItem,{onClick:(o=t,function(){(0,I.recordEvent)("product_variations_menu_downloads_select",{source:N,action:"downloads_set",variation_id:n}),o(),s(!0)})},(0,w.__)("Upload files","woocommerce"));var o}}),(0,a.createElement)(l.MenuItem,{onClick:d("download_limit",(0,w.__)("Leave blank for unlimited re-downloads","woocommerce"))},(0,w.__)("Set download limit","woocommerce")),(0,a.createElement)(l.MenuItem,{onClick:d("download_expiry",(0,w.__)("Enter the number of days before a download link expires, or leave blank","woocommerce"))},(0,w.__)("Set download expiry","woocommerce")))})}function ni(e){let{selection:t,onChange:o,onDelete:r}=e;return(0,a.createElement)(l.DropdownMenu,{icon:ce,label:(0,w.__)("Actions","woocommerce"),toggleProps:{onClick(){(0,I.recordEvent)("product_variations_menu_view",{source:N,variation_id:t.id})}}},(e=>{let{onClose:n}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.MenuGroup,{label:(0,w.sprintf)((0,w.__)("Variation Id: %s","woocommerce"),t.id)},(0,a.createElement)(l.MenuItem,{href:t.permalink,target:"_blank",rel:"noreferrer",onClick:()=>{(0,I.recordEvent)("product_variations_preview",{source:N,variation_id:t.id})}},(0,w.__)("Preview","woocommerce")),(0,a.createElement)(ei,{selection:t,onChange:o,onClose:n})),(0,a.createElement)(l.MenuGroup,null,(0,a.createElement)(Qa,{selection:t,onChange:o,onClose:n}),(0,a.createElement)(Za,{selection:t,onChange:o,onClose:n}),(0,a.createElement)(Ga,{selection:t,onChange:o,onClose:n}),window.wcAdminFeatures["product-virtual-downloadable"]&&(0,a.createElement)(ri,{selection:t,onChange:o,onClose:n})),(0,a.createElement)(l.MenuGroup,null,(0,a.createElement)(l.MenuItem,{isDestructive:!0,label:(0,w.__)("Delete variation","woocommerce"),variant:"link",onClick:()=>{r(t),n()},className:"woocommerce-product-variations__actions--delete"},(0,w.__)("Delete","woocommerce"))))}))}function ai(e){let{selection:t,disabled:o,onChange:r,onDelete:n}=e;return(0,a.createElement)(l.Dropdown,{position:"bottom left",renderToggle:e=>{let{isOpen:t,onToggle:r}=e;return(0,a.createElement)(l.Button,{disabled:o,"aria-expanded":t,icon:t?ho:go,variant:"secondary",onClick:r,className:"variations-actions-menu__toogle"},(0,a.createElement)("span",null,(0,w.__)("Quick update","woocommerce")))},renderContent:e=>{let{onClose:o}=e;return(0,a.createElement)("div",{className:"components-dropdown-menu__menu"},(0,a.createElement)(l.MenuGroup,null,(0,a.createElement)(qa,{selection:t,onChange:r,onClose:o}),(0,a.createElement)(Ja,{selection:t,onChange:r,onClose:o}),(0,a.createElement)(ei,{selection:t,onChange:r,onClose:o})),(0,a.createElement)(l.MenuGroup,null,(0,a.createElement)(Qa,{selection:t,onChange:r,onClose:o}),(0,a.createElement)(Za,{selection:t,onChange:r,onClose:o}),(0,a.createElement)(Ga,{selection:t,onChange:r,onClose:o}),window.wcAdminFeatures["product-virtual-downloadable"]&&(0,a.createElement)(ri,{selection:t,onChange:r,onClose:o})),(0,a.createElement)(l.MenuGroup,null,(0,a.createElement)(l.MenuItem,{isDestructive:!0,variant:"link",onClick:()=>{n(t),o()},className:"woocommerce-product-variations__actions--delete"},(0,w.__)("Delete","woocommerce"))))}})}function ii(e){let{width:t=24,height:o=24,className:r,...n}=e;return(0,a.createElement)("svg",{...n,width:t,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:re()(r,"woocommerce-hidden-icon")},(0,a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7226 6.2125C13.1641 6.0766 12.5883 6 11.9999 6C8.10055 6 4.75407 9.36447 3.31899 11.0546C2.8507 11.6061 2.8507 12.3939 3.31899 12.9454C4.17896 13.9582 5.72533 15.5723 7.66574 16.7033L8.41572 15.4043C8.13761 15.242 7.86389 15.0655 7.59553 14.8776C6.25019 13.9359 5.15775 12.7905 4.48406 12C5.15775 11.2095 6.25019 10.0641 7.59553 9.12235C8.96667 8.16257 10.4775 7.5 11.9999 7.5C12.3118 7.5 12.6231 7.5278 12.9329 7.58027L13.7226 6.2125ZM12.3504 8.58923C12.2352 8.57753 12.1182 8.57153 11.9999 8.57153C10.1063 8.57153 8.57132 10.1066 8.57132 12.0001C8.57132 12.7505 8.81237 13.4445 9.22126 14.0091L10.1233 12.4467C10.0893 12.3034 10.0713 12.1538 10.0713 12.0001C10.0713 11.1266 10.652 10.3888 11.4484 10.1515L12.3504 8.58923ZM12.8092 10.2491L13.5611 8.94679C14.6697 9.51479 15.4285 10.6688 15.4285 12.0001C15.4285 13.8937 13.8934 15.4287 11.9999 15.4287C11.3128 15.4287 10.6729 15.2266 10.1364 14.8785L10.8883 13.5763C11.2025 13.7983 11.5859 13.9287 11.9999 13.9287C13.065 13.9287 13.9285 13.0652 13.9285 12.0001C13.9285 11.224 13.4701 10.555 12.8092 10.2491ZM9.51376 15.957C10.3246 16.2986 11.1605 16.5 11.9999 16.5C13.5223 16.5 15.0331 15.8374 16.4043 14.8776C17.7496 13.9359 18.842 12.7905 19.5157 12C18.842 11.2095 17.7496 10.0641 16.4043 9.12235C15.6875 8.62066 14.9327 8.20018 14.1579 7.91308L14.917 6.59839C17.5164 7.64275 19.6204 9.80575 20.6808 11.0546C21.1491 11.6061 21.1491 12.3939 20.6808 12.9454C19.2457 14.6355 15.8992 18 11.9999 18C10.8611 18 9.76945 17.713 8.7588 17.2646L9.51376 15.957Z",fill:"currentColor"}),(0,a.createElement)("rect",{x:"16.0625",y:"4.61377",width:"1.22727",height:"16",transform:"rotate(30 16.0625 4.61377)",fill:"currentColor"}))}function ci(e){let{className:t,totalCount:o,perPageOptions:r=A,defaultPerPage:n=P,onPageChange:c,onPerPageChange:l}=e;const s=(0,i.usePagination)({defaultPerPage:n,totalCount:o,onPageChange:c,onPerPageChange:l});return(0,a.createElement)("div",{className:re()(t,"woocommerce-product-variations-pagination")},(0,a.createElement)("div",{className:"woocommerce-product-variations-pagination__info"},(0,w.sprintf)((0,w.__)("Viewing %d-%d of %d items","woocommerce"),s.start,s.end,o)),(0,a.createElement)("div",{className:"woocommerce-product-variations-pagination__current-page"},(0,a.createElement)(i.PaginationPageArrowsWithPicker,{...s})),(0,a.createElement)("div",{className:"woocommerce-product-variations-pagination__page-size"},(0,a.createElement)(i.PaginationPageSizePicker,{...s,total:o,perPageOptions:r,label:""})))}function li(e){let{onActionClick:t}=e;return(0,a.createElement)("div",{className:"woocommerce-variations-table-empty-state"},(0,a.createElement)(Ca,{className:"woocommerce-variations-table-empty-state__image","aria-hidden":"true"}),(0,a.createElement)("p",{className:"woocommerce-variations-table-empty-state__message"},(0,w.__)("No variations yet","woocommerce")),(0,a.createElement)("div",{className:"woocommerce-variations-table-empty-state__actions"},(0,a.createElement)(l.Button,{variant:"link",onClick:t},(0,w.__)("Generate from options","woocommerce"))))}const si=(0,w.__)("Not visible to customers","woocommerce");function mi(e){return(0,xe.getNewPath)({},`/product/${e.parent_id}/variation/${e.id}`,{})}const di=(0,a.forwardRef)((function(e,t){let{noticeText:o,noticeActions:r=[],noticeStatus:n="error",onNoticeDismiss:c=(()=>{}),onVariationTableChange:s=(()=>{})}=e;const[m,d]=(0,a.useState)(1),u=(0,a.useRef)(null),[p,_]=(0,a.useState)(P),[f,h]=(0,a.useState)({}),{areAllSelected:g,isSelected:b,hasSelection:y,onSelectAll:k,onSelectItem:C,onClearSelection:S}=function(){const[e,t]=(0,a.useState)({});function o(t){return Boolean(e[t])}return{selectedItems:e,areAllSelected:function(e){return e.every((e=>o(e)))},hasSelection:function(e){return e.some((e=>o(e)))},isSelected:o,onSelectItem:function(e){return function(o){t((t=>({...t,[e]:o})))}},onSelectAll:function(e){return function(o){const r=e.reduce(((e,t)=>({...e,[t]:o})),{});t(r)}},onClearSelection:function(){t({})}}}(),x=(0,K.useEntityId)("postType","product"),T=(0,a.useMemo)((()=>({product_id:x,page:m,per_page:p,order:"asc",orderby:"menu_order"})),[x,m,p]),A=(0,a.useContext)(O.CurrencyContext),{formatAmount:M}=A,{isLoading:R,latestVariations:L,isGeneratingVariations:B,totalCount:D}=(0,v.useSelect)((e=>{const{getProductVariations:t,getProductVariationsTotalCount:o,hasFinishedResolution:r,isGeneratingVariations:n}=e(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return{isLoading:!r("getProductVariations",[T]),isGeneratingVariations:n({product_id:T.product_id}),latestVariations:t(T),totalCount:o(T)}}),[T]),{updateProductVariation:V,deleteProductVariation:F,batchUpdateProductVariations:H,invalidateResolution:U}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{invalidateResolution:z}=(0,v.useDispatch)("core"),{generateProductVariations:j}=Sa(),[$]=(0,K.useEntityProp)("postType","product","attributes"),{createSuccessNotice:W,createErrorNotice:G}=(0,v.useDispatch)("core/notices");if(L&&L!==u.current&&(u.current=L),R&&null===u.current)return(0,a.createElement)("div",{className:"woocommerce-product-variations__loading"},(0,a.createElement)(l.Spinner,null),B&&(0,a.createElement)("span",null,(0,w.__)("Generating variations…","woocommerce")));if(!R&&!B&&0===D)return(0,a.createElement)(li,{onActionClick:function(){j($)}});const q=L||u.current,Z=q.map((e=>{let{id:t}=e;return t}));function J(e,t){if("id"in e){const e="update"===t?"updated":"deleted";return(0,w.sprintf)((0,w.__)("1 variation %s.","woocommerce"),e)}const{update:o=[],delete:r=[]}=e,n=o.length,a=r.length;return a>0?(0,w.sprintf)((0,w.__)("%s variations deleted.","woocommerce"),a):n>0?(0,w.sprintf)((0,w.__)("%s variations updated.","woocommerce"),n):""}function Y(e){H({product_id:x},{update:e}).then((e=>U("getProductVariations",[T]).then((()=>e)))).then((t=>{W(J(t)),s("update",e)})).catch((()=>{G((0,w.__)("Failed to update variations.","woocommerce"))}))}function X(e){H({product_id:x},{delete:e.map((e=>{let{id:t}=e;return t}))}).then((t=>(U("getProductVariations",[T]),z("getEntityRecord",["postType","product",x]),e.forEach((e=>{let{id:t}=e;z("getEntityRecord",["postType","product_variation",t])})),t))).then((e=>{W(J(e)),s("delete")})).catch((()=>{G((0,w.__)("Failed to delete variations.","woocommerce"))}))}function Q(e){const t=mi(e);return function(e){e.preventDefault(),(0,xe.navigateTo)({url:t})}}return(0,a.createElement)("div",{className:"woocommerce-product-variations",ref:t},(R||B)&&(0,a.createElement)("div",{className:"woocommerce-product-variations__loading"},(0,a.createElement)(l.Spinner,null),B&&(0,a.createElement)("span",null,(0,w.__)("Generating variations…","woocommerce"))),o&&(0,a.createElement)(l.Notice,{status:n,className:"woocommerce-product-variations__notice",onRemove:c,actions:r.map((e=>({...e,onClick:()=>{null==e||e.onClick(Y,X)}})))},o),D>0&&(0,a.createElement)("div",{className:"woocommerce-product-variations__header"},(0,a.createElement)("div",{className:"woocommerce-product-variations__selection"},(0,a.createElement)(l.CheckboxControl,{value:"all",checked:g(Z),indeterminate:!g(Z)&&y(Z),onChange:k(Z)})),(0,a.createElement)("div",{className:"woocommerce-product-variations__filters"},y(Z)&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.Button,{variant:"tertiary",onClick:()=>k(Z)(!0)},(0,w.__)("Select all","woocommerce")),(0,a.createElement)(l.Button,{variant:"tertiary",onClick:S},(0,w.__)("Clear selection","woocommerce")))),(0,a.createElement)("div",null,(0,a.createElement)(ai,{selection:q.filter((e=>b(e.id))),disabled:!y(Z),onChange:Y,onDelete:X}))),(0,a.createElement)(i.Sortable,{className:"woocommerce-product-variations__table"},q.map((e=>(0,a.createElement)(i.ListItem,{key:`${e.id}`},(0,a.createElement)("div",{className:"woocommerce-product-variations__selection"},(0,a.createElement)(l.CheckboxControl,{value:e.id,checked:b(e.id),onChange:C(e.id)})),(0,a.createElement)("div",{className:"woocommerce-product-variations__attributes"},e.attributes.map((e=>{const t=(0,a.createElement)(i.Tag,{id:e.id,className:"woocommerce-product-variations__attribute",key:e.id,label:Ha()(e.option,{length:32}),screenReaderLabel:e.option});return e.option.length<=32?t:(0,a.createElement)(l.Tooltip,{key:e.id,text:e.option,position:"top center"},(0,a.createElement)("span",null,t))}))),(0,a.createElement)("div",{className:re()("woocommerce-product-variations__price",{"woocommerce-product-variations__price--fade":"private"===e.status})},e.on_sale&&(0,a.createElement)("span",{className:"woocommerce-product-variations__sale-price"},M(e.sale_price)),(0,a.createElement)("span",{className:re()("woocommerce-product-variations__regular-price",{"woocommerce-product-variations__regular-price--on-sale":e.on_sale})},M(e.regular_price))),(0,a.createElement)("div",{className:re()("woocommerce-product-variations__quantity",{"woocommerce-product-variations__quantity--fade":"private"===e.status})},e.regular_price&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",{className:re()("woocommerce-product-variations__status-dot",ja(e))},"●"),za(e))),(0,a.createElement)("div",{className:"woocommerce-product-variations__actions"},("private"===e.status||!e.regular_price)&&(0,a.createElement)(l.Tooltip,{className:"woocommerce-attribute-list-item__actions-tooltip",position:"top center",text:si},(0,a.createElement)("div",{className:"woocommerce-attribute-list-item__actions-icon-wrapper"},(0,a.createElement)(ii,{className:"woocommerce-attribute-list-item__actions-icon-wrapper-icon"}))),(0,a.createElement)(l.Button,{href:mi(e),onClick:Q(e)},(0,w.__)("Edit","woocommerce")),(0,a.createElement)(ni,{selection:e,onChange:t=>function(e,t){f[e]||(h((t=>({...t,[e]:!0}))),V({product_id:x,id:e},t).then((e=>{W(J(e,"update"))})).catch((()=>{G((0,w.__)("Failed to save variation.","woocommerce"))})).finally((()=>{h((t=>({...t,[e]:!1}))),s("update",[t])})))}(e.id,t),onDelete:e=>{let{id:t}=e;var o;f[o=t]||(h((e=>({...e,[o]:!0}))),F({product_id:x,id:o}).then((e=>{(0,I.recordEvent)("product_variations_delete",{source:N}),W(J(e,"delete")),U("getProductVariations",[T]),z("getEntityRecord",["postType","product",x]),z("getEntityRecord",["postType","product_variation",o])})).finally((()=>{h((e=>({...e,[o]:!1}))),s("delete")})))}})))))),D>5&&(0,a.createElement)(ci,{className:"woocommerce-product-variations__footer",totalCount:D,onPageChange:d,onPerPageChange:_}))})),ui=()=>{const[e,t]=(0,a.useState)(!1),o=(0,K.useEntityId)("postType","product"),r=(0,a.useRef)(),n=(0,a.useMemo)((()=>({product_id:o,page:1,per_page:P,order:"asc",orderby:"menu_order"})),[o]),{totalCount:c}=(0,v.useSelect)((e=>{const{getProductVariationsTotalCount:t}=e(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return{totalCount:t(n)}}),[o]),{updateUserPreferences:l,variable_product_block_tour_shown:s}=(0,E.useUserPreferences)(),m={placement:"top",steps:[{referenceElements:{desktop:".wp-block-woocommerce-product-variation-items-field"},focusElement:{desktop:".wp-block-woocommerce-product-variation-items-field"},meta:{name:"product-variations-2",heading:(0,w.__)("⚡️ This product now has variations","woocommerce"),descriptions:{desktop:(0,w.__)("From now on, you’ll manage pricing, shipping, and inventory for each variation individually—just like any other product in your store.","woocommerce")},primaryButton:{text:(0,w.__)("Got it","woocommerce")}}}],options:{classNames:["variation-items-product-tour"],effects:{arrowIndicator:!0,spotlight:{interactivity:{enabled:!0}}},callbacks:{onStepViewOnce:()=>{(0,I.recordEvent)("variable_product_block_tour_shown",{variable_count:c})}},popperModifiers:[{name:"offset",options:{offset:[0,32]}}]},closeHandler:()=>{l({variable_product_block_tour_shown:"yes"}),t(!1),(0,I.recordEvent)("variable_product_block_tour_dismissed")}};return(0,a.useEffect)((()=>{const o=r.current!==c&&c>0&&0===r.current;r.current=c,o&&!e&&t(!0)}),[c]),"yes"!==s&&e?(0,a.createElement)(i.TourKit,{config:m}):null},{name:pi,..._i}=Ba,fi={example:{},edit:function(e){let{attributes:t,context:o}=e;const r=(0,a.useRef)(!1),{invalidateResolution:n}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),i=(0,K.useEntityId)("postType","product"),c=(0,et.useWooBlockProps)(t),[l]=(0,K.useEntityProp)("postType","product","status"),s=(0,a.useMemo)((()=>({product_id:i,order:"asc",orderby:"menu_order",has_price:!1})),[i]),{totalCountWithoutPrice:m}=(0,v.useSelect)((e=>{const{getProductVariationsTotalCount:t}=e(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return{totalCountWithoutPrice:t(s)}}),[i]),{updateUserPreferences:d,variable_items_without_price_notice_dismissed:u}=(0,E.useUserPreferences)(),{ref:p}=Jo("variations",(async function(e,t){if(m>0&&!r.current&&"publish"!==l&&"publish"===(null==t?void 0:t.status))return"yes"!==u&&d({variable_items_without_price_notice_dismissed:{...u||{},[i]:"no"}}),(0,w.__)("Set variation prices before adding this product.","woocommerce")}),[m]),_=!u||"yes"!==u[i],f=m>0&&_?(0,w.sprintf)((0,w.__)("%d variations do not have prices. Variations that do not have prices will not be visible to customers.","woocommerce"),m):"";return(0,a.createElement)("div",{...c},(0,a.createElement)(di,{ref:p,noticeText:f,onNoticeDismiss:()=>{r.current=!0,d({variable_items_without_price_notice_dismissed:{...u||{},[i]:"yes"}})},noticeActions:[{label:(0,w.__)("Set prices","woocommerce"),onClick:function(e){(0,I.recordEvent)("product_variations_set_prices_select",{source:N});const t=(0,v.resolveSelect)(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME).getProductVariations({product_id:i,order:"asc",orderby:"menu_order",has_price:!1,_fields:["id"],per_page:m});Wa({onOk(o){(0,I.recordEvent)("product_variations_set_prices_update",{source:N}),t.then((t=>{e(t.map((e=>{let{id:t}=e;return{id:t,regular_price:o}})))}))}})},className:"is-destructive"}],onVariationTableChange:(e,t)=>{("delete"===e||"update"===e&&t&&t.find((e=>"regular_price"in e||"sale_price"in e)))&&n("getProductVariationsTotalCount",[s])}}),o.isInSelectedTab&&(0,a.createElement)(ui,null))}};function hi(){return ot({name:pi,metadata:_i,settings:fi})}const gi=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-variations-options-field","title":"Product variations options","category":"woocommerce","description":"The product variations options.","keywords":["products","variations"],"textdomain":"default","attributes":{"description":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),{name:vi,...wi}=gi,bi={example:{},edit:function(e){let{attributes:t}=e;const o=(0,et.useWooBlockProps)(t),{generateProductVariations:r}=Sa(),{updateUserPreferences:n,product_block_variable_options_notice_dismissed:c}=(0,E.useUserPreferences)(),[l,s]=(0,K.useEntityProp)("postType","product","attributes"),[m,d]=(0,K.useEntityProp)("postType","product","default_attributes"),{attributes:u,handleChange:p}=va({allAttributes:l,isVariationAttributes:!0,productId:(0,K.useEntityId)("postType","product"),onChange(e,t){s(e),d(t),r(e,t)}}),_=u.filter((e=>0===e.id)).map((e=>e.name));let f="";return _.length>0&&"yes"!==c&&(f=(0,a.createInterpolateElement)((0,w.__)("Buyers can’t search or filter by <attributeNames /> to find the variations. Consider adding them again as <globalAttributeLink>global attributes</globalAttributeLink> to make them easier to discover.","woocommerce"),{attributeNames:(0,a.createElement)("span",null,2===_.length?_.join((0,w.__)(" and ","woocommerce")):_.join(", ")),globalAttributeLink:(0,a.createElement)(i.Link,{href:"https://woocommerce.com/document/variable-product/#add-attributes-to-use-for-variations",type:"external",target:"_blank"})})),(0,a.createElement)("div",{...o},(0,a.createElement)(fa,{value:(0,a.useMemo)((function(){return u.map((e=>({...e,isDefault:m.some((t=>t.id===e.id||t.name===e.name))})))}),[u,m]),onAdd:()=>{(0,I.recordEvent)("product_options_modal_add_button_click")},onChange:p,createNewAttributesAsGlobal:!0,useRemoveConfirmationModal:!0,onNoticeDismiss:()=>n({product_block_variable_options_notice_dismissed:"yes"}),onAddAnother:()=>{(0,I.recordEvent)("product_add_options_modal_add_another_option_button_click")},onNewModalCancel:()=>{(0,I.recordEvent)("product_options_modal_cancel_button_click")},onNewModalOpen:()=>{(0,I.recordEvent)("product_options_add_option")},onRemoveItem:()=>{(0,I.recordEvent)("product_add_options_modal_remove_option_button_click")},onRemove:()=>(0,I.recordEvent)("product_remove_option_confirmation_confirm_click"),onRemoveCancel:()=>(0,I.recordEvent)("product_remove_option_confirmation_cancel_click"),disabledAttributeIds:l.filter((e=>!e.variation)).map((e=>e.id)),termsAutoSelection:"all",uiStrings:{notice:f,globalAttributeHelperMessage:"",customAttributeHelperMessage:"",newAttributeModalNotice:"",newAttributeModalTitle:(0,w.__)("Add variation options","woocommerce"),newAttributeModalDescription:(0,w.__)("Select from existing attributes or create new ones to add new variations for your product. You can change the order later.","woocommerce"),attributeRemoveLabel:(0,w.__)("Remove variation option","woocommerce"),attributeRemoveConfirmationModalMessage:(0,w.__)("If you continue, some variations of this product will be deleted and customers will no longer be able to purchase them.","woocommerce")}}))}};function Ei(){return ot({name:vi,metadata:wi,settings:bi})}const yi=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-single-variation-notice","title":"Notice","category":"woocommerce","description":"Notice description","keywords":["products","notice"],"textdomain":"default","attributes":{"title":{"type":"string"},"content":{"type":"string"},"isDismissible":{"type":"boolean"},"type":{"type":"string"}},"supports":{"align":false,"html":true,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","templateLock":"contentOnly"}');const{name:ki,...Ci}=yi,Si={example:{},edit:function(e){let{attributes:t}=e;const o=(0,et.useWooBlockProps)(t),{content:r,isDismissible:n,title:c,type:l="info"}=t,[s]=(0,K.useEntityProp)("postType","product_variation","parent_id"),{dismissedNotices:m,dismissNotice:d,isResolving:u}=function(){const{updateOptions:e}=(0,v.useDispatch)(E.OPTIONS_STORE_NAME),{dismissedNotices:t,isResolving:o}=(0,v.useSelect)((e=>{const{getOption:t,hasFinishedResolution:o}=e(E.OPTIONS_STORE_NAME);return{dismissedNotices:t(C)||[],isResolving:!o("getOption",[C])}}),[]);return{dismissedNotices:t,dismissNotice:async t=>{const{dismissedNoticesOption:o}=await(async()=>{const{getOption:e}=(0,v.resolveSelect)(E.OPTIONS_STORE_NAME);return{dismissedNoticesOption:await e(C)||[]}})();e({[C]:[...o,t]})},isResolving:o}}(),{parentName:p,isParentResolving:_}=(0,v.useSelect)((e=>{const{getEditedEntityRecord:t,hasFinishedResolution:o}=e("core"),{name:r}=t("postType","product",s);return{parentName:r||"",isParentResolving:!o("getEditedEntityRecord",["postType","product",s])}}));return m.includes(s)||u||_||""===p?null:(0,a.createElement)("div",{...o},(0,a.createElement)(ta,{title:c,type:l,isDismissible:n,handleDismiss:()=>{(0,I.recordEvent)("product_single_variation_notice_dismissed"),d(s)}},(0,a.createInterpolateElement)(r,{strong:(0,a.createElement)("strong",null),noticeLink:(0,a.createElement)(i.Link,{href:(0,xe.getNewPath)({tab:"variations"},`/product/${s}`),onClick:()=>{(0,I.recordEvent)("product_single_variation_notice_click")}}),parentProductName:(0,a.createElement)("span",null,p)})))}};function xi(){return ot({name:ki,metadata:Ci,settings:Si})}const Ti=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-has-variations-notice","title":"Notice","category":"woocommerce","description":"Notice description","keywords":["products","notice"],"textdomain":"default","attributes":{"title":{"type":"string"},"content":{"type":"string"},"buttonText":{"type":"string"},"type":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","templateLock":"contentOnly"}'),{name:Ni,...Pi}=Ti,Ai={example:{},edit:function(e){let{attributes:t}=e;const o=(0,et.useWooBlockProps)(t),{buttonText:r,content:n,title:i,type:c="info"}=t,[s]=(0,K.useEntityProp)("postType","product","attributes"),m=xa(s);return(0,a.createElement)("div",{...o},m&&(0,a.createElement)(ta,{content:n,title:i,type:c},(0,a.createElement)(l.Button,{isSecondary:!0,onClick:()=>(0,xe.navigateTo)({url:(0,xe.getNewPath)({tab:"variations"})})},r)))}};function Ii(){return ot({name:Ni,metadata:Pi,settings:Ai})}const Mi=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-taxonomy-field","title":"Taxonomy","category":"widgets","description":"A block that displays a taxonomy field, allowing searching, selection, and creation of new items","keywords":["taxonomy"],"textdomain":"default","attributes":{"slug":{"type":"string","__experimentalRole":"content"},"property":{"type":"string","__experimentalRole":"content"},"label":{"type":"string","__experimentalRole":"content"},"createTitle":{"type":"string","__experimentalRole":"content"},"dialogNameHelpText":{"type":"string","__experimentalRole":"content"},"parentTaxonomyText":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');async function Ri(e,t){const o=[],r={};return e.forEach((e=>{r[e.id]=e})),e.forEach((e=>{e.parent>0&&!r[e.parent]&&o.push(e.parent)})),o.length>0?(0,v.resolveSelect)("core").getEntityRecords("taxonomy",t,{include:o}).then((o=>Ri([...o,...e],t))):e}const Oi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fetchParents:!0};const[o,r]=(0,a.useState)(!1);async function n(o){r(!0);let n=[];try{n=await(0,v.resolveSelect)("core").getEntityRecords("taxonomy",e,{per_page:30,search:(0,i.escapeHTML)(o)}),(null==t?void 0:t.fetchParents)&&(n=await Ri(n,e))}finally{r(!1)}return n}return{searchEntity:n,isResolving:o}},Li=e=>{let{onCancel:t,onCreate:o,initialName:r,slug:n,hierarchical:c,dialogNameHelpText:s,parentTaxonomyText:m,title:d}=e;const[u,p]=(0,a.useState)(""),[_,f]=(0,a.useState)([]),{searchEntity:h,isResolving:g}=Oi(n),b=(0,ne.useDebounce)((0,a.useCallback)((e=>h(e||"").then(f)),[]),150);(0,a.useEffect)((()=>{b("")}),[]);const{saveEntityRecord:E}=(0,v.useDispatch)("core"),[y,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(null),[x,T]=(0,a.useState)(r||""),[N,P]=(0,a.useState)(null),A=(0,ne.useInstanceId)(l.BaseControl,"taxonomy_name"),I=(0,ne.useInstanceId)(i.__experimentalSelectTreeControl,"parent-taxonomy-select");return(0,a.createElement)(l.Modal,{title:d,onRequestClose:t,className:"woocommerce-create-new-taxonomy-modal"},(0,a.createElement)("div",{className:"woocommerce-create-new-taxonomy-modal__wrapper"},(0,a.createElement)(l.BaseControl,{id:A,label:(0,w.__)("Name","woocommerce"),help:C||s,className:re()({"has-error":C})},(0,a.createElement)(l.TextControl,{id:A,value:x,onChange:T})),c&&(0,a.createElement)(i.__experimentalSelectTreeControl,{isLoading:g,label:(0,a.createInterpolateElement)(`${m||(0,w.__)("Parent","woocommerce")} <optional/>`,{optional:(0,a.createElement)("span",{className:"woocommerce-create-new-taxonomy-modal__optional"},(0,w.__)("(optional)","woocommerce"))}),id:I,items:_.map((e=>({label:e.name,value:String(e.id),parent:e.parent>0?String(e.parent):void 0}))),shouldNotRecursivelySelect:!0,selected:N?{value:String(N.id),label:N.name}:void 0,onSelect:e=>e&&P({id:+e.value,name:e.label,parent:e.parent?+e.parent:0}),onRemove:()=>P(null),onInputChange:e=>{b(e),p(e||"")},createValue:u}),(0,a.createElement)("div",{className:"woocommerce-create-new-taxonomy-modal__buttons"},(0,a.createElement)(l.Button,{variant:"tertiary",onClick:t,disabled:y},(0,w.__)("Cancel","woocommerce")),(0,a.createElement)(l.Button,{variant:"primary",disabled:0===x.length||y,isBusy:y,onClick:async()=>{S(null),k(!0);try{const e=await E("taxonomy",n,{name:x,parent:N?N.id:null},{throwOnError:!0});k(!1),o(e)}catch(e){if(k(!1),!e.message)throw S((0,w.__)("Failed to create taxonomy","woocommerce")),e;S(e.message)}}},(0,w.__)("Create","woocommerce")))))},{name:Bi}=Mi,Di={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const r=(0,et.useWooBlockProps)(t),{hierarchical:n}=(0,v.useSelect)((e=>e("core").getTaxonomy(t.slug)||{hierarchical:!1})),{label:c,slug:l,property:s,createTitle:m,dialogNameHelpText:d,parentTaxonomyText:u}=t,[p,_]=(0,a.useState)(""),[f,h]=(0,a.useState)([]),{searchEntity:g,isResolving:w}=Oi(l,{fetchParents:n}),b=(0,ne.useDebounce)((0,a.useCallback)((e=>{_(e),g(e||"").then(h)}),[n]),150);(0,a.useEffect)((()=>{b("")}),[]);const[E,y]=lt(s,{postType:o,fallbackValue:[]}),k=(E||[]).map((e=>({value:String(e.id),label:e.name}))),[C,S]=(0,a.useState)(!1),x=f.map((e=>({parent:n&&e.parent&&e.parent>0?String(e.parent):void 0,label:e.name,value:String(e.id)})));return(0,a.createElement)("div",{...r},(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.__experimentalSelectTreeControl,{id:(0,ne.useInstanceId)(i.__experimentalSelectTreeControl,"woocommerce-taxonomy-select"),label:c,isLoading:w,multiple:!0,createValue:p,onInputChange:b,shouldNotRecursivelySelect:!0,shouldShowCreateButton:e=>!e||-1===x.findIndex((t=>t.label.toLowerCase()===e.toLowerCase())),onCreateNew:()=>S(!0),items:x,selected:k,onSelect:e=>{Array.isArray(e)?y([...e.map((e=>({id:+e.value,name:e.label,parent:+(e.parent||0)}))),...E||[]]):y([{id:+e.value,name:e.label,parent:+(e.parent||0)},...E||[]])},onRemove:e=>{Array.isArray(e)?y((E||[]).filter((t=>!e.find((e=>e.value===String(t.id)))))):y((E||[]).filter((t=>String(t.id)!==e.value)))}}),C&&(0,a.createElement)(Li,{slug:l,hierarchical:n,title:m,dialogNameHelpText:d,parentTaxonomyText:u,onCancel:()=>S(!1),onCreate:e=>{S(!1),_(""),y([{id:e.id,name:e.name,parent:e.parent},...E||[]])},initialName:p})))}},Vi=()=>ot({name:Bi,metadata:Mi,settings:Di}),Fi=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-text-field","title":"Product text field","category":"woocommerce","description":"A text field for use in the product editor.","keywords":["products","text"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"property":{"type":"string"},"placeholder":{"type":"string"},"required":{"type":"boolean","default":false},"validationRegex":{"type":"string"},"validationErrorMessage":{"type":"string"},"minLength":{"type":"number"},"maxLength":{"type":"number"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),{name:Hi,...Ui}=Fi,zi={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const r=(0,et.useWooBlockProps)(t),{property:n,label:i,placeholder:c,required:s,validationRegex:m,validationErrorMessage:d,minLength:u,maxLength:p}=t,[_,f]=lt(n,{postType:o,fallbackValue:""}),h=(0,ne.useInstanceId)(l.BaseControl,n),{error:g,validate:v}=Jo(n,(async function(){return"string"!=typeof _?(0,w.__)("Unexpected property type assigned to field.","woocommerce"):s&&!_?(0,w.__)("This field is required.","woocommerce"):m&&!new RegExp(m).test(_)?d||(0,w.__)("Invalid value for the field.","woocommerce"):"number"==typeof u&&_.length<u?(0,w.sprintf)((0,w.__)("The minimum length of the field is %d","woocommerce"),u):"number"==typeof p&&_.length>p?(0,w.sprintf)((0,w.__)("The maximum length of the field is %d","woocommerce"),p):void 0}),[_]);return(0,a.createElement)("div",{...r},(0,a.createElement)(l.BaseControl,{id:h,label:s?(0,a.createInterpolateElement)(`${i} <required/>`,{required:(0,a.createElement)("span",{className:"woocommerce-product-form__required-input"},(0,w.__)("*","woocommerce"))}):i,className:re()({"has-error":g}),help:g},(0,a.createElement)(l.__experimentalInputControl,{id:h,placeholder:c,value:_,onChange:f,onBlur:v})))}},ji=()=>ot({name:Hi,metadata:Ui,settings:zi}),$i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-number-field","title":"Product number control","category":"woocommerce","description":"A reusable number field for the product editor.","keywords":["products","number","input"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"property":{"type":"string"},"suffix":{"type":"string"},"help":{"type":"string"},"placeholder":{"type":"string"},"min":{"type":"number"},"max":{"type":"number"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),Wi=e=>{let{value:t,onChange:o,label:r,suffix:n,help:i,error:c,onBlur:s,placeholder:m}=e;const d=Po({value:t||"",onChange:o}),u=(0,ne.useInstanceId)(l.BaseControl,"product_number_field");return(0,a.createElement)(l.BaseControl,{className:re()({"has-error":c}),id:u,label:r,help:c||i},(0,a.createElement)(l.__experimentalInputControl,{...d,id:u,suffix:n,placeholder:m,onBlur:s}))},{name:Gi,...qi}=$i,Zi={example:{},edit:function(e){let{attributes:t,context:{postType:o}}=e;const r=(0,et.useWooBlockProps)(t),{label:n,property:i,suffix:c,placeholder:l,help:s,min:m,max:d}=t,[u,p]=lt(i,{postType:o,fallbackValue:""}),{error:_,validate:f}=Jo(i,(async function(){return"number"==typeof m&&u&&parseFloat(u)<m?(0,w.sprintf)((0,w.__)("Value must be greater than or equal to %d","woocommerce"),m):"number"==typeof d&&u&&parseFloat(u)>d?(0,w.sprintf)((0,w.__)("Value must be less than or equal to %d","woocommerce"),d):void 0}),[u]);return(0,a.createElement)("div",{...r},(0,a.createElement)(Wi,{label:n,onChange:p,value:u||"",help:s,suffix:c,placeholder:l,error:_,onBlur:f}))}},Ji=()=>ot({name:Gi,metadata:qi,settings:Zi});function Yi(){const e=(0,Ke.__experimentalGetCoreBlocks)().filter((e=>!(0,j.getBlockType)(e.name)));(0,Ke.registerCoreBlocks)(e);const t=Object.values(n).map((e=>e())),o=[...e,...t];return function(){o.forEach((e=>e&&(0,j.unregisterBlockType)(e.name)))}}function Xi(e){let{clientId:t}=e;const o=(0,v.useSelect)((e=>{const{getBlockAttributes:o,getBlockName:r}=e("core/block-editor"),n=o(t);if(null==n?void 0:n.icon)return n.icon;const{getBlockType:a}=e("core/blocks"),i=a(r(t));return null==i?void 0:i.icon}),[t]);if(!o)return null;if("object"==typeof o){const{src:e,...t}=o;if(/^<(.)+>$/.test(e)){const o=(0,a.createElement)(a.RawHTML,{"aria-hidden":"true",...t},e);return(0,a.createElement)(We.BlockIcon,{icon:o,showColors:!0})}if(/^https?:\/\/(.)+/.test(e)){const o=(0,a.createElement)("img",{src:e,alt:"","aria-hidden":"true",...t,height:24,width:24});return(0,a.createElement)(We.BlockIcon,{icon:o,showColors:!0})}}return(0,a.createElement)(We.BlockIcon,{icon:o,showColors:!0})}const Ki=window.wc.customerEffortScore,Qi=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());function ec(e){let{productType:t}=e;const{hideFeedbackBar:o,shouldShowFeedbackBar:r}=De(),{showCesModal:n,showProductMVPFeedbackModal:c}=(0,Ki.useCustomerEffortScoreModal)(),s=()=>({product_type:t});return(0,a.createElement)(a.Fragment,null,r&&(0,a.createElement)("div",{className:"woocommerce-product-mvp-ces-footer"},(0,a.createElement)(i.Pill,null,"Beta"),(0,a.createElement)("div",{className:"woocommerce-product-mvp-ces-footer__message"},(0,a.createInterpolateElement)((0,w.__)("How is your experience with the new product form? <span><shareButton>Share feedback</shareButton> or <turnOffButton>turn it off</turnOffButton></span>","woocommerce"),{span:(0,a.createElement)("span",{className:"woocommerce-product-mvp-ces-footer__message-buttons"}),shareButton:(0,a.createElement)(l.Button,{variant:"link",onClick:()=>{(0,I.recordEvent)("product_editor_feedback_bar_share_feedback_click",{...s()}),n({action:"product_editor",showDescription:!1,title:(0,w.__)("What do you think of the new product form?","woocommerce"),firstQuestion:(0,w.__)("The product editing screen is easy to use","woocommerce"),secondQuestion:(0,w.__)("Product form is easy to use","woocommerce"),onsubmitLabel:(0,w.__)("Thanks for the feedback — we'll put it to good use!","woocommerce"),shouldShowComments:()=>!1,getExtraFieldsToBeShown:(e,t,o)=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.BaseControl,{id:"feedback_additional_thoughts",className:"woocommerce-product-feedback__additional-thoughts",label:(0,a.createInterpolateElement)((0,w.__)("ADDITIONAL THOUGHTS <optional />","woocommerce"),{optional:(0,a.createElement)("span",{className:"woocommerce-product-feedback__optional-input"},(0,w.__)("(OPTIONAL)","woocommerce"))})},(0,a.createElement)(l.TextareaControl,{value:e.additional_thoughts||"",onChange:o=>t({...e,additional_thoughts:o}),help:(null==o?void 0:o.additional_thoughts)||""})),(0,a.createElement)(l.BaseControl,{id:"feedback_email",className:"woocommerce-product-feedback__email",label:(0,a.createInterpolateElement)((0,w.__)("YOUR EMAIL ADDRESS <optional />","woocommerce"),{optional:(0,a.createElement)("span",{className:"woocommerce-product-feedback__optional-input"},(0,w.__)("(OPTIONAL)","woocommerce"))})},(0,a.createElement)(l.TextControl,{value:e.email||"",onChange:o=>t({...e,email:o}),help:(null==o?void 0:o.email)||""}),(0,a.createElement)("span",null,(0,w.__)("In case you want to participate in further discussion and future user research.","woocommerce")))),validateExtraFields:e=>{let{email:t="",additional_thoughts:o=""}=e;const r={};return t.length>0&&!Qi(t)&&(r.email=(0,w.__)("Please enter a valid email address.","woocommerce")),(null==o?void 0:o.length)>500&&(r.additional_thoughts=(0,w.__)("Please enter no more than 500 characters.","woocommerce")),r}},{},{type:"snackbar"})}}),turnOffButton:(0,a.createElement)(l.Button,{onClick:()=>{(0,I.recordEvent)("product_editor_feedback_bar_turnoff_editor_click",{...s()}),o(),c()},variant:"link"})})),(0,a.createElement)(l.Button,{className:"woocommerce-product-mvp-ces-footer__close-button",icon:oo,label:(0,w.__)("Hide this message","woocommerce"),onClick:()=>{(0,I.recordEvent)("product_editor_feedback_bar_dismiss_click",{...s()}),o()}})))}var tc=o(7862),oc=o.n(tc);const rc=window.wc.experimental;function nc(e){let{recordScoreCallback:t,onCloseModal:o}=e;const[r,n]=(0,a.useState)(!1),[i,c]=(0,a.useState)(!1),[s,m]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[p,_]=(0,a.useState)(!1),f=[{key:"missing-features",label:(0,w.__)("Missing features","woocommerce"),checked:r,onChange:n},{key:"missing-plugins",label:(0,w.__)("Missing plugins","woocommerce"),checked:i,onChange:c},{key:"difficult-to-use",label:(0,w.__)("It's difficult to use","woocommerce"),checked:s,onChange:m},{key:"slow-buggy-or-broken",label:(0,w.__)("It's slow, buggy, or broken","woocommerce"),checked:d,onChange:u},{key:"other",label:(0,w.__)("Other (describe below)","woocommerce"),checked:p,onChange:_}],[h,g]=(0,a.useState)(""),[b,E]=(0,a.useState)(""),y=f.filter((e=>e.checked)).map((e=>e.key)),{createSuccessNotice:k}=(0,v.useDispatch)("core/notices"),C=(0,a.createElement)("span",{className:"woocommerce-product-mvp-feedback-modal__optional"},(0,w.__)("(optional)","woocommerce"));return(0,a.createElement)(Ki.FeedbackModal,{title:(0,w.__)("Thanks for trying out the new product form!","woocommerce"),onSubmit:()=>{t(y,h,b),k((0,w.__)("Thanks for the feedback — we'll put it to good use!","woocommerce"))},onModalClose:o,isSubmitButtonDisabled:!y.length,submitButtonLabel:(0,w.__)("Send","woocommerce"),cancelButtonLabel:(0,w.__)("Skip","woocommerce"),className:"woocommerce-product-mvp-feedback-modal"},(0,a.createElement)(a.Fragment,null,(0,a.createElement)(rc.Text,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px"}),(0,a.createElement)("fieldset",{className:"woocommerce-product-mvp-feedback-modal__reason"},(0,a.createElement)("legend",null,(0,w.__)("What made you turn off the new product form?","woocommerce")),(0,a.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__checkboxes"},f.map(((e,t)=>(0,a.createElement)(l.CheckboxControl,{key:t,label:e.label,name:e.key,checked:e.checked,onChange:e.onChange}))))),(0,a.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__comments"},(0,a.createElement)(l.TextareaControl,{label:(0,a.createInterpolateElement)((0,w.__)("Additional thoughts <optional/>","woocommerce"),{optional:C}),value:h,onChange:e=>g(e),rows:5})),(0,a.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__email"},(0,a.createElement)(l.TextControl,{label:(0,a.createInterpolateElement)((0,w.__)("Your email address <optional/>","woocommerce"),{optional:C}),value:b,onChange:e=>E(e),rows:5,help:(0,w.__)("In case you want to participate in further discussion and future user research.","woocommerce")}))))}nc.propTypes={recordScoreCallback:oc().func.isRequired,onCloseModal:oc().func};const ac=e=>{let{productId:t}=e;const{values:o}=(0,i.useFormContext)(),{hideProductMVPFeedbackModal:r}=(0,v.useDispatch)(Ki.STORE_KEY),{isProductMVPModalVisible:n}=(0,v.useSelect)((e=>{const{isProductMVPFeedbackModalVisible:t}=e(Ki.STORE_KEY);return{isProductMVPModalVisible:t()}})),c=null!=t?t:null==o?void 0:o.id,{_feature_nonce:l}=(0,Zo.getSetting)("admin",{}),s=c?(0,Zo.getAdminLink)(`post.php?post=${c}&action=edit&product_block_editor=0&_feature_nonce=${l}`):(0,Zo.getAdminLink)(`post-new.php?post_type=product&product_block_editor=0&_feature_nonce=${l}`);return n?(0,a.createElement)(nc,{recordScoreCallback:(e,t,o)=>{(0,I.recordEvent)("product_mvp_feedback",{action:"disable",checked:e,comments:t||"",email:o}),r(),window.location.href=`${s}&new-product-experience-disabled=true`},onCloseModal:()=>{(0,I.recordEvent)("product_mvp_feedback",{action:"disable",checked:"",comments:""}),r(),window.location.href=s}}):null},ic=(0,a.createElement)(ie.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(ie.Path,{d:"M14.3 6.7l-1.1 1.1 4 4H4v1.5h13.3l-4.1 4.4 1.1 1.1 5.8-6.3z"}));function cc(e){let{position:t}=e;return(0,a.createElement)(l.Button,{"data-testid":"woocommerce-product-variation-switcher-footer-placeholder",className:"woocommerce-product-variation-switcher-footer__button is-placeholder",disabled:!0},"left"===t&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Ce,{icon:It,size:16,className:"woocommerce-product-variation-switcher-footer__arrow"}),(0,a.createElement)("div",{className:"woocommerce-product-variation-switcher-footer__product-image"})),(0,a.createElement)("div",{className:"woocommerce-product-variation-switcher-footer__item-label"}),"right"===t&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"woocommerce-product-variation-switcher-footer__product-image"}),(0,a.createElement)(Ce,{icon:ic,size:16,className:"woocommerce-product-variation-switcher-footer__arrow"})))}function lc(e){let{className:t}=e;return(0,a.createElement)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,style:{borderRadius:"3px",background:"var(--wp-gray-gray-0, #F6F7F7)"}},(0,a.createElement)("g",{clipPath:"url(#clip0_7819_478402)"},(0,a.createElement)("path",{d:"M22.9869 7.07134C19.8275 7.07134 17.9977 7.62377 16.9543 8.85386C17.6297 6.47326 18.8776 4.68605 21.1572 3.06738C18.4558 3.41616 16.8877 4.44261 16.1282 5.91147C15.3688 4.44378 13.8007 3.41733 11.0993 3.06738C13.3789 4.68605 14.6268 6.47209 15.3021 8.85386C14.2587 7.62377 12.429 7.07134 9.26953 7.07134C13.0354 8.83982 14.4761 10.263 15.7029 12.8133H16.5524C17.7792 10.263 19.2211 8.83982 22.9858 7.07134H22.9869Z",fill:"#BBBBBB"}),(0,a.createElement)("path",{d:"M18.6464 34.8438C19.8718 34.3897 24.3648 33.3925 24.3648 29.0402C24.3648 26.4551 22.0269 24.5052 19.3727 24.0527C20.5536 23.6669 22.278 21.9488 22.278 20.0211C22.278 17.5377 20.0307 16.5469 18.1934 16.1626C18.1934 15.5957 20.2357 12.6709 20.2357 12.6709H11.7932C11.7932 12.6709 13.8355 15.5957 13.8355 16.1626C11.9966 16.5485 9.75086 17.5377 9.75086 20.0211C9.75086 21.9488 11.4753 23.6669 12.6562 24.0527C10.0004 24.5068 7.66406 26.4567 7.66406 29.0402C7.66406 33.3941 12.1571 34.3913 13.3825 34.8438C10.4772 35.1154 9.02453 36.2491 8.79885 37.1558H23.2316C23.0043 36.2491 21.5517 35.1154 18.648 34.8438H18.6464Z",fill:"#DDDDDD"})),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:"clip0_7819_478402"},(0,a.createElement)("rect",{width:"34.0881",height:"25.9994",fill:"white",transform:"translate(-1)"}))))}function sc(e){let{variationId:t,parentId:o,parentProductType:r}=e;const{invalidateResolution:n}=(0,v.useDispatch)("core"),{invalidateResolutionForStoreSelector:a}=(0,v.useDispatch)(E.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),i=(0,v.useSelect)((e=>{if(void 0===o)return{};const{getEntityRecord:n}=e("core"),a=n("postType",r||"product",o);if(void 0!==t&&a&&a.variations){const e=a.variations.indexOf(t),o=e>0?e-1:null,r=e!==a.variations.length-1?e+1:null;return{activeVariationIndex:e,nextVariationIndex:r,previousVariationIndex:o,numberOfVariations:a.variations.length,previousVariationId:null!==o?a.variations[o]:null,nextVariationId:null!==r?a.variations[r]:null}}return{}}),[t,o]);function c(e){(0,xe.navigateTo)({url:(0,xe.getNewPath)({},`/product/${o}/variation/${e}`)})}return{...i,invalidateVariationList:function(){n("getEntityRecord",["postType",r||"product",o]),a("getProductVariations"),a("getProductVariationsTotalCount")},goToVariation:c,goToNextVariation:function(){return void 0!==i.nextVariationId&&null!==i.nextVariationId&&(c(i.nextVariationId),!0)},goToPreviousVariation:function(){return void 0!==i.previousVariationId&&null!==i.previousVariationId&&(c(i.previousVariationId),!0)}}}function mc(e){let{parentProductType:t,variationId:o,parentId:r}=e;const{numberOfVariations:n,nextVariationId:i,previousVariationId:c,activeVariationIndex:s,nextVariationIndex:m,previousVariationIndex:d,goToNextVariation:u,goToPreviousVariation:p}=sc({variationId:o,parentId:r,parentProductType:t}),{previousVariation:_,nextVariation:f}=(0,v.useSelect)((e=>{const{getEntityRecord:t}=e("core");return n&&n>0?{previousVariation:null!==c&&t("postType","product_variation",c),nextVariation:null!==i&&t("postType","product_variation",i)}:{}}),[i,c,n]);return!n||n<2?null:(0,a.createElement)("div",{className:"woocommerce-product-variation-switcher-footer"},_&&(0,a.createElement)(l.Button,{className:"woocommerce-product-variation-switcher-footer__button woocommerce-product-variation-switcher-footer__button-previous",label:(0,w.__)("Previous","woocommerce"),onClick:function(){_&&((0,I.recordEvent)("product_variation_switch_previous",{variation_length:n,variation_id:null==_?void 0:_.id,variation_index:s,previous_variation_index:d}),p())}},(0,a.createElement)(Ce,{icon:It,size:16}),_.image?(0,a.createElement)("img",{alt:_.image.alt||"",src:_.image.src,className:"woocommerce-product-variation-switcher-footer__product-image"}):(0,a.createElement)(lc,{className:"woocommerce-product-variation-switcher-footer__product-image"}),_.name),!_&&null!==c&&(0,a.createElement)(cc,{position:"left"}),f&&(0,a.createElement)(l.Button,{className:"woocommerce-product-variation-switcher-footer__button woocommerce-product-variation-switcher-footer__button-next",label:(0,w.__)("Next","woocommerce"),onClick:function(){f&&((0,I.recordEvent)("product_variation_switch_next",{variation_length:n,variation_id:null==f?void 0:f.id,variation_index:s,next_variation_index:m}),u())}},f.name,f.image?(0,a.createElement)("img",{alt:f.image.alt||"",src:f.image.src,className:"woocommerce-product-variation-switcher-footer__product-image"}):(0,a.createElement)(lc,{className:"woocommerce-product-variation-switcher-footer__product-image"}),(0,a.createElement)(Ce,{icon:ic,size:16})),!f&&null!==i&&(0,a.createElement)(cc,{position:"right"}))}function dc(){return(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton","aria-hidden":"true"},(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header"},(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header-row"},(0,a.createElement)("div",null),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header-title"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions"},(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions-other"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions-main"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions-config"}))),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__header-row"},(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__tabs"},Array(7).fill(0).map(((e,t)=>(0,a.createElement)("div",{key:t,className:"woocommerce-product-page-skeleton__tab-item"})))))),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__body"},(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__body-tabs-content"},(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-title"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-input"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-separator"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-title"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-input"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,a.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}))))}const uc=e=>{const{symbol:t,symbolPosition:o}=e;return{[o.includes("left")?"prefix":"suffix"]:t}};var pc;!function(e){e.unsaved="unsaved",e.draft="draft",e.instock="instock",e.outofstock="outofstock"}(pc||(pc={}));const _c={[pc.unsaved]:(0,w.__)("Unsaved","woocommerce"),[pc.draft]:(0,w.__)("Draft","woocommerce"),[pc.instock]:(0,w.__)("In stock","woocommerce"),[pc.outofstock]:(0,w.__)("Out of stock","woocommerce")},fc=e=>e?"draft"===e.status?pc.draft:"instock"===e.stock_status?pc.instock:pc.outofstock:pc.unsaved,hc=(e,t,o)=>(null==e?void 0:e.length)?e:o&&o!==B?o:"simple"===t?(0,w.__)("New standard product","woocommerce"):(0,w.__)("New product","woocommerce"),gc=e=>{var t;return(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.length)?e.attributes.map((e=>e.option)).join(", "):"#"+e.id},vc=e=>{const t=gc(e);return t.length>32?t.substring(0,32)+"…":t};function wc(e){if(me()("initBlock()",{alternative:"registerProductEditorBlockType()"}),e)return ot(e)}const bc=window.wp.apiFetch;var Ec=o.n(bc);const yc=[{matcher:new RegExp("^/wp/v2/product(?!_)"),getReplaceString:()=>"/wc/v3/products"},{matcher:new RegExp("^/wp/v2/product_variation"),replacement:"/wc/v3/products/0/variations",getReplaceString:()=>{const e=(0,xe.getQuery)(),t=new RegExp("/product/([0-9]+)/variation/([0-9]+)"),o=(e.path||"").match(t);return o&&3===o.length?"/wc/v3/products/"+o[1]+"/variations":"/wc/v3/products/0/variations"}}],kc=()=>{Ec().use(((e,t)=>{if(e.path&&(()=>{const e=(0,xe.getQuery)();return"wc-admin"===(null==e?void 0:e.page)&&["/add-product","/product/"].some((t=>{var o;return null===(o=null==e?void 0:e.path)||void 0===o?void 0:o.startsWith(t)}))})())for(const{matcher:t,getReplaceString:o}of yc)if(t.test(e.path)){e.path=e.path.replace(t,o());break}return t(e)}))};function Cc(e){return`${e.id}:${e.menu_order}`}function Sc(e){let{key:t}=e;return"string"==typeof t?Number.parseInt(t.split(":")[1],10):Number.MAX_SAFE_INTEGER}function xc(e,t,o){let{variationsOrder:r}=o;if(!r||!r[t])return e;const n=r[t];return[...e].sort(((e,t)=>n[e.id]&&n[t.id]?n[e.id]-n[t.id]:0))}const Tc=e=>{let{variations:t,currentPage:o}=e;const{setValue:r,values:n}=(0,i.useFormContext)();return{sortedVariations:xc(t,o,n),getVariationKey:Cc,onOrderChange:function(e){const t=Math.min(...e.map(Sc));r("variationsOrder",{...n.variationsOrder,[o]:e.reduce(((e,o,r)=>({...e,[function(e){let{key:t}=e;return"string"==typeof t?Number.parseInt(t.split(":")[0],10):0}(o)]:t+r})),{})})}}}})(),(window.wc=window.wc||{}).productEditor=r})();
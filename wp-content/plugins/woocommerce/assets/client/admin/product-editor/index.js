/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={87608:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var i=n.apply(null,o);i&&e.push(i)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var c in o)r.call(o,c)&&o[c]&&e.push(c)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},33561:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,o){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,o)}function o(e,r,n){return o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,o,r){var n=[null];n.push.apply(n,o);var a=new(Function.bind.apply(e,n));return r&&t(a,r.prototype),a},o.apply(null,arguments)}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var a=Object.hasOwnProperty,i=Object.setPrototypeOf,c=Object.isFrozen,l=Object.getPrototypeOf,s=Object.getOwnPropertyDescriptor,m=Object.freeze,d=Object.seal,u=Object.create,p="undefined"!=typeof Reflect&&Reflect,_=p.apply,f=p.construct;_||(_=function(e,t,o){return e.apply(t,o)}),m||(m=function(e){return e}),d||(d=function(e){return e}),f||(f=function(e,t){return o(e,r(t))});var g,h=x(Array.prototype.forEach),w=x(Array.prototype.pop),v=x(Array.prototype.push),E=x(String.prototype.toLowerCase),b=x(String.prototype.toString),y=x(String.prototype.match),C=x(String.prototype.replace),k=x(String.prototype.indexOf),S=x(String.prototype.trim),N=x(RegExp.prototype.test),T=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return f(g,t)});function x(e){return function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return _(e,t,r)}}function P(e,t,o){var r;o=null!==(r=o)&&void 0!==r?r:E,i&&i(e,null);for(var n=t.length;n--;){var a=t[n];if("string"==typeof a){var l=o(a);l!==a&&(c(t)||(t[n]=l),a=l)}e[a]=!0}return e}function A(e){var t,o=u(null);for(t in e)!0===_(a,e,[t])&&(o[t]=e[t]);return o}function I(e,t){for(;null!==e;){var o=s(e,t);if(o){if(o.get)return x(o.get);if("function"==typeof o.value)return x(o.value)}e=l(e)}return function(e){return console.warn("fallback value for",e),null}}var M=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=m(["#text"]),V=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=d(/<%[\w\W]*|[\w\W]*%>/gm),G=d(/\${[\w\W]*}/gm),j=d(/^data-[\-\w.\u00B7-\uFFFF]/),q=d(/^aria-[\-\w]+$/),Z=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J=d(/^(?:\w+script|data):/i),X=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=d(/^html$/i),K=function(){return"undefined"==typeof window?null:window};return function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),n=function(e){return t(e)};if(n.version="2.4.7",n.removed=[],!o||!o.document||9!==o.document.nodeType)return n.isSupported=!1,n;var a=o.document,i=o.document,c=o.DocumentFragment,l=o.HTMLTemplateElement,s=o.Node,d=o.Element,u=o.NodeFilter,p=o.NamedNodeMap,_=void 0===p?o.NamedNodeMap||o.MozNamedAttrMap:p,f=o.HTMLFormElement,g=o.DOMParser,x=o.trustedTypes,Q=d.prototype,ee=I(Q,"cloneNode"),te=I(Q,"nextSibling"),oe=I(Q,"childNodes"),re=I(Q,"parentNode");if("function"==typeof l){var ne=i.createElement("template");ne.content&&ne.content.ownerDocument&&(i=ne.content.ownerDocument)}var ae=function(t,o){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,n="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(n)&&(r=o.currentScript.getAttribute(n));var a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(x,a),ie=ae?ae.createHTML(""):"",ce=i,le=ce.implementation,se=ce.createNodeIterator,me=ce.createDocumentFragment,de=ce.getElementsByTagName,ue=a.importNode,pe={};try{pe=A(i).documentMode?i.documentMode:{}}catch(e){}var _e={};n.isSupported="function"==typeof re&&le&&void 0!==le.createHTMLDocument&&9!==pe;var fe,ge,he=$,we=W,ve=G,Ee=j,be=q,ye=J,Ce=X,ke=Z,Se=null,Ne=P({},[].concat(r(M),r(R),r(L),r(O),r(F))),Te=null,xe=P({},[].concat(r(V),r(H),r(U),r(z))),Pe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,Ie=null,Me=!0,Re=!0,Le=!1,De=!0,Oe=!1,Be=!1,Fe=!1,Ve=!1,He=!1,Ue=!1,ze=!1,$e=!0,We=!1,Ge=!0,je=!1,qe={},Ze=null,Je=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xe=null,Ye=P({},["audio","video","img","source","image","track"]),Ke=null,Qe=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml",rt=ot,nt=!1,at=null,it=P({},[et,tt,ot],b),ct=["application/xhtml+xml","text/html"],lt=null,st=i.createElement("form"),mt=function(e){return e instanceof RegExp||e instanceof Function},dt=function(t){lt&&lt===t||(t&&"object"===e(t)||(t={}),t=A(t),fe=fe=-1===ct.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,ge="application/xhtml+xml"===fe?b:E,Se="ALLOWED_TAGS"in t?P({},t.ALLOWED_TAGS,ge):Ne,Te="ALLOWED_ATTR"in t?P({},t.ALLOWED_ATTR,ge):xe,at="ALLOWED_NAMESPACES"in t?P({},t.ALLOWED_NAMESPACES,b):it,Ke="ADD_URI_SAFE_ATTR"in t?P(A(Qe),t.ADD_URI_SAFE_ATTR,ge):Qe,Xe="ADD_DATA_URI_TAGS"in t?P(A(Ye),t.ADD_DATA_URI_TAGS,ge):Ye,Ze="FORBID_CONTENTS"in t?P({},t.FORBID_CONTENTS,ge):Je,Ae="FORBID_TAGS"in t?P({},t.FORBID_TAGS,ge):{},Ie="FORBID_ATTR"in t?P({},t.FORBID_ATTR,ge):{},qe="USE_PROFILES"in t&&t.USE_PROFILES,Me=!1!==t.ALLOW_ARIA_ATTR,Re=!1!==t.ALLOW_DATA_ATTR,Le=t.ALLOW_UNKNOWN_PROTOCOLS||!1,De=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Oe=t.SAFE_FOR_TEMPLATES||!1,Be=t.WHOLE_DOCUMENT||!1,He=t.RETURN_DOM||!1,Ue=t.RETURN_DOM_FRAGMENT||!1,ze=t.RETURN_TRUSTED_TYPE||!1,Ve=t.FORCE_BODY||!1,$e=!1!==t.SANITIZE_DOM,We=t.SANITIZE_NAMED_PROPS||!1,Ge=!1!==t.KEEP_CONTENT,je=t.IN_PLACE||!1,ke=t.ALLOWED_URI_REGEXP||ke,rt=t.NAMESPACE||ot,Pe=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&mt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pe.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&mt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pe.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Pe.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Oe&&(Re=!1),Ue&&(He=!0),qe&&(Se=P({},r(F)),Te=[],!0===qe.html&&(P(Se,M),P(Te,V)),!0===qe.svg&&(P(Se,R),P(Te,H),P(Te,z)),!0===qe.svgFilters&&(P(Se,L),P(Te,H),P(Te,z)),!0===qe.mathMl&&(P(Se,O),P(Te,U),P(Te,z))),t.ADD_TAGS&&(Se===Ne&&(Se=A(Se)),P(Se,t.ADD_TAGS,ge)),t.ADD_ATTR&&(Te===xe&&(Te=A(Te)),P(Te,t.ADD_ATTR,ge)),t.ADD_URI_SAFE_ATTR&&P(Ke,t.ADD_URI_SAFE_ATTR,ge),t.FORBID_CONTENTS&&(Ze===Je&&(Ze=A(Ze)),P(Ze,t.FORBID_CONTENTS,ge)),Ge&&(Se["#text"]=!0),Be&&P(Se,["html","head","body"]),Se.table&&(P(Se,["tbody"]),delete Ae.tbody),m&&m(t),lt=t)},ut=P({},["mi","mo","mn","ms","mtext"]),pt=P({},["foreignobject","desc","title","annotation-xml"]),_t=P({},["title","style","font","a","script"]),ft=P({},R);P(ft,L),P(ft,D);var gt=P({},O);P(gt,B);var ht=function(e){v(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ie}catch(t){e.remove()}}},wt=function(e,t){try{v(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){v(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Te[e])if(He||Ue)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){var t,o;if(Ve)e="<remove></remove>"+e;else{var r=y(e,/^[\r\n\t ]+/);o=r&&r[0]}"application/xhtml+xml"===fe&&rt===ot&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var n=ae?ae.createHTML(e):e;if(rt===ot)try{t=(new g).parseFromString(n,fe)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(rt,"template",null);try{t.documentElement.innerHTML=nt?ie:n}catch(e){}}var a=t.body||t.documentElement;return e&&o&&a.insertBefore(i.createTextNode(o),a.childNodes[0]||null),rt===ot?de.call(t,Be?"html":"body")[0]:Be?t.documentElement:a},Et=function(e){return se.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},bt=function(t){return"object"===e(s)?t instanceof s:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},yt=function(e,t,o){_e[e]&&h(_e[e],(function(e){e.call(n,t,o,lt)}))},Ct=function(e){var t,o;if(yt("beforeSanitizeElements",e,null),(o=e)instanceof f&&("string"!=typeof o.nodeName||"string"!=typeof o.textContent||"function"!=typeof o.removeChild||!(o.attributes instanceof _)||"function"!=typeof o.removeAttribute||"function"!=typeof o.setAttribute||"string"!=typeof o.namespaceURI||"function"!=typeof o.insertBefore||"function"!=typeof o.hasChildNodes))return ht(e),!0;if(N(/[\u0080-\uFFFF]/,e.nodeName))return ht(e),!0;var r=ge(e.nodeName);if(yt("uponSanitizeElement",e,{tagName:r,allowedTags:Se}),e.hasChildNodes()&&!bt(e.firstElementChild)&&(!bt(e.content)||!bt(e.content.firstElementChild))&&N(/<[/\w]/g,e.innerHTML)&&N(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===r&&N(/<template/i,e.innerHTML))return ht(e),!0;if(!Se[r]||Ae[r]){if(!Ae[r]&&St(r)){if(Pe.tagNameCheck instanceof RegExp&&N(Pe.tagNameCheck,r))return!1;if(Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(r))return!1}if(Ge&&!Ze[r]){var a=re(e)||e.parentNode,i=oe(e)||e.childNodes;if(i&&a)for(var c=i.length-1;c>=0;--c)a.insertBefore(ee(i[c],!0),te(e))}return ht(e),!0}return e instanceof d&&!function(e){var t=re(e);t&&t.tagName||(t={namespaceURI:rt,tagName:"template"});var o=E(e.tagName),r=E(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===ot?"svg"===o:t.namespaceURI===et?"svg"===o&&("annotation-xml"===r||ut[r]):Boolean(ft[o]):e.namespaceURI===et?t.namespaceURI===ot?"math"===o:t.namespaceURI===tt?"math"===o&&pt[r]:Boolean(gt[o]):e.namespaceURI===ot?!(t.namespaceURI===tt&&!pt[r])&&!(t.namespaceURI===et&&!ut[r])&&!gt[o]&&(_t[o]||!ft[o]):!("application/xhtml+xml"!==fe||!at[e.namespaceURI]))}(e)?(ht(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!N(/<\/no(script|embed|frames)/i,e.innerHTML)?(Oe&&3===e.nodeType&&(t=e.textContent,t=C(t,he," "),t=C(t,we," "),t=C(t,ve," "),e.textContent!==t&&(v(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt("afterSanitizeElements",e,null),!1):(ht(e),!0)},kt=function(e,t,o){if($e&&("id"===t||"name"===t)&&(o in i||o in st))return!1;if(Re&&!Ie[t]&&N(Ee,t));else if(Me&&N(be,t));else if(!Te[t]||Ie[t]){if(!(St(e)&&(Pe.tagNameCheck instanceof RegExp&&N(Pe.tagNameCheck,e)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(e))&&(Pe.attributeNameCheck instanceof RegExp&&N(Pe.attributeNameCheck,t)||Pe.attributeNameCheck instanceof Function&&Pe.attributeNameCheck(t))||"is"===t&&Pe.allowCustomizedBuiltInElements&&(Pe.tagNameCheck instanceof RegExp&&N(Pe.tagNameCheck,o)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(o))))return!1}else if(Ke[t]);else if(N(ke,C(o,Ce,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==k(o,"data:")||!Xe[e])if(Le&&!N(ye,C(o,Ce,"")));else if(o)return!1;return!0},St=function(e){return e.indexOf("-")>0},Nt=function(t){var o,r,a,i;yt("beforeSanitizeAttributes",t,null);var c=t.attributes;if(c){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te};for(i=c.length;i--;){var s=o=c[i],m=s.name,d=s.namespaceURI;if(r="value"===m?o.value:S(o.value),a=ge(m),l.attrName=a,l.attrValue=r,l.keepAttr=!0,l.forceKeepAttr=void 0,yt("uponSanitizeAttribute",t,l),r=l.attrValue,!l.forceKeepAttr&&(wt(m,t),l.keepAttr))if(De||!N(/\/>/i,r)){Oe&&(r=C(r,he," "),r=C(r,we," "),r=C(r,ve," "));var u=ge(t.nodeName);if(kt(u,a,r)){if(!We||"id"!==a&&"name"!==a||(wt(m,t),r="user-content-"+r),ae&&"object"===e(x)&&"function"==typeof x.getAttributeType)if(d);else switch(x.getAttributeType(u,a)){case"TrustedHTML":r=ae.createHTML(r);break;case"TrustedScriptURL":r=ae.createScriptURL(r)}try{d?t.setAttributeNS(d,m,r):t.setAttribute(m,r),w(n.removed)}catch(e){}}}else wt(m,t)}yt("afterSanitizeAttributes",t,null)}},Tt=function e(t){var o,r=Et(t);for(yt("beforeSanitizeShadowDOM",t,null);o=r.nextNode();)yt("uponSanitizeShadowNode",o,null),Ct(o)||(o.content instanceof c&&e(o.content),Nt(o));yt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(t){var r,i,l,m,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((nt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!bt(t)){if("function"!=typeof t.toString)throw T("toString is not a function");if("string"!=typeof(t=t.toString()))throw T("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(o.toStaticHTML)||"function"==typeof o.toStaticHTML){if("string"==typeof t)return o.toStaticHTML(t);if(bt(t))return o.toStaticHTML(t.outerHTML)}return t}if(Fe||dt(u),n.removed=[],"string"==typeof t&&(je=!1),je){if(t.nodeName){var p=ge(t.nodeName);if(!Se[p]||Ae[p])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof s)1===(i=(r=vt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!He&&!Oe&&!Be&&-1===t.indexOf("<"))return ae&&ze?ae.createHTML(t):t;if(!(r=vt(t)))return He?null:ze?ie:""}r&&Ve&&ht(r.firstChild);for(var _=Et(je?t:r);l=_.nextNode();)3===l.nodeType&&l===m||Ct(l)||(l.content instanceof c&&Tt(l.content),Nt(l),m=l);if(m=null,je)return t;if(He){if(Ue)for(d=me.call(r.ownerDocument);r.firstChild;)d.appendChild(r.firstChild);else d=r;return(Te.shadowroot||Te.shadowrootmod)&&(d=ue.call(a,d,!0)),d}var f=Be?r.outerHTML:r.innerHTML;return Be&&Se["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&N(Y,r.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+f),Oe&&(f=C(f,he," "),f=C(f,we," "),f=C(f,ve," ")),ae&&ze?ae.createHTML(f):f},n.setConfig=function(e){dt(e),Fe=!0},n.clearConfig=function(){lt=null,Fe=!1},n.isValidAttribute=function(e,t,o){lt||dt({});var r=ge(e),n=ge(t);return kt(r,n,o)},n.addHook=function(e,t){"function"==typeof t&&(_e[e]=_e[e]||[],v(_e[e],t))},n.removeHook=function(e){if(_e[e])return w(_e[e])},n.removeHooks=function(e){_e[e]&&(_e[e]=[])},n.removeAllHooks=function(){_e={}},n}()}()},31772:(e,t,o)=>{"use strict";var r=o(25148);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return o.PropTypes=o,o}},7862:(e,t,o)=>{e.exports=o(31772)()},25148:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r),o.d(r,{AUTO_DRAFT_NAME:()=>j,AddNewShippingClassModal:()=>xn,DETAILS_SECTION_ID:()=>B,NEW_PRODUCT_MANAGEMENT_ENABLED_OPTION_NAME:()=>I,PRODUCT_STATUS_LABELS:()=>ml,PostTypeContext:()=>tt,ProductPageSkeleton:()=>cl,RemoveConfirmationModal:()=>Ga,TAB_GENERAL_ID:()=>O,TRACKS_SOURCE:()=>V,__experimentalAddProductsModal:()=>gi,__experimentalAttributeControl:()=>qa,__experimentalAttributes:()=>Ya,__experimentalBlockFill:()=>vn,__experimentalBlockIcon:()=>qc,__experimentalBlockSlot:()=>pn,__experimentalCheckboxControl:()=>eo,__experimentalDetailsDescriptionField:()=>ee,__experimentalDetailsFeatureField:()=>Y,__experimentalDetailsNameField:()=>J,__experimentalDetailsSummaryField:()=>Q,__experimentalEditor:()=>Bt,__experimentalInitBlocks:()=>jc,__experimentalLabel:()=>Pr,__experimentalManageDownloadLimitsModal:()=>qo,__experimentalNumberControl:()=>Uc,__experimentalProductFieldSection:()=>w,__experimentalProductMVPCESFooter:()=>Xc,__experimentalProductMVPFeedbackModal:()=>el,__experimentalProductMVPFeedbackModalContainer:()=>tl,__experimentalProductSectionLayout:()=>g,__experimentalShippingDimensionsImage:()=>Bn,__experimentalTextControl:()=>Dc,__experimentalUseCurrencyInputProps:()=>Dr,__experimentalUseFeedbackBar:()=>ze,__experimentalUseProductEntityProp:()=>Zt,__experimentalUseProductHelper:()=>Z,__experimentalUseProductMetadata:()=>kl,__experimentalUseVariationSwitcher:()=>al,__experimentalUseVariationsOrder:()=>Cl,__experimentalVariationSwitcherFooter:()=>il,__experimentalWooProductFieldItem:()=>C,__experimentalWooProductMoreMenuItem:()=>oe,__experimentalWooProductSectionItem:()=>k,__experimentalWooProductTabItem:()=>S,createOrderedChildren:()=>E,deferSelectInFocus:()=>zo,formatCurrencyDisplayValue:()=>Lr,getCheckboxTracks:()=>X,getCurrencySymbolProps:()=>ll,getDerivedProductType:()=>G,getHeaderTitle:()=>Me,getProductStatus:()=>dl,getProductStockStatus:()=>Si,getProductStockStatusClass:()=>Ni,getProductTitle:()=>ul,getProductVariationTitle:()=>pl,getTruncatedProductVariationTitle:()=>_l,hasAttributesUsedForVariations:()=>ni,initBlock:()=>fl,isValidEmail:()=>Jc,preventLeavingProductForm:()=>Ke,productApiFetchMiddleware:()=>vl,registerProductEditorBlockType:()=>zt,sift:()=>Za,sortFillsByOrder:()=>b,store:()=>u,truncate:()=>ec,useValidation:()=>wr,useValidations:()=>Oe});var e={};o.r(e),o.d(e,{disableComplementaryArea:()=>we,enableComplementaryArea:()=>he,pinItem:()=>ve,setFeatureDefaults:()=>Ce,setFeatureValue:()=>ye,toggleFeature:()=>be,unpinItem:()=>Ee});var t={};o.r(t),o.d(t,{getActiveComplementaryArea:()=>ke,isFeatureActive:()=>Ne,isItemPinned:()=>Se});var n={};o.r(n),o.d(n,{attributesInit:()=>ei,initCatalogVisibility:()=>jt,initCheckbox:()=>no,initCollapsible:()=>lo,initConditional:()=>po,initDescription:()=>No,initDownloads:()=>ar,initImages:()=>fr,initInventoryQuantity:()=>Ea,initLowStockQty:()=>yr,initName:()=>Mr,initNotice:()=>bc,initNoticeHasVariations:()=>Nc,initNumber:()=>Gc,initPricing:()=>Vr,initProductList:()=>Ai,initRadio:()=>Gr,initRegularPrice:()=>Xr,initRequirePassword:()=>pi,initSalePrice:()=>tn,initScheduleSale:()=>mn,initSection:()=>hn,initSectionDescription:()=>Cn,initShippingClass:()=>Dn,initShippingDimensions:()=>Un,initSku:()=>Tr,initSummary:()=>Qn,initTab:()=>ia,initTag:()=>fa,initTaxonomy:()=>Rc,initText:()=>Vc,initToggle:()=>Sa,initVariationItems:()=>dc,initVariationOptions:()=>gc,initVariations:()=>li});const a=window.wp.data,i="MODAL_EDITOR_OPEN",c="MODAL_EDITOR_CLOSE",l="MODAL_EDITOR_SET_BLOCKS",s="MODAL_EDITOR_CONTENT_HAS_CHANGED",m={openModalEditor:()=>({type:i}),closeModalEditor:()=>({type:c}),setModalEditorBlocks:e=>({type:l,blocks:e}),setModalEditorContentHasChanged:e=>({type:s,hasChanged:e})},d={modalEditor:{isOpen:!1,blocks:[],hasChanged:!1}},u="woo/product-editor-ui",p=(0,a.createReduxStore)(u,{actions:m,selectors:{isModalEditorOpen:function(e){return e.modalEditor.isOpen},getModalEditorBlocks:function(e){return e.modalEditor.blocks},getModalEditorContentHasChanged:function(e){return!!e.modalEditor.hasChanged}},reducer:function(e=d,t){switch(t.type){case i:return{...e,modalEditor:{...e.modalEditor,isOpen:!0}};case c:return{...e,modalEditor:{...e.modalEditor,isOpen:!1}};case l:return{...e,modalEditor:{...e.modalEditor,blocks:t.blocks||[]}};case s:return{...e,modalEditor:{...e.modalEditor,hasChanged:(null==t?void 0:t.hasChanged)||!1}}}return e}}),_=window.wp.element,f=window.wc.components,g=({title:e,description:t,className:o,children:r})=>(0,_.createElement)(f.FormSection,{title:e,description:t,className:o},_.Children.map(r,(e=>(0,_.isValidElement)(e)&&e.props.onChange?(0,_.createElement)("div",{className:"product-field-layout"},e):e))),h=window.wp.components,w=({id:e,title:t,description:o,className:r,children:n})=>(0,_.createElement)(g,{title:t,description:o,className:r},(0,_.createElement)(h.Card,null,(0,_.createElement)(h.CardBody,null,n,(0,_.createElement)(f.__experimentalWooProductFieldItem.Slot,{section:e})))),v=window.React;function E(e,t,o,r){const{children:n,props:a}=function(e,t,o,r){if("function"==typeof e)return{children:e({...o,order:t,...r}),props:{order:t,...r}};if((0,v.isValidElement)(e))return"function"==typeof(null==e?void 0:e.type)?{children:e,props:{...o,order:t,...r}}:{children:e,props:{order:t,...r}};throw Error("Invalid children type")}(e,t,o,r);return(0,_.cloneElement)(n,a)}const b=e=>{const t=[...e].sort(((e,t)=>e[0].props.order-t[0].props.order));return(0,_.createElement)(v.Fragment,null,t)},y=({fieldName:e,sectionName:t,order:o,children:r})=>{const{registerFill:n,getFillHelpers:a}=(0,f.useSlotContext)(),i=`product_field/${t}/${e}`;return(0,_.useEffect)((()=>{n(i)}),[]),(0,_.createElement)(h.Fill,{name:`woocommerce_product_field_${t}`,key:i},(e=>E(r,o,{sectionName:t,...e,...a()},{_id:i})))},C=({children:e,sections:t,id:o})=>(0,_.createElement)(_.Fragment,null,t.map((({name:t,order:r=20})=>(0,_.createElement)(y,{fieldName:o,sectionName:t,order:r,key:t},e))));C.Slot=({fillProps:e,section:t})=>{const{filterRegisteredFills:o}=(0,f.useSlotContext)();return(0,_.createElement)(h.Slot,{name:`woocommerce_product_field_${t}`,fillProps:e},(e=>{var t;return b?_.Children.map(null===(t=b(o(e)))||void 0===t?void 0:t.props.children,(e=>(0,_.createElement)("div",{className:"woocommerce-product-form__field"},e))):null}))};const k=({children:e,tabs:t})=>(0,_.createElement)(_.Fragment,null,t.map((({name:t,order:o})=>(0,_.createElement)(h.Fill,{name:`woocommerce_product_section_${t}`,key:t},(r=>E(e,o||20,{tabName:t,...r}))))));k.Slot=({fillProps:e,tab:t})=>(0,_.createElement)(h.Slot,{name:`woocommerce_product_section_${t}`,fillProps:e},(e=>b?b(e):null));const S=({children:e,tabProps:t,templates:o})=>o?(0,_.createElement)(_.Fragment,null,o.map((o=>(0,_.createElement)(h.Fill,{name:`woocommerce_product_tab_${o.name}`,key:o.name},(r=>E(e,o.order||20,{},{tabProps:t,templateName:o.name,order:o.order||20,...r})))))):(console.warn("WooProductTabItem fill is missing templates property."),null);S.Slot=({fillProps:e,template:t,children:o})=>(0,_.createElement)(h.Slot,{name:`woocommerce_product_tab_${t}`,fillProps:e},(t=>{const r=t.reduce((({childrenMap:t,tabs:o},r)=>{var n;const a=r[0].props;if(a&&a.tabProps){t[a.tabProps.name]=r[0];const i="function"==typeof a.tabProps?a.tabProps(e):a.tabProps;o.push({...i,order:null!==(n=a.order)&&void 0!==n?n:20})}return{childrenMap:t,tabs:o}}),{childrenMap:{},tabs:[]}),n=r.tabs.sort(((e,t)=>e.order-t.order));return o(n,r.childrenMap)}));const N=window.wp.i18n,T=window.wp.url,x=window.wc.data,P="woocommerce_product_editor_show_feedback_bar",A="product_editor",I="woocommerce_new_product_management_enabled",M="woocommerce_single_variation_notice_dismissed",R="[^-\\d\\%s]+",L="[%s](?=%s*[%s])",D="__ADD_NEW_SHIPPING_CLASS_OPTION__",O="tab/general",B=`${O}/details`,F="product-details",V="product-block-editor-v1",H=[5,10,25],U=window.wc.tracks,z=({product:e,permalinkPrefix:t,permalinkSuffix:o,onCancel:r,onSaved:n,saveHandler:i})=>{const{createNotice:c}=(0,a.useDispatch)("core/notices"),[l,s]=(0,_.useState)(!1),[m,d]=(0,_.useState)(e.slug||(0,T.cleanForSlug)(e.name)),u=t+(0,T.cleanForSlug)(m)+o;return(0,_.createElement)(h.Modal,{title:(0,N.__)("Edit product link","woocommerce"),onRequestClose:()=>r(),className:"woocommerce-product-link-edit-modal"},(0,_.createElement)("div",{className:"woocommerce-product-link-edit-modal__wrapper"},(0,_.createElement)("p",{className:"woocommerce-product-link-edit-modal__description"},(0,N.__)("Create a unique link for this product. Use simple, descriptive words and numbers. We'll replace spaces with hyphens (-).","woocommerce")),(0,_.createElement)(h.TextControl,{label:(0,N.__)("Product link","woocommerce"),name:"slug",value:m,onChange:d,hideLabelFromVision:!0,help:(0,_.createInterpolateElement)((0,N.__)("Preview: <link />","woocommerce"),{link:(0,_.createElement)("strong",null,u)})}),(0,_.createElement)("div",{className:"woocommerce-product-link-edit-modal__buttons"},(0,_.createElement)(h.Button,{isSecondary:!0,onClick:()=>r()},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{isPrimary:!0,isBusy:l,disabled:l||m===e.slug,onClick:async()=>{s(!0),await(async()=>{var t;(0,U.recordEvent)("product_update_slug",{source:V,product_id:e.id,product_type:e.type});const{slug:o,permalink:r}=null!==(t=await i(m))&&void 0!==t?t:{};o?c(o===(0,T.cleanForSlug)(m)?"success":"info",o===(0,T.cleanForSlug)(m)?(0,N.__)("Product link successfully updated.","woocommerce"):(0,N.__)("Product link already existed, updated to ","woocommerce")+r):c("error",(0,N.__)("Failed to update product link.","woocommerce")),n()})(),s(!1)}},(0,N.__)("Save","woocommerce")))))},$=window.wc.number,W=window.wc.currency,G=e=>{var t;return window.wcAdminFeatures["product-variation-management"]&&(null===(t=e.attributes)||void 0===t?void 0:t.find((e=>e.options.length&&e.variation)))?"variable":"simple"},j="AUTO-DRAFT";function q(e,t){return"publish"===e&&t?[{label:(0,N.__)("View in store","woocommerce"),onClick:()=>{(0,U.recordEvent)("product_preview_changes",{source:V}),window.open(t,"_blank")}}]:[]}function Z(){const{createProduct:e,updateProduct:t,deleteProduct:o}=(0,a.useDispatch)(x.PRODUCTS_STORE_NAME),{batchUpdateProductVariations:r,invalidateResolutionForStoreSelector:n}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{createNotice:i}=(0,a.useDispatch)("core/notices"),[c,l]=(0,_.useState)(!1),[s,m]=(0,_.useState)({draft:!1,publish:!1}),d=(0,_.useContext)(W.CurrencyContext),u=(0,_.useCallback)((async(t,o,r=!1)=>(m({...s,[o]:!0}),e({...t,status:o,type:G(t)}).then((e=>{if(!r){const t="publish"===e.status?(0,N.__)("Product published.","woocommerce"):(0,N.__)("Product successfully created.","woocommerce");i("success",`ðŸŽ‰â€Ž ${t}`,{actions:q(e.status,e.permalink)})}return m({...s,[o]:!1}),e}),(e=>(r||i("error","publish"===o?(0,N.__)("Failed to publish product.","woocommerce"):(0,N.__)("Failed to create product.","woocommerce")),m({...s,[o]:!1}),e))))),[s]),p=(0,_.useCallback)((async(e,o,a,c=!1)=>(m({...s,[a]:!0}),t(e,{...o,status:a,type:G(o)}).then((async e=>async function(e,t){if(t)return r({product_id:e},{update:Object.values(t).flatMap(Object.entries).map((([e,t])=>({id:e,menu_order:t})))})}(e.id,o.variationsOrder).then((()=>n("getProductVariations"))).then((()=>e)))).then((e=>{if(!c){const t="draft"===o.status&&"publish"===e.status?(0,N.__)("Product published.","woocommerce"):(0,N.__)("Product successfully updated.","woocommerce");i("success",`ðŸŽ‰â€Ž ${t}`,{actions:q(e.status,e.permalink)})}return m({...s,[a]:!1}),e}),(e=>(c||i("error",(0,N.__)("Failed to update product.","woocommerce")),m({...s,[a]:!1}),e))))),[s]),f=(0,_.useCallback)((async(e,t="draft")=>u(function(e){return x.productReadOnlyProperties.forEach((t=>delete e[t])),e}({...e,name:(e.name||j)+" - Copy"}),t)),[]),g=(0,_.useCallback)((async e=>(l(!0),o(e).then((e=>{const t=(0,N.__)("Successfully moved product to Trash.","woocommerce");return i("success",`ðŸŽ‰â€Ž ${t}`),l(!1),e}),(e=>(i("error",(0,N.__)("Failed to move product to Trash.","woocommerce")),l(!1),e))))),[]),h=(0,_.useCallback)((e=>{if(!e.length)return"";const{getCurrencyConfig:t}=d,{decimalSeparator:o}=t(),r=new RegExp(R.replace("%s",o),"g"),n=new RegExp(L.replaceAll("%s",o),"g");return e.replace(r,"").replace(n,"").replace(o,".")}),[d]),w=(0,_.useCallback)((e=>{const{getCurrencyConfig:t}=d,{decimalSeparator:o,thousandSeparator:r}=t();return $.numberFormat({decimalSeparator:o,thousandSeparator:r},e)}),[d]),v=(0,_.useCallback)((e=>{const{getCurrencyConfig:t}=d,{decimalSeparator:o,thousandSeparator:r}=t();return $.parseNumber({decimalSeparator:o,thousandSeparator:r},e)}),[d]);return{createProductWithStatus:u,updateProductWithStatus:p,copyProductWithStatus:f,deleteProductAndRedirect:g,sanitizePrice:h,formatNumber:w,parseNumber:v,isUpdatingDraft:s.draft,isUpdatingPublished:s.publish,isDeleting:c}}const J=({})=>{const{updateProductWithStatus:e}=Z(),[t,o]=(0,_.useState)(!1),{getInputProps:r,values:n,touched:i,errors:c,setValue:l,resetForm:s}=(0,f.useFormContext)(),{permalinkPrefix:m,permalinkSuffix:d}=(0,a.useSelect)((e=>{const{getPermalinkParts:t}=e(x.PRODUCTS_STORE_NAME);if(n.id){const e=t(n.id);return{permalinkPrefix:null==e?void 0:e.prefix,permalinkSuffix:null==e?void 0:e.suffix}}return{}}));return(0,_.createElement)("div",null,(0,_.createElement)(h.TextControl,{label:(0,_.createInterpolateElement)((0,N.__)("Name <required />","woocommerce"),{required:(0,_.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,N.__)("(required)","woocommerce"))}),name:`${F}-name`,placeholder:(0,N.__)("e.g. 12 oz Coffee Mug","woocommerce"),...r("name",{onBlur:()=>{var e;!n.sku&&(null===(e=n.name)||void 0===e?void 0:e.length)&&l("sku",(0,T.cleanForSlug)(n.name))}})}),n.id&&!(Boolean(i.name)&&Boolean(c.name))&&m&&(0,_.createElement)("span",{className:"woocommerce-product-form__secondary-text product-details-section__product-link"},(0,N.__)("Product link","woocommerce"),":Â ",(0,_.createElement)("a",{href:n.permalink,target:"_blank",rel:"noreferrer"},m,n.slug||(0,T.cleanForSlug)(n.name),d),(0,_.createElement)(h.Button,{variant:"link",onClick:()=>o(!0)},(0,N.__)("Edit","woocommerce"))),t&&(0,_.createElement)(z,{permalinkPrefix:m||"",permalinkSuffix:d||"",product:n,onCancel:()=>o(!1),onSaved:()=>o(!1),saveHandler:async t=>{const o=await e(n.id,{slug:t},n.status,!0);if(o&&o.id)return s({...n,slug:o.slug,permalink:o.permalink},i,c),{slug:o.slug,permalink:o.permalink}}}))};function X(e){return{onChange:t=>{(0,U.recordEvent)(`product_checkbox_${e}`,{checked:t})}}}const Y=()=>{const{getCheckboxControlProps:e}=(0,f.useFormContext)();return(0,_.createElement)(h.CheckboxControl,{label:(0,_.createElement)(_.Fragment,null,(0,N.__)("Feature this product","woocommerce"),(0,_.createElement)(f.__experimentalTooltip,{text:(0,_.createInterpolateElement)((0,N.__)("Include this product in a featured section on your website with a widget or shortcode. <moreLink />","woocommerce"),{moreLink:(0,_.createElement)(f.Link,{href:"https://woo.com/document/woocommerce-shortcodes/#products",target:"_blank",type:"external",onClick:()=>(0,U.recordEvent)("add_product_learn_more",{category:F})},(0,N.__)("Learn more","woocommerce"))})})),...e("featured",X("featured"))})},K=window.wp.blocks,Q=()=>{const{setValue:e,values:t}=(0,f.useFormContext)(),[o,r]=(0,_.useState)((0,K.parse)(t.short_description||""));return(0,_.createElement)(f.__experimentalRichTextEditor,{label:(0,N.__)("Summary","woocommerce"),blocks:o,onChange:t=>{r(t),o.length&&e("short_description",(0,K.serialize)(t))},placeholder:(0,N.__)("Summarize this product in 1-2 short sentences. We'll show it at the top of the page.","woocommerce")})},ee=()=>{const{setValue:e,values:t}=(0,f.useFormContext)(),[o,r]=(0,_.useState)((0,K.parse)(t.description||""));return(0,_.createElement)(f.__experimentalRichTextEditor,{label:(0,N.__)("Description","woocommerce"),blocks:o,onChange:t=>{r(t),o.length&&e("description",(0,K.serialize)(t))},placeholder:(0,N.__)("Describe this product. What makes it unique? What are its most important features?","woocommerce")})},te="WooProductMenuMenuItem",oe=({children:e,order:t=1})=>(0,_.createElement)(h.Fill,{name:te},(o=>(0,f.createOrderedChildren)(e,t,o)));oe.Slot=({fillProps:e})=>(0,_.createElement)(h.Slot,{name:te,fillProps:e},f.sortFillsByOrder);const re=window.wc.adminLayout,ne=window.wp.coreData,ae=window.wp.keyboardShortcuts;function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},ie.apply(this,arguments)}var ce=o(87608),le=o.n(ce);const se=window.wp.compose,me=(0,_.forwardRef)((function(e,t){let{footer:o,header:r,sidebar:n,secondarySidebar:a,notices:i,content:c,drawer:l,actions:s,labels:m,className:d,shortcuts:u}=e;const p=(0,h.__unstableUseNavigateRegions)(u);!function(e){(0,_.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const f={drawer:(0,N.__)("Drawer"),header:(0,N.__)("Header"),body:(0,N.__)("Content"),secondarySidebar:(0,N.__)("Block Library"),sidebar:(0,N.__)("Settings"),actions:(0,N.__)("Publish"),footer:(0,N.__)("Footer"),...m};return(0,_.createElement)("div",ie({},p,{ref:(0,se.useMergeRefs)([t,p.ref]),className:le()(d,"interface-interface-skeleton",p.className,!!o&&"has-footer")}),!!l&&(0,_.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":f.drawer,tabIndex:"-1"},l),(0,_.createElement)("div",{className:"interface-interface-skeleton__editor"},!!r&&(0,_.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":f.header,tabIndex:"-1"},r),(0,_.createElement)("div",{className:"interface-interface-skeleton__body"},!!a&&(0,_.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":f.secondarySidebar,tabIndex:"-1"},a),!!i&&(0,_.createElement)("div",{className:"interface-interface-skeleton__notices"},i),(0,_.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":f.body,tabIndex:"-1"},c),!!n&&(0,_.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":f.sidebar,tabIndex:"-1"},n),!!s&&(0,_.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":f.actions,tabIndex:"-1"},s))),!!o&&(0,_.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":f.footer,tabIndex:"-1"},o))})),de=window.wp.primitives,ue=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function pe(e){let{as:t=h.DropdownMenu,className:o,label:r=(0,N.__)("Options"),popoverProps:n,toggleProps:a,children:i}=e;return(0,_.createElement)(t,{className:le()("interface-more-menu-dropdown",o),icon:ue,label:r,popoverProps:{position:"bottom left",...n,className:le()("interface-more-menu-dropdown__content",null==n?void 0:n.className)},toggleProps:{tooltipPosition:"bottom",...a}},(e=>i(e)))}const _e=window.wp.deprecated;var fe=o.n(_e);const ge=window.wp.preferences,he=(e,t)=>o=>{let{registry:r}=o;t&&r.dispatch(ge.store).set(e,"complementaryArea",t)},we=e=>t=>{let{registry:o}=t;o.dispatch(ge.store).set(e,"complementaryArea",null)},ve=(e,t)=>o=>{let{registry:r}=o;if(!t)return;const n=r.select(ge.store).get(e,"pinnedItems");!0!==(null==n?void 0:n[t])&&r.dispatch(ge.store).set(e,"pinnedItems",{...n,[t]:!0})},Ee=(e,t)=>o=>{let{registry:r}=o;if(!t)return;const n=r.select(ge.store).get(e,"pinnedItems");r.dispatch(ge.store).set(e,"pinnedItems",{...n,[t]:!1})};function be(e,t){return function(o){let{registry:r}=o;fe()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),r.dispatch(ge.store).toggle(e,t)}}function ye(e,t,o){return function(r){let{registry:n}=r;fe()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),n.dispatch(ge.store).set(e,t,!!o)}}function Ce(e,t){return function(o){let{registry:r}=o;fe()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),r.dispatch(ge.store).setDefaults(e,t)}}const ke=(0,a.createRegistrySelector)((e=>(t,o)=>e(ge.store).get(o,"complementaryArea"))),Se=(0,a.createRegistrySelector)((e=>(t,o,r)=>{var n;const a=e(ge.store).get(o,"pinnedItems");return null===(n=null==a?void 0:a[r])||void 0===n||n})),Ne=(0,a.createRegistrySelector)((e=>(t,o,r)=>(fe()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(ge.store).get(o,r)))),Te=(0,a.createReduxStore)("core/interface",{reducer:()=>{},actions:e,selectors:t});(0,a.register)(Te);const xe=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),Pe=function(e){let{icon:t,size:o=24,...r}=e;return(0,_.cloneElement)(t,{width:o,height:o,...r})},Ae=(0,_.createElement)(de.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)(de.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})),Ie=window.wc.navigation,Me=(e,t)=>Boolean(e)&&e!==t?e:t===j?(0,N.__)("Add new product","woocommerce"):t,Re=()=>(0,_.createElement)(_.Fragment,null,(0,_.createElement)(pe,{toggleProps:{onClick:()=>(0,U.recordEvent)("product_dropdown_click")},popoverProps:{className:"woocommerce-product-header__more-menu"}},(({onClose:e})=>(0,_.createElement)(_.Fragment,null,(0,_.createElement)(oe.Slot,{fillProps:{onClose:e}})))));function Le(e){switch(e.code){case"variable_product_no_variation_prices":case"product_form_field_error":return e.message;case"product_invalid_sku":return(0,N.__)("Invalid or duplicated SKU.","woocommerce");case"product_create_error":return(0,N.__)("Failed to create product.","woocommerce");case"product_publish_error":return(0,N.__)("Failed to publish product.","woocommerce");case"product_preview_error":return(0,N.__)("Failed to preview product.","woocommerce");default:return(0,N.__)("Failed to save product.","woocommerce")}}const De=(0,_.createContext)({errors:{},registerValidator:()=>()=>{},unRegisterValidator:()=>()=>{},validateField:()=>Promise.resolve(void 0),validateAll:()=>Promise.resolve({})});function Oe(){const e=(0,_.useContext)(De),[t,o]=(0,_.useState)(!1);return{isValidating:t,validate:async t=>(o(!0),new Promise(((o,r)=>{e.validateAll(t).then((e=>{!function(e){return Object.values(e).some(Boolean)}(e)?o():r(e)})).catch((()=>{r(e.errors)}))})).finally((()=>{o(!1)})))}}function Be({productStatus:e,...t}){const{createErrorNotice:o}=(0,a.useDispatch)("core/notices"),r=function({productStatus:e,productType:t="product",disabled:o,onClick:r,onSaveSuccess:n,onSaveError:i,...c}){const l=(0,_.useRef)(),[s]=(0,ne.useEntityProp)("postType",t,"id"),[m]=(0,ne.useEntityProp)("postType",t,"permalink"),{hasEdits:d,isDisabled:u}=(0,a.useSelect)((e=>{const{hasEditsForEntityRecord:o,isSavingEntityRecord:r}=e("core");return{isDisabled:r("postType",t,s),hasEdits:o("postType",t,s)}}),[s]),{isValidating:p,validate:f}=Oe(),g=o||u||p,{editEntityRecord:h,saveEditedEntityRecord:w}=(0,a.useDispatch)("core");let v;return"string"==typeof m&&(v=new URL(m),v.searchParams.append("preview","true")),{"aria-label":(0,N.__)("Preview in new tab","woocommerce"),children:(0,N.__)("Preview","woocommerce"),target:"_blank",...c,ref(e){"function"==typeof c.ref&&c.ref(e),l.current=e},"aria-disabled":g,href:null==v?void 0:v.toString(),variant:"tertiary",onClick:async function(o){var a;if(g)return o.preventDefault();if(r&&r(o),d){o.preventDefault();try{await f(),"auto-draft"===e&&await h("postType",t,s,{status:"draft"});const o=await w("postType",t,s,{throwOnError:!0});null===(a=l.current)||void 0===a||a.click(),n&&n(o)}catch(e){if(i){let t=e;t.code||(t={code:"product_preview_error"}),i(t)}}}}}}({productStatus:e,...t,onClick(){(0,U.recordEvent)("product_preview_changes",{source:V})},onSaveSuccess(t){if("auto-draft"===e){const e=(0,Ie.getNewPath)({},`/product/${t.id}`);(0,Ie.navigateTo)({url:e})}},onSaveError(e){const t=Le(e);o(t)}});return(0,_.createElement)(h.Button,{...r})}const Fe={cross_sell_ids:"cross_sells",reviews_allowed:"enable_reviews",downloadable:"is_downloadable",virtual:"is_virtual",images:"product_gallery",upsell_ids:"upsells"},Ve=["attributes","categories","description","manage_stock","menu_order","note","purchase_note","sale_price","short_description","tags","weight","cross_sell_ids","reviews_allowed","downloadable","virtual","images","upsell_ids"];function He(e,t){const{id:o,type:r}=t,n={product_id:o,source:"product-blocks-editor-v1",product_type:r};t.parent_id>0&&(t.note=t.description,delete t.description);for(const e of Object.keys(t))if(Ve.includes(e)){const o=Fe[e]||e;Array.isArray(t[e])||"string"==typeof t[e]?n[o]=t[e].length?"yes":"no":n[o]=t[e]?"yes":"no"}if(t.downloadable||t.virtual){const{downloadable:e,virtual:o}=t,r={virtual:o,downloadable:e};n.product_type_options=Object.keys(r).filter((e=>r[e])).join(",")}"images"in t&&(n.product_image=t.images.length?"yes":"no"),t.dimensions&&(n.dimensions=t.dimensions.length.length||t.dimensions.width.length||t.dimensions.height.length?"yes":"no"),(0,U.recordEvent)(e,n)}const Ue=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),ze=()=>{const{updateOptions:e}=(0,a.useDispatch)(x.OPTIONS_STORE_NAME),{shouldShowFeedbackBar:t}=(0,a.useSelect)((e=>{var t;const{getOption:o,hasFinishedResolution:r}=e(x.OPTIONS_STORE_NAME),n=o(P);return{shouldShowFeedbackBar:!!r("getOption",[P])&&(null===(t=window.wcTracks)||void 0===t?void 0:t.isEnabled)&&"yes"===n}}),[]);return{shouldShowFeedbackBar:t,maybeShowFeedbackBar:async()=>{var t;const{showFeedbackBarOption:o}=await(async()=>{const{getOption:e}=(0,a.resolveSelect)(x.OPTIONS_STORE_NAME);return{showFeedbackBarOption:await e(P)}})();(null===(t=window.wcTracks)||void 0===t?void 0:t.isEnabled)&&"no"!==o&&e({[P]:"yes"})},hideFeedbackBar:()=>{e({[P]:"no"})}}};function $e({productStatus:e,productType:t="product",...o}){const{createSuccessNotice:r,createErrorNotice:n}=(0,a.useDispatch)("core/notices"),{maybeShowFeedbackBar:i}=ze(),c=function({productStatus:e,productType:t="product",disabled:o,onClick:r,onSaveSuccess:n,onSaveError:i,...c}){const[l]=(0,ne.useEntityProp)("postType",t,"id"),{hasEdits:s,isDisabled:m}=(0,a.useSelect)((e=>{const{hasEditsForEntityRecord:o,isSavingEntityRecord:r}=e("core");return{isDisabled:r("postType",t,l),hasEdits:o("postType",t,l)}}),[l]),{isValidating:d,validate:u}=Oe(),p=o||m||"publish"!==e&&!s||d,{editEntityRecord:f,saveEditedEntityRecord:g}=(0,a.useDispatch)("core");let w;return w="publish"===e?(0,N.__)("Switch to draft","woocommerce"):s||"auto-draft"===e?(0,N.__)("Save draft","woocommerce"):(0,_.createElement)(_.Fragment,null,(0,_.createElement)(h.Icon,{icon:Ue}),(0,N.__)("Saved","woocommerce")),{children:w,...c,"aria-disabled":p,variant:"tertiary",onClick:async function(e){if(p)return e.preventDefault();r&&r(e);try{await u({status:"draft"}),await f("postType",t,l,{status:"draft"});const e=await g("postType",t,l,{throwOnError:!0});n&&n(e)}catch(e){i&&i(e)}}}}({productStatus:e,productType:t,...o,onSaveSuccess(t){if(He("product_edit",t),r((0,N.__)("Product saved as draft.","woocommerce")),i(),"auto-draft"===e){const e=(0,Ie.getNewPath)({},`/product/${t.id}`);(0,Ie.navigateTo)({url:e})}},onSaveError(e){const t=Le(e);n(t)}});return(0,_.createElement)(h.Button,{...c})}function We({productStatus:e,productType:t="product",...o}){const{createSuccessNotice:r,createErrorNotice:n}=(0,a.useDispatch)("core/notices"),{maybeShowFeedbackBar:i}=ze(),c=function({productType:e="product",productStatus:t,disabled:o,onClick:r,onPublishSuccess:n,onPublishError:i,...c}){const{isValidating:l,validate:s}=Oe(),[m]=(0,ne.useEntityProp)("postType",e,"id"),{isSaving:d,isDirty:u}=(0,a.useSelect)((t=>{const{isSavingEntityRecord:o,hasEditsForEntityRecord:r,getRawEntityRecord:n}=t("core");return{isSaving:o("postType",e,m),isDirty:r("postType",e,m),currentPost:n("postType",e,m)}}),[m]),p=d||l,_=o||p||!u,f="product"!==e||"publish"===t,{editEntityRecord:g,saveEditedEntityRecord:h}=(0,a.useDispatch)("core");return{children:f?(0,N.__)("Update","woocommerce"):(0,N.__)("Add","woocommerce"),...c,isBusy:p,"aria-disabled":_,variant:"primary",onClick:async function(t){r&&r(t);try{"product"===e?(await s({status:"publish"}),f||await g("postType",e,m,{status:"publish"})):await s();const t=await h("postType",e,m,{throwOnError:!0});t&&n&&n(t)}catch(e){if(i){let t=e;if(!t.code)if(t={code:f?"product_publish_error":"product_create_error"},e.variations)t.code="variable_product_no_variation_prices",t.message=e.variations;else{const o=Object.values(e).find((e=>void 0!==e));void 0!==o&&(t.code="product_form_field_error",t.message=o)}i(t)}}}}}({productType:t,productStatus:e,...o,onPublishSuccess(o){const n="product"!==t||"publish"===e;n&&He("product_update",o);const a=n?(0,N.__)("Product updated.","woocommerce"):(0,N.__)("Product added.","woocommerce"),c={icon:"ðŸŽ‰",actions:[{label:(0,N.__)("View in store","woocommerce"),url:o.permalink,onClick(e){e.preventDefault(),window.open(o.permalink,"_blank")}}]};if(r(a,c),i(),"auto-draft"===e){const e=(0,Ie.getNewPath)({},`/product/${o.id}`);(0,Ie.navigateTo)({url:e})}},onPublishError(e){const t=Le(e);n(t)}});return(0,_.createElement)(h.Button,{...c})}const Ge="woocommerce_product_tabs";function je({onChange:e=(()=>{})}){const[t,o]=(0,_.useState)(null),r=(0,Ie.getQuery)(),[n]=(0,ne.useEntityProp)("postType","product","id"),i=(0,a.useSelect)((e=>e("core").getEditedEntityRecord("postType","product",n)));return(0,_.useEffect)((()=>{e(t)}),[t]),(0,_.useEffect)((()=>{r.tab&&o(r.tab)}),[r.tab]),(0,_.createElement)(h.NavigableMenu,{role:"tablist",onNavigate:function(e,t){t.click()},className:"woocommerce-product-tabs",orientation:"horizontal"},(0,_.createElement)(h.Slot,{fillProps:{onClick:e=>{(0,Ie.navigateTo)({url:(0,Ie.getNewPath)({tab:e})}),(0,U.recordEvent)("product_tab_click",function(e,t){const o={product_tab:e,product_type:t.type,source:V};return"inventory"===e?{...o,is_store_stock_management_enabled:t.manage_stock}:o}(e,i))}},name:Ge},(e=>b?(function(e){var r,n;if(!t)for(let t=0;t<e.length;t++){if(e[t][0].props.disabled)continue;const a=(null===(n=null===(r=e[t][0].props)||void 0===r?void 0:r.children)||void 0===n?void 0:n.key)||null;return void o(a)}}(e),b(e)):null)))}const qe=(0,N.__)("Return to the main product","woocommerce");function Ze({onTabSelect:e,productType:t="product"}){const[o]=(0,ne.useEntityProp)("postType",t,"id"),r=(0,a.useSelect)((e=>{const{getEntityRecord:r}=e("core");return r("postType",t,o)}),[o]),[n]=(0,ne.useEntityProp)("postType",t,"name");if(!o)return null;const i=(null==r?void 0:r.parent_id)>0;return(0,_.createElement)("div",{className:"woocommerce-product-header",role:"region","aria-label":(0,N.__)("Product Editor top bar.","woocommerce"),tabIndex:-1},(0,_.createElement)("div",{className:"woocommerce-product-header__inner"},i?(0,_.createElement)("div",{className:"woocommerce-product-header__back"},(0,_.createElement)(h.Tooltip,{className:"woocommerce-product-header__back-tooltip",text:qe},(0,_.createElement)("div",{className:"woocommerce-product-header__back-tooltip-wrapper"},(0,_.createElement)(h.Button,{icon:xe,isTertiary:!0,onClick:()=>{(0,U.recordEvent)("product_variation_back_to_main_product",{source:V});const e=(0,Ie.getNewPath)({tab:"variations"},`/product/${null==r?void 0:r.parent_id}`);(0,Ie.navigateTo)({url:e})}},(0,N.__)("Main product","woocommerce"))))):(0,_.createElement)("div",null),(0,_.createElement)("h1",{className:"woocommerce-product-header__title"},i?(0,_.createElement)("div",{className:"woocommerce-product-header__variable-product-title"},(0,_.createElement)(Pe,{icon:Ae}),(0,_.createElement)("span",{className:"woocommerce-product-header__variable-product-name"},null==r?void 0:r.name),(0,_.createElement)("span",{className:"woocommerce-product-header__variable-product-id"},"# ",null==r?void 0:r.id)):Me(n,null==r?void 0:r.name)),(0,_.createElement)("div",{className:"woocommerce-product-header__actions"},!i&&(0,_.createElement)($e,{productType:t,productStatus:null==r?void 0:r.status}),(0,_.createElement)(Be,{productType:t,productStatus:null==r?void 0:r.status}),(0,_.createElement)(We,{productType:t,productStatus:null==r?void 0:r.status}),(0,_.createElement)(re.WooHeaderItem.Slot,{name:"product"}),(0,_.createElement)(Re,null))),(0,_.createElement)(je,{onChange:e}))}const Je=window.wp.mediaUtils,Xe=window.wp.plugins,Ye=window.wp.blockEditor,Ke=e=>(t,o)=>{const r=new URLSearchParams(t.search),n=new URLSearchParams(o.search);return r.delete("tab"),n.delete("tab"),(void 0===e||"/add-product"!==n.get("path")||r.get("path")!=="/product/"+e)&&r.toString()!==n.toString()};function Qe(e){return delete e.content,delete e.blocks,e}function et(e="product"){const[t]=(0,ne.useEntityProp)("postType",e,"id"),{edits:o}=(0,a.useSelect)((o=>{const{getEntityRecordNonTransientEdits:r}=o("core");return{edits:Qe(r("postType",e,t))}}),[t,e]);return{hasEdit:function(e){if(e.startsWith("meta_data.")){const t=e.replace("meta_data.","");return o.hasOwnProperty("meta_data")&&-1!==o.meta_data.findIndex((e=>e.key===t))}return o.hasOwnProperty(e)},hasEdits:Object.keys(o).length>0}}const tt=(0,_.createContext)("product"),ot=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M20 10.8H6.7l4.1-4.5-1.1-1.1-5.8 6.3 5.8 5.8 1.1-1.1-4-3.9H20z"}));function rt({onClick:e}){return(0,_.createElement)(h.Button,{className:"woocommerce-iframe-editor__back-button",icon:ot,onClick:e},(0,N.__)("Back","woocommerce"))}function nt({children:e,enableResizing:t,settings:o,...r}){const n=(0,Ye.__unstableUseMouseMoveTypingReset)();return(0,_.createElement)(Ye.__unstableIframe,{ref:n,name:"editor-canvas",className:"edit-site-visual-editor__editor-canvas",...r},(0,_.createElement)(_.Fragment,null,(0,_.createElement)(Ye.__unstableEditorStyles,{styles:null==o?void 0:o.styles}),(0,_.createElement)("style",null,".is-root-container {\n\t\t\t\t\t\t\t\tpadding: 36px;\n\t\t\t\t\t\t\t\tdisplay: flow-root;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbody { position: relative; }"),t&&(0,_.createElement)("style",null,".is-root-container { min-height: 0 !important; }"),e))}const at=(0,_.createContext)({hasRedo:!1,hasUndo:!1,isDocumentOverviewOpened:!1,isInserterOpened:!1,isSidebarOpened:!0,redo:()=>{},setIsDocumentOverviewOpened:()=>{},setIsInserterOpened:()=>{},setIsSidebarOpened:()=>{},undo:()=>{}}),it=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),ct=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),lt=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),st=(0,_.forwardRef)((function(e,t){const{hasRedo:o,redo:r}=(0,_.useContext)(at);return(0,_.createElement)(h.Button,{...e,ref:t,icon:(0,N.isRTL)()?lt:ct,label:(0,N.__)("Redo","woocommerce"),"aria-disabled":!o,onClick:o?r:void 0,className:"editor-history__redo"})})),mt=(0,_.forwardRef)((function(e,t){const{hasUndo:o,undo:r}=(0,_.useContext)(at);return(0,_.createElement)(h.Button,{...e,ref:t,icon:(0,N.isRTL)()?ct:lt,label:(0,N.__)("Undo","woocommerce"),"aria-disabled":!o,onClick:o?r:void 0,className:"editor-history__undo"})})),dt=(0,_.createElement)(de.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)(de.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"})),ut=(0,_.forwardRef)((function(e,t){const{isDocumentOverviewOpened:o,setIsDocumentOverviewOpened:r}=(0,_.useContext)(at);return(0,_.createElement)(h.Button,{...e,ref:t,icon:dt,isPressed:o,label:(0,N.__)("Document overview","woocommerce"),onClick:function(){r(!o)},className:"document-overview"})})),pt=(0,_.createElement)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),_t=(0,_.forwardRef)((function(e,t){const{isSidebarOpened:o,setIsSidebarOpened:r}=(0,_.useContext)(at);return(0,_.createElement)(h.Button,{...e,ref:t,icon:pt,isPressed:o,label:(0,N.__)("Show/hide block inspector","woocommerce"),onClick:function(){r(!o)}})})),ft=()=>{const{createNotice:e}=(0,a.useDispatch)("core/notices"),{blocks:t}=(0,a.useSelect)((e=>{const{getBlocks:t}=e(Ye.store);return{blocks:t()}}),[]),o=(0,se.useCopyToClipboard)((()=>(0,K.serialize)(t)),(()=>{e("success",(0,N.__)("All content copied.","woocommerce"))}));return(0,_.createElement)(h.MenuItem,{ref:o,role:"menuitem",onClick:()=>{(0,U.recordEvent)("product_iframe_editor_copy_all_content_menu_item_click")},disabled:!t.length},(0,N.__)("Copy all content","woocommerce"))},gt=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"})),ht=()=>(0,_.createElement)(h.MenuItem,{role:"menuitem",icon:gt,href:(0,N.__)("https://wordpress.org/documentation/article/wordpress-block-editor/","woocommerce"),onClick:()=>{(0,U.recordEvent)("product_iframe_editor_help_menu_item_click")},target:"_blank",rel:"noopener noreferrer"},(0,N.__)("Help","woocommerce"),(0,_.createElement)(h.VisuallyHidden,{as:"span"},(0,N.__)("(opens in a new tab)","woocommerce"))),wt=()=>(0,_.createElement)(h.MenuGroup,{label:(0,N.__)("Tools","woocommerce")},(0,_.createElement)(ft,null),(0,_.createElement)(ht,null)),vt=()=>(0,_.createElement)(pe,null,(()=>(0,_.createElement)(_.Fragment,null,(0,_.createElement)(wt,null))));function Et({onSave:e=(()=>{}),onCancel:t=(()=>{})}){const{isInserterOpened:o,setIsInserterOpened:r}=(0,_.useContext)(at),n=(0,se.useViewportMatch)("medium"),i=(0,_.useRef)(null),{isInserterEnabled:c,isTextModeEnabled:l}=(0,a.useSelect)((e=>{var t,o;const{hasInserterItems:r,getBlockRootClientId:n,getBlockSelectionEnd:a,__unstableGetEditorMode:i}=e(Ye.store);return{isTextModeEnabled:"text"===i(),isInserterEnabled:r(null!==(o=n(null!==(t=a())&&void 0!==t?t:""))&&void 0!==o?o:void 0)}}),[]),s=(0,N.__)("Document tools","woocommerce"),m=(0,_.useCallback)((()=>{var e;o?(null===(e=i.current)||void 0===e||e.focus(),r(!1)):r(!0)}),[o,r]);return(0,_.createElement)(Ye.NavigableToolbar,{className:"woocommerce-iframe-editor__header-toolbar","aria-label":s},(0,_.createElement)("div",{className:"woocommerce-iframe-editor__header-toolbar-left"},(0,_.createElement)(h.ToolbarItem,{ref:i,as:h.Button,className:"woocommerce-iframe-editor__header-toolbar-inserter-toggle",variant:"primary",isPressed:o,onMouseDown:e=>{e.preventDefault()},onClick:m,disabled:!c,icon:it,label:o?(0,N.__)("Close","woocommerce"):(0,N.__)("Add","woocommerce"),showTooltip:!0}),n&&(0,_.createElement)(h.ToolbarItem,{as:Ye.ToolSelector,disabled:l}),(0,_.createElement)(h.ToolbarItem,{as:mt}),(0,_.createElement)(h.ToolbarItem,{as:st}),(0,_.createElement)(h.ToolbarItem,{as:ut})),(0,_.createElement)("div",{className:"woocommerce-iframe-editor__header-toolbar-right"},(0,_.createElement)(h.ToolbarItem,{as:h.Button,variant:"tertiary",className:"woocommerce-modal-actions__cancel-button",onClick:t,text:(0,N.__)("Cancel","woocommerce")}),(0,_.createElement)(h.ToolbarItem,{as:h.Button,variant:"primary",className:"woocommerce-modal-actions__done-button",onClick:e,text:(0,N.__)("Done","woocommerce")}),(0,_.createElement)(h.ToolbarItem,{as:_t,className:"woocommerce-show-block-inspector-panel"}),(0,_.createElement)(h.ToolbarItem,{as:vt})))}const bt=window.wp.keycodes,yt=20;function Ct({direction:e,resizeWidthBy:t}){return(0,_.createElement)(_.Fragment,null,(0,_.createElement)("button",{className:`resizable-editor__drag-handle is-${e}`,"aria-label":(0,N.__)("Drag to resize","woocommerce"),"aria-describedby":`resizable-editor__resize-help-${e}`,onKeyDown:function(o){const{keyCode:r}=o;"left"===e&&r===bt.LEFT||"right"===e&&r===bt.RIGHT?t(yt):("left"===e&&r===bt.RIGHT||"right"===e&&r===bt.LEFT)&&t(-yt)}}),(0,_.createElement)(h.VisuallyHidden,{id:`resizable-editor__resize-help-${e}`},(0,N.__)("Use left and right arrow keys to resize the canvas.","woocommerce")))}const kt={position:void 0,userSelect:void 0,cursor:void 0,width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0};function St({enableResizing:e,height:t,children:o}){const[r,n]=(0,_.useState)("100%"),a=(0,_.useRef)(),i=(0,_.useCallback)((e=>{a.current&&n(a.current.offsetWidth+e)}),[]);return(0,_.createElement)(h.ResizableBox,{ref:e=>{a.current=null==e?void 0:e.resizable},size:{width:e?r:"100%",height:e&&t?t:"100%"},onResizeStop:(e,t,o)=>{n(o.style.width)},minWidth:300,maxWidth:"100%",maxHeight:"100%",minHeight:t,enable:{right:e,left:e},showHandle:e,resizeRatio:2,handleComponent:{left:(0,_.createElement)(Ct,{direction:"left",resizeWidthBy:i}),right:(0,_.createElement)(Ct,{direction:"right",resizeWidthBy:i})},handleClasses:void 0,handleStyles:{left:kt,right:kt}},o)}const Nt=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function Tt(){const{setIsInserterOpened:e}=(0,_.useContext)(at),t=(0,se.useViewportMatch)("medium","<"),{rootClientId:o}=(0,a.useSelect)((e=>{const{getBlockRootClientId:t}=e(Ye.store);return{rootClientId:t("")}})),r=(0,_.useCallback)((()=>e(!1)),[e]),n=t?"div":h.VisuallyHidden,[i,c]=(0,se.__experimentalUseDialog)({onClose:r,focusOnMount:!1}),l=(0,_.useRef)(null);return(0,_.useEffect)((()=>{var e;null===(e=l.current)||void 0===e||e.focusSearch()}),[]),(0,_.createElement)("div",{ref:i,...c,className:"woocommerce-iframe-editor__inserter-panel"},(0,_.createElement)(n,{className:"woocommerce-iframe-editor__inserter-panel-header"},(0,_.createElement)(h.Button,{icon:Nt,onClick:r,label:(0,N.__)("Close block inserter","woocommerce")})),(0,_.createElement)("div",{className:"woocommerce-iframe-editor__inserter-panel-content"},(0,_.createElement)(Ye.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:t,rootClientId:o,ref:l})))}const xt=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));function Pt(){const{setIsDocumentOverviewOpened:e}=(0,_.useContext)(at),t=(0,se.useFocusOnMount)("firstElement"),o=(0,se.useFocusReturn)(),r=(0,se.useFocusReturn)(),[n,a]=(0,_.useState)(null),[i,c]=(0,_.useState)("list-view"),l=(0,_.useRef)(null),s=(0,se.useMergeRefs)([r,t,l,a]);return(0,_.createElement)("div",{className:"woocommerce-iframe-editor__document-overview-sidebar",onKeyDown:function(t){"Escape"!==t.code||t.defaultPrevented||(t.preventDefault(),e(!1))}},(0,_.createElement)(h.Button,{className:"woocommerce-iframe-editor__document-overview-sidebar-close-button",ref:o,icon:xt,label:(0,N.__)("Close","woocommerce"),onClick:()=>e(!1)}),(0,_.createElement)(h.TabPanel,{className:"woocommerce-iframe-editor__document-overview-sidebar-tab-panel",initialTabName:i,onSelect:c,tabs:[{name:"list-view",title:"List View",className:"woocommerce-iframe-editor__document-overview-sidebar-tab-item"}]},(e=>(0,_.createElement)("div",{className:"woocommerce-iframe-editor__document-overview-sidebar-tab-content",ref:s},"list-view"===e.name?(0,_.createElement)(Ye.__experimentalListView,{dropZoneElement:n}):null))))}function At(){const{isInserterOpened:e,isDocumentOverviewOpened:t}=(0,_.useContext)(at);return e?(0,_.createElement)(Tt,null):t?(0,_.createElement)(Pt,null):null}const It=50;function Mt({maxHistory:e=It,setBlocks:t}){const[o,r]=(0,_.useState)([]),[n,a]=(0,_.useState)(0);return{appendEdit:function(t){const i=[...o.slice(0,n+1),t].slice(-1*e);r(i),a(i.length-1)},hasRedo:!!o.length&&n<o.length-1,hasUndo:!!o.length&&n>0,redo:function(){const e=Math.min(o.length-1,n+1);o[e]&&(t(o[e]),a(e))},undo:function(){const e=Math.max(0,n-1);o[e]&&(t(o[e]),a(e))}}}function Rt({onChange:e=(()=>{}),onClose:t,onInput:o=(()=>{}),settings:r,showBackButton:n=!1}){const[i]=(0,se.useResizeObserver)(),[c,l]=(0,_.useState)([]),s=(0,a.useSelect)((e=>e(u).getModalEditorBlocks()),[]);(0,_.useEffect)((()=>{l(s)}),[]);const{setModalEditorBlocks:m,setModalEditorContentHasChanged:d}=(0,a.useDispatch)(u),{appendEdit:p}=Mt({setBlocks:m}),{appendEdit:f,hasRedo:g,hasUndo:w,redo:v,undo:E}=Mt({setBlocks:l}),[b,y]=(0,_.useState)(!1),[C,k]=(0,_.useState)(!1),[S,N]=(0,_.useState)(!0),{clearSelectedBlock:T,updateSettings:x}=(0,a.useDispatch)(Ye.store),P=(0,a.useSelect)((e=>e(Ye.store).getSettings()),[]);(0,_.useEffect)((()=>{x(productBlockEditorSettings)}),[]);const A=r||P;return(0,_.createElement)("div",{className:"woocommerce-iframe-editor"},(0,_.createElement)(at.Provider,{value:{hasRedo:g,hasUndo:w,isInserterOpened:b,isDocumentOverviewOpened:C,redo:v,setIsInserterOpened:y,setIsDocumentOverviewOpened:k,undo:E,isSidebarOpened:S,setIsSidebarOpened:N}},(0,_.createElement)(Ye.BlockEditorProvider,{settings:{...A,hasFixedToolbar:!0,templateLock:!1},value:s,onChange:t=>{f(t),l(t),e(t)},onInput:e=>{f(e),l(e),o(e)},useSubRegistry:!0},(0,_.createElement)(Et,{onSave:()=>{p(c),m(c),d(!0),e(c),null==t||t()},onCancel:()=>{p(s),m(s),e(s),l(s),null==t||t()}}),(0,_.createElement)("div",{className:"woocommerce-iframe-editor__main"},(0,_.createElement)(At,null),(0,_.createElement)(Ye.BlockTools,{className:"woocommerce-iframe-editor__content",onClick:e=>{e.target===e.currentTarget&&T()}},(0,_.createElement)(Ye.BlockEditorKeyboardShortcuts.Register,null),n&&t&&(0,_.createElement)(rt,{onClick:()=>{setTimeout(t,550)}}),(0,_.createElement)(St,{enableResizing:!0,height:"100%"},(0,_.createElement)(nt,{enableResizing:!0,settings:A},i,(0,_.createElement)(Ye.BlockList,{className:"edit-site-block-editor__block-list wp-site-blocks"})),(0,_.createElement)(h.Popover.Slot,null)),(0,_.createElement)("div",{className:"woocommerce-iframe-editor__content-inserter-clipper"})),S&&(0,_.createElement)("div",{className:"woocommerce-iframe-editor__sidebar"},(0,_.createElement)(Ye.BlockInspector,null))))))}function Lt({initialBlocks:e,onChange:t,onClose:o,title:r}){const{closeModalEditor:n}=(0,a.useDispatch)(u),i=(0,se.useDebounce)((e=>{null==t||t(e)}),250);function c(){const e=i.flush();e&&(null==t||t(e)),n(),null==o||o()}return(0,_.createElement)(h.Modal,{className:"woocommerce-modal-editor",title:r,onRequestClose:c,shouldCloseOnClickOutside:!1},(0,_.createElement)(Rt,{initialBlocks:e,onInput:i,onChange:i,onClose:c}))}function Dt({context:e,settings:t,productType:o,productId:r}){!function(e="product"){const[t]=(0,ne.useEntityProp)("postType",e,"id"),{hasEdits:o}=et(e),{isSaving:r}=(0,a.useSelect)((o=>{const{isSavingEntityRecord:r}=o("core");return{isSaving:r("postType",e,t)}}),[t,e]);(0,Ie.useConfirmUnsavedChanges)(o||r,Ke(t))}(o);const n=(0,a.useSelect)((e=>{const{canUser:t}=e("core");return!1!==t("create","media","")}),[]);(0,_.useEffect)((()=>{const e=()=>{document.dispatchEvent(new Event("wp-pin-menu"))};return window.addEventListener("scroll",e,{once:!0}),()=>window.removeEventListener("scroll",e)}),[]);const i=(0,_.useMemo)((()=>{const e=n?{mediaUpload({onError:e,...o}){(0,Je.uploadMedia)({wpAllowedMimeTypes:(null==t?void 0:t.allowedMimeTypes)||void 0,onError:({message:t})=>e(t),...o})}}:{};return{...t,...e,templateLock:"all"}}),[n,t]),[c,l,s]=(0,ne.useEntityBlockEditor)("postType",o,{id:r}),{updateEditorSettings:m}=(0,a.useDispatch)("core/editor");(0,_.useLayoutEffect)((()=>{var e;const t=null===(e=null==i?void 0:i.templates)||void 0===e?void 0:e[o];if(!t)return;const r=(0,K.synchronizeBlocksWithTemplate)([],t);s(r,{}),m(null!=i?i:{})}),[o,r]);const d=(0,a.useSelect)((e=>e(u).isModalEditorOpen()),[]),{closeModalEditor:p}=(0,a.useDispatch)(u);return c?d?(0,_.createElement)(Lt,{onClose:p,title:(0,N.__)("Edit description","woocommerce")}):(0,_.createElement)("div",{className:"woocommerce-product-block-editor"},(0,_.createElement)(Ye.BlockContextProvider,{value:e},(0,_.createElement)(Ye.BlockEditorProvider,{value:c,onInput:l,onChange:s,settings:i,useSubRegistry:!1},(0,_.createElement)(Ye.BlockEditorKeyboardShortcuts.Register,null),(0,_.createElement)(Ye.BlockTools,null,(0,_.createElement)(Ye.ObserveTyping,null,(0,_.createElement)(Ye.BlockList,{className:"woocommerce-product-block-editor__block-list"}))),(0,_.createElement)(tt.Provider,{value:e.postType},(0,_.createElement)(Xe.PluginArea,{scope:"woocommerce-product-block-editor"}))))):null}function Ot({initialValue:e,children:t}){const o=(0,_.useRef)({}),r=(0,_.useRef)({}),[n,a]=(0,_.useState)({});async function i(t,r){const n=o.current;return t in n?(0,n[t])(e,r).then((e=>(a((o=>({...o,[t]:e}))),e))):Promise.resolve(void 0)}return(0,_.createElement)(De.Provider,{value:{errors:n,registerValidator:function(e,t){return o.current={...o.current,[e]:t},t=>{r.current[e]=t}},unRegisterValidator:function(e){o.current[e]&&delete o.current[e],r.current[e]&&delete r.current[e]},validateField:i,validateAll:async function(e){const t={},n=o.current;for(const o in n)t[o]=await i(o,e);a(t);const c=function(e,t){const o=Object.entries(e).filter((([e,o])=>(null==o?void 0:o.closest('.is-selected[role="tabpanel"]'))&&Boolean(t[e]))),[r]=o.sort((([,e],[,t])=>e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),[,n]=null!=r?r:[];return n}(r.current,t);return null==c||c.focus(),t}}},t)}function Bt({product:e,productType:t="product",settings:o}){const[r,n]=(0,_.useState)(null),a=(0,re.useExtendLayout)("product-block-editor");return(0,_.createElement)(re.LayoutContextProvider,{value:a},(0,_.createElement)(_.StrictMode,null,(0,_.createElement)(ne.EntityProvider,{kind:"postType",type:t,id:e.id},(0,_.createElement)(ae.ShortcutProvider,null,(0,_.createElement)(Ot,{initialValue:e},(0,_.createElement)(me,{header:(0,_.createElement)(Ze,{onTabSelect:n,productType:t}),content:(0,_.createElement)(_.Fragment,null,(0,_.createElement)(Dt,{settings:o,productType:t,productId:e.id,context:{selectedTab:r,postType:t,postId:e.id}}))}),(0,_.createElement)(h.Popover.Slot,null))))))}const Ft=window.wp.blockLibrary,Vt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-catalog-visibility-field","description":"A checkbox to manage the catalog visibility of the product.","title":"Product catalog visibility","category":"widgets","keywords":["products","catalog"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"visibility":{"type":"string","enum":["visible","catalog","search","hidden"],"default":"visible"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}'),Ht=window.wc.blockTemplates;function Ut(e){const{postType:t}=e,o=(0,ne.useEntityId)("postType",t);return{getEvaluationContext:r=>{const n=r("core").getEditedEntityRecord("postType",t,o);return{...e,editedProduct:n}}}}function zt(e){const{metadata:t,settings:o,name:r}=e,n={...t,usesContext:(a=t.usesContext,[...a||[],"postType"])};var a;return(0,Ht.registerWooBlockType)({name:r,metadata:n,settings:o},Ut)}const{name:$t,...Wt}=Vt,Gt={example:{},edit:function({attributes:e}){const{label:t,visibility:o}=e,r=(0,Ht.useWooBlockProps)(e),[n,a]=(0,ne.useEntityProp)("postType","product","catalog_visibility"),i=n===o||"hidden"===n;return(0,_.createElement)("div",{...r},(0,_.createElement)(h.CheckboxControl,{label:t,checked:i,onChange:function(e){if(e){if("visible"===n)return void a(o);a("hidden")}else{if("hidden"===n)return"catalog"===o?void a("search"):"search"===o?void a("catalog"):void 0;a("visible")}}}))}};function jt(){return zt({name:$t,metadata:Wt,settings:Gt})}const qt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-checkbox-field","title":"Product checkbox control","category":"woocommerce","description":"A reusable checkbox for the product editor.","keywords":["products","checkbox","input"],"textdomain":"default","attributes":{"title":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"property":{"type":"string"},"tooltip":{"type":"string"},"checkedValue":{"type":"string"},"uncheckedValue":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),Zt=function(e,t){var o;const r=e.startsWith("meta_data."),n=e.replace("meta_data.",""),[a,i]=(0,ne.useEntityProp)("postType",(null==t?void 0:t.postType)||"product",e),[c,l]=(0,ne.useEntityProp)("postType",(null==t?void 0:t.postType)||"product","meta_data");return[r?(null===(o=c.find((e=>e.key===n)))||void 0===o?void 0:o.value)||(null==t?void 0:t.fallbackValue):a,r?e=>{const t=c.find((e=>e.key===n)),o=t?{...t,value:e}:{key:n,value:e};l([...c.filter((e=>e.key!==n)),o])}:i]},Jt=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"}));var Xt=o(33561);const Yt=["a","b","em","i","strong","p","br"],Kt=["target","href","rel","name","download"];function Qt(e,t){const o=(null==t?void 0:t.tags)||Yt,r=(null==t?void 0:t.attr)||Kt;return{__html:(0,Xt.sanitize)(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:r})}}const eo=({value:e,label:t,onChange:o,tooltip:r,title:n,checkedValue:a,uncheckedValue:i,disabled:c})=>(0,_.createElement)("div",{className:"woocommerce-product-form__checkbox"},n&&(0,_.createElement)("h4",null,n),(0,_.createElement)("div",{className:"woocommerce-product-form__checkbox-wrapper"},(0,_.createElement)(h.CheckboxControl,{label:t,checked:void 0!==a?a===e:e,onChange:function(e){o(e?void 0!==a?a:e:void 0!==i?i:e)},disabled:c}),r&&(0,_.createElement)(h.Tooltip,{text:(0,_.createElement)("span",{dangerouslySetInnerHTML:Qt(r)}),position:"top center",className:"woocommerce-product-form__checkbox-tooltip",delay:0},(0,_.createElement)("span",{className:"woocommerce-product-form__checkbox-tooltip-icon"},(0,_.createElement)(Pe,{icon:Jt,size:21.94,fill:"#949494"}))))),{name:to,...oo}=qt,ro={example:{},edit:function({attributes:e,context:{postType:t}}){const{property:o,title:r,label:n,tooltip:a,checkedValue:i,uncheckedValue:c,disabled:l}=e,s=(0,Ht.useWooBlockProps)(e),[m,d]=Zt(o,{postType:t,fallbackValue:!1});return(0,_.createElement)("div",{...s},(0,_.createElement)(eo,{value:m||null,onChange:d,label:n||"",title:r,tooltip:a,checkedValue:i,uncheckedValue:c,disabled:l}))}},no=()=>zt({name:to,metadata:oo,settings:ro}),ao=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-collapsible","title":"Collapsible","category":"widgets","description":"Container with collapsible inner blocks.","textdomain":"default","attributes":{"toggleText":{"type":"string","__experimentalRole":"content"},"initialCollapsed":{"type":"boolean"},"persistRender":{"type":"boolean"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}'),{name:io}=ao,co={example:{},edit:function({attributes:e}){const t=(0,Ht.useWooBlockProps)(e),{toggleText:o,initialCollapsed:r,persistRender:n=!0}=e;return(0,_.createElement)("div",{...t},(0,_.createElement)(f.CollapsibleContent,{toggleText:o,initialCollapsed:r,persistRender:n},(0,_.createElement)(Ye.InnerBlocks,{templateLock:"all"})))}},lo=()=>zt({name:io,metadata:ao,settings:co}),so=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/conditional","title":"Conditional","category":"widgets","description":"Container to only conditionally render inner blocks.","textdomain":"default","attributes":{"mustMatch":{"__experimentalRole":"content","type":"array","items":{"type":"object"},"default":[]}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}'),{name:mo}=so,uo={example:{},edit:function({attributes:e,context:t}){fe()("`woocommerce/conditional` block",{alternative:"`hideConditions` attribute on any block"});const{postType:o}=t,r=(0,Ht.useWooBlockProps)(e),{mustMatch:n}=e,i=(0,ne.useEntityId)("postType",o),c=(0,a.useSelect)((e=>{const t=e("core").getEditedEntityRecord("postType",o,i);for(const[e,o]of Object.entries(n))if(!o.includes(t[e]))return!1;return!0}),[o,i,n]);return(0,_.createElement)(f.DisplayState,{...r,state:c?"visible":"visually-hidden"},(0,_.createElement)(Ye.InnerBlocks,{templateLock:"all"}))}},po=()=>zt({name:mo,metadata:so,settings:uo}),_o=(0,_.createElement)(de.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M4 20h16v-1.5H4V20zm0-4.8h16v-1.5H4v1.5zm0-6.4v1.5h16V8.8H4zM16 4H4v1.5h12V4z"})),fo=window.wp.hooks,go=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-description-field","title":"Product description","category":"woocommerce","description":"The product description.","keywords":["products","description"],"textdomain":"default","attributes":{"__contentEditable":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":true}}');function ho({nonAnimatedSrc:e,animatedSrc:t}){return(0,_.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,_.createElement)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,_.createElement)("img",{src:t,width:"312",height:"240",alt:""}))}function wo(){const{toggle:e}=(0,a.useDispatch)("core/preferences");return(0,_.createElement)(h.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,N.__)("Welcome to the block editor","woocommerce"),finishButtonText:(0,N.__)("Get started","woocommerce"),onFinish:()=>e("core/edit-post","welcomeGuide"),pages:[{image:(0,_.createElement)(ho,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,_.createElement)(_.Fragment,null,(0,_.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,N.__)("Welcome to the block editor","woocommerce")),(0,_.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,N.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct â€œblockâ€ of content.","woocommerce")))},{image:(0,_.createElement)(ho,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,_.createElement)(_.Fragment,null,(0,_.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,N.__)("Make each block your own","woocommerce")),(0,_.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,N.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.","woocommerce")))},{image:(0,_.createElement)(ho,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,_.createElement)(_.Fragment,null,(0,_.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,N.__)("Get to know the block library","woocommerce")),(0,_.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,_.createInterpolateElement)((0,N.__)("All of the blocks available to you live in the block library. Youâ€™ll find it wherever you see the <InserterIconImage /> icon.","woocommerce"),{InserterIconImage:(0,_.createElement)("img",{alt:(0,N.__)("inserter","woocommerce"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,_.createElement)(ho,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,_.createElement)(_.Fragment,null,(0,_.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,N.__)("Learn how to use the block editor","woocommerce")),(0,_.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,N.__)("New to the block editor? Want to learn more about using it? ","woocommerce"),(0,_.createElement)(h.ExternalLink,{href:(0,N.__)("https://wordpress.org/documentation/article/wordpress-block-editor/","woocommerce")},(0,N.__)("Here's a detailed guide.","woocommerce"))))}]})}function vo(){const{isActive:e}=(0,a.useSelect)((e=>{const{get:t}=e("core/preferences");return{isActive:t("core/edit-post","welcomeGuide")}}),[]);return e?(0,_.createElement)(wo,null):null}function Eo({label:e=(0,N.__)("Edit Product description","woocommerce"),text:t=(0,N.__)("Full editor","woocommerce")}){const{openModalEditor:o,setModalEditorBlocks:r}=(0,a.dispatch)(u),[n]=(0,ne.useEntityProp)("postType","product","description");return(0,_.createElement)(h.ToolbarButton,{label:e,onClick:()=>{let e=(0,K.parse)(n);const t=bo(e);t&&(e=(0,K.rawHandler)({HTML:t})),r(e),(0,U.recordEvent)("product_add_description_click"),o()}},t)}function bo(e){return!(1!==e.length||"core/freeform"!==e[0].name)&&e[0].attributes.content}const yo=(0,se.createHigherOrderComponent)((e=>t=>{var o;return"woocommerce/product-summary-field"!==(null==t?void 0:t.name)?(0,_.createElement)(e,{...t}):(null==t?void 0:t.isSelected)?"product-description__content"!==(null===(o=null==t?void 0:t.attributes)||void 0===o?void 0:o._templateBlockId)?(0,_.createElement)(e,{...t}):(0,_.createElement)(_.Fragment,null,(0,_.createElement)(Ye.BlockControls,{group:"other"},(0,_.createElement)(Eo,null)),(0,_.createElement)(e,{...t})):(0,_.createElement)(e,{...t})}),"wooBlockwithFullEditorToolbarButton"),{name:Co,...ko}=go,So={example:{},edit:function({attributes:e}){const[t,o]=(0,ne.useEntityProp)("postType","product","description"),[r,n]=(0,_.useState)([]),{isModalEditorOpen:i,modalEditorBlocks:c,hasChanged:l}=(0,a.useSelect)((e=>({isModalEditorOpen:e(u).isModalEditorOpen(),modalEditorBlocks:e(u).getModalEditorBlocks(),hasChanged:e(u).getModalEditorContentHasChanged()})),[]);(0,_.useEffect)((()=>{if(!t)return void n([]);if(-1===t.indexOf("\x3c!-- wp:"))return;const e=(0,K.parse)(t);bo(e)||n(e)}),[t]),(0,_.useEffect)((()=>{if(!l)return;(null==c?void 0:c.length)||o("");const e=(0,K.serialize)(function(e){if(1===e.length){const{content:t}=e[0].attributes;if(!t||!t.trim())return[]}return e}(c));o(e)}),[c,o,l]);const s=(0,Ht.useWooBlockProps)(e,{className:le()({"has-blocks":!!t.length}),tabIndex:0}),m=(0,Ye.useInnerBlocksProps)({},{templateLock:"contentOnly",allowedBlocks:["woocommerce/product-summary-field"]});return(0,_.createElement)("div",{...s},(null==r?void 0:r.length)?(0,_.createElement)(_.Fragment,null,(0,_.createElement)(Ye.BlockControls,null,(0,_.createElement)(Eo,{text:(0,N.__)("Edit in full editor","woocommerce")})),(0,_.createElement)(Ye.BlockPreview,{blocks:r,viewportWidth:800,additionalStyles:[{css:"body { padding: 32px; height: 10000px }"}]})):(0,_.createElement)("div",{...m}),i&&(0,_.createElement)(vo,null))},icon:_o},No=()=>zt({name:Co,metadata:ko,settings:So});(0,fo.addFilter)("editor.BlockEdit","woocommerce/summary-block-with-full-editor-button",yo);const To=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-downloads-field","title":"Product downloads","category":"widgets","description":"The product downloads.","keywords":["products","downloads"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),xo=(0,_.createElement)(de.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)(de.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),Po=(0,_.createElement)(de.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)(de.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),Ao=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"}));function Io({allowedTypes:e,modalTitle:t,modalButtonText:o,multiple:r,className:n,uploaderParams:a,children:i,onSelect:c}){const l=(0,_.useMemo)((function(){return wp.media({title:t,library:{type:e},button:{text:o},multiple:r,states:[new wp.media.controller.Library({title:t,library:wp.media.query(),multiple:r,priority:20,filterable:"all"})]})}),[e,t,o,r]);return(0,_.useEffect)((function(){function e(){const e=l.state().get("selection").toJSON();c(e)}function t(){l.uploader.options.uploader.params=a}return l.on("select",e),l.on("ready",t),function(){l.off("select",e),l.off("ready",t)}}),[l,a,c]),(0,_.useEffect)((()=>function(){l.remove()}),[l]),i({open:function(){l.$el.addClass(n),l.open()}})}const Mo="woocommerce-media-library-menu-item__upload_files_modal",Ro="woocommerce-media-library-menu-item__upload_files_modal_wrapper";function Lo({allowedTypes:e,onUploadSuccess:t}){const[o,r]=(0,_.useState)(!1);return(0,_.useEffect)((function(){const e=document.querySelector(`.${Mo}`),t=null==e?void 0:e.closest('[role="dialog"]'),o=null==t?void 0:t.parentElement;return null==o||o.classList.add(Ro),()=>{null==o||o.classList.remove(Ro)}}),[o]),(0,_.createElement)(Io,{className:Mo,allowedTypes:e,multiple:"add",uploaderParams:{type:"downloadable_product"},onSelect:function(e){t(e)}},(({open:e})=>{return(0,_.createElement)(h.MenuItem,{icon:Ao,iconPosition:"left",onClick:(t=e,function(){t(),r(!0)}),info:(0,N.__)("Choose from uploaded media","woocommerce")},(0,N.__)("Media Library","woocommerce"));var t}))}const Do=(0,_.createElement)(de.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M12.5 14.5h-1V16h1c2.2 0 4-1.8 4-4s-1.8-4-4-4h-1v1.5h1c1.4 0 2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5zm-4 1.5v-1.5h-1C6.1 14.5 5 13.4 5 12s1.1-2.5 2.5-2.5h1V8h-1c-2.2 0-4 1.8-4 4s1.8 4 4 4h1zm-1-3.2h5v-1.5h-5v1.5zM18 4H9c-1.1 0-2 .9-2 2v.5h1.5V6c0-.3.2-.5.5-.5h9c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5v-.5H7v.5c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"})),Oo=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,_.createElement)(de.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));function Bo(e){e.required=!0,e.setCustomValidity(""),e.validity.valueMissing&&e.setCustomValidity((0,N.__)("The URL is required","woocommerce")),e.validity.typeMismatch&&e.setCustomValidity((0,N.__)("Insert a valid URL","woocommerce"))}function Fo({onUploadSuccess:e,onUploadError:t}){function o(o){o.preventDefault();const r=o.currentTarget,n=r.url;if(Bo(n),r.checkValidity()){const t=r.url.value;e([{url:t}])}else t(n.validationMessage)}function r(e){Bo(e.target)}function n(e){Bo(e.target)}return(0,_.createElement)(h.Dropdown,{popoverProps:{placement:"left"},renderToggle:({isOpen:e,onToggle:t})=>(0,_.createElement)(h.MenuItem,{"aria-expanded":e,icon:Do,iconPosition:"left",onClick:t,info:(0,N.__)("Link to a file hosted elsewhere","woocommerce")},(0,N.__)("Insert from URL","woocommerce")),renderContent:()=>(0,_.createElement)("form",{className:"components-dropdown-menu__menu",noValidate:!0,onSubmit:o},(0,_.createElement)(h.__experimentalInputControl,{name:"url",type:"url",placeholder:(0,N.__)("Insert URL","woocommerce"),suffix:(0,_.createElement)(h.Button,{icon:Oo,type:"submit"}),className:"woocommerce-inert-url-menu-item__input","aria-label":(0,N.__)("Insert URL","woocommerce"),onInput:r,onBlur:n}))})}const Vo=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));function Ho({allowedTypes:e,maxUploadFileSize:t=1e7,onUploadSuccess:o,onUploadError:r}){return(0,_.createElement)(h.FormFileUpload,{multiple:!0,onChange:function(n){const a=n.currentTarget.files;(0,Je.uploadMedia)({allowedTypes:e,filesList:a,maxUploadFileSize:t,onFileChange:o,onError:r,additionalData:{type:"downloadable_product"}})},render:({openFileDialog:e})=>(0,_.createElement)(h.MenuItem,{icon:Vo,iconPosition:"left",onClick:e,info:(0,N.__)("Select files from your device","woocommerce")},(0,N.__)("Upload","woocommerce"))})}function Uo({allowedTypes:e,maxUploadFileSize:t,onUploadSuccess:o,onUploadError:r}){return(0,_.createElement)(h.Dropdown,{popoverProps:{placement:"bottom-end"},contentClassName:"woocommerce-downloads-menu__menu-content",renderToggle:({isOpen:e,onToggle:t})=>(0,_.createElement)(h.Button,{"aria-expanded":e,icon:e?xo:Po,variant:"secondary",onClick:t,className:"woocommerce-downloads-menu__toogle"},(0,_.createElement)("span",null,(0,N.__)("Add new","woocommerce"))),renderContent:({onClose:n})=>(0,_.createElement)("div",{className:"components-dropdown-menu__menu"},(0,_.createElement)(h.MenuGroup,null,(0,_.createElement)(Ho,{allowedTypes:e,maxUploadFileSize:t,onUploadSuccess:e=>{o(e),n()},onUploadError:r}),(0,_.createElement)(Lo,{allowedTypes:e,onUploadSuccess:e=>{o(e),n()}}),(0,_.createElement)(Fo,{onUploadSuccess:e=>{o(e),n()},onUploadError:r})))})}function zo(e){setTimeout((function(t){e.ownerDocument.activeElement===t&&t.select()}),0,e)}const $o=({value:e,onChange:t,onFocus:o,onKeyUp:r})=>{const{formatNumber:n,parseNumber:a}=Z();return{value:n(e),onFocus(e){zo(e.currentTarget),o&&o(e)},onKeyUp(o){const n=Number.parseFloat(e||"0"),a=Number(o.currentTarget.step||"1");"ArrowUp"===o.code&&t(String(n+a)),"ArrowDown"===o.code&&t(String(n-a)),r&&r(o)},onChange(e){const o=a(e);t(o)}}},Wo=0,Go=0;function jo(e){return null===e?"0":-1===e?"":String(e)}function qo({initialValue:e,onSubmit:t,onClose:o}){const[r,n]=(0,_.useState)(jo(e.downloadLimit)),[a,i]=(0,_.useState)(jo(e.downloadExpiry)),[c,l]=(0,_.useState)({});function s(){return r&&!Number.isInteger(Number(r))?(l((e=>({...e,downloadLimit:(0,N.__)("Download limit must be an integer number","woocommerce")}))),!1):Number.parseInt(r,10)<Wo?(l((e=>({...e,downloadLimit:(0,N.sprintf)((0,N.__)("Download limit must be greater than or equal to %d","woocommerce"),Wo)}))),!1):(l((({downloadLimit:e,...t})=>t)),!0)}function m(){return a&&!Number.isInteger(Number(a))?(l((e=>({...e,downloadExpiry:(0,N.__)("Expiry period must be an integer number","woocommerce")}))),!1):Number.parseInt(a,10)<Go?(l((e=>({...e,downloadExpiry:(0,N.sprintf)((0,N.__)("Expiry period must be greater than or equal to %d","woocommerce"),Go)}))),!1):(l((({downloadExpiry:e,...t})=>t)),!0)}const d=$o({value:r,onChange:n}),u={value:d.value,onChange:d.onChange,id:(0,se.useInstanceId)(h.BaseControl,"product_download_limit_field"),type:"number",min:Wo,className:le()({"has-error":c.downloadLimit}),label:(0,N.__)("Download limit","woocommerce"),help:c.downloadLimit||(0,N.__)("Decide how many times customers can download files after purchasing the product. Leave blank for unlimited re-downloads.","woocommerce"),placeholder:(0,N.__)("Unlimited","woocommerce"),suffix:(0,_.createElement)("span",{className:"woocommerce-manage-download-limits-modal__input-suffix"},(0,N.__)("times","woocommerce")),onBlur(){s()}},p=$o({value:a,onChange:i}),f={value:p.value,onChange:p.onChange,id:(0,se.useInstanceId)(h.BaseControl,"product_download_expiry_field"),type:"number",min:Go,className:le()({"has-error":c.downloadExpiry}),label:(0,N.__)("Expiry period","woocommerce"),help:c.downloadExpiry||(0,N.__)("Decide how long customers can access the files after purchasing the product. Leave blank for unlimited access.","woocommerce"),placeholder:(0,N.__)("Unlimited","woocommerce"),suffix:(0,_.createElement)("span",{className:"woocommerce-manage-download-limits-modal__input-suffix"},(0,N.__)("days","woocommerce")),onBlur(){m()}};return(0,_.createElement)(h.Modal,{title:(0,N.__)("Manage download limits","woocommerce"),className:"woocommerce-manage-download-limits-modal",onRequestClose:o},(0,_.createElement)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();const o=s(),n=m();o&&n&&t({downloadLimit:""===r?-1:Number.parseInt(r,10),downloadExpiry:""===a?-1:Number.parseInt(a,10)})}},(0,_.createElement)("div",{className:"woocommerce-manage-download-limits-modal__content"},(0,_.createElement)(h.__experimentalInputControl,{...u}),(0,_.createElement)(h.__experimentalInputControl,{...f})),(0,_.createElement)("div",{className:"woocommerce-manage-download-limits-modal__actions"},(0,_.createElement)(h.Button,{variant:"tertiary",type:"button",onClick:function(){o()}},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{variant:"primary",type:"submit"},(0,N.__)("Save","woocommerce")))))}const Zo=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),Jo=()=>(0,_.createElement)("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.25 6C0.25 5.0335 1.0335 4.25 2 4.25L3 4.25L3 5.75L2 5.75C1.86193 5.75 1.75 5.86193 1.75 6L1.75 14C1.75 14.1381 1.86193 14.25 2 14.25L8 14.25C8.13807 14.25 8.25 14.1381 8.25 14L8.25 13L9.75 13L9.75 14C9.75 14.9665 8.9665 15.75 8 15.75L2 15.75C1.0335 15.75 0.25 14.9665 0.25 14L0.25 6ZM6 0.25C5.0335 0.25 4.25 1.0335 4.25 2L4.25 10C4.25 10.9665 5.0335 11.75 6 11.75L12 11.75C12.9665 11.75 13.75 10.9665 13.75 10L13.75 2C13.75 1.0335 12.9665 0.249999 12 0.249999L6 0.25ZM5.75 2C5.75 1.86193 5.86193 1.75 6 1.75L12 1.75C12.1381 1.75 12.25 1.86193 12.25 2L12.25 10C12.25 10.1381 12.1381 10.25 12 10.25L6 10.25C5.86193 10.25 5.75 10.1381 5.75 10L5.75 2Z",fill:"#007CBA"})),Xo=()=>(0,_.createElement)("svg",{width:"56",height:"72",viewBox:"0 0 56 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.9551 0H1.41177C0.63207 0 0 0.632067 0 1.41176V70.5882C0 71.3679 0.632067 72 1.41176 72H54.5882C55.3679 72 56 71.3679 56 70.5882V17.9261L37.9551 0Z",fill:"#F0F0F0"}),(0,_.createElement)("rect",{x:"28.6191",y:"40.6892",width:"13.3101",height:"13.3107",rx:"2.85325",fill:"#DDDDDD"}),(0,_.createElement)("ellipse",{cx:"18.1551",cy:"47.3446",rx:"6.65505",ry:"6.65537",fill:"#DDDDDD"}),(0,_.createElement)("path",{d:"M25.9557 24.1401C26.5048 23.1889 27.8776 23.1889 28.4267 24.1401L34.6041 34.84C35.1531 35.7911 34.4668 36.9799 33.3686 36.9799H21.0139C19.9157 36.9799 19.2293 35.7911 19.7784 34.84L25.9557 24.1401Z",fill:"#DDDDDD"}),(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.0005 9.53674e-05L56 17.9995H40.824C39.2646 17.9995 38.0005 16.7354 38.0005 15.176V9.53674e-05Z",fill:"#DDDDDD"})),Yo=({downloableItem:e,onCancel:t,onChange:o,onRemove:r,onSave:n})=>{const{createNotice:i}=(0,a.useDispatch)("core/notices"),[c,l]=(0,_.useState)(!1),{id:s=0,file:m="",name:d=""}=e;return(0,_.createElement)(h.Modal,{title:(0,N.sprintf)((0,N.__)("Edit %s","woocommerce"),d),onRequestClose:e=>{e.isPropagationStopped()||c||((0,U.recordEvent)("product_downloads_modal_cancel"),t())},className:"woocommerce-edit-downloads-modal"},(0,_.createElement)("div",{className:"woocommerce-edit-downloads-modal__preview"},(0,_.createElement)(f.ImageGallery,{allowDragging:!1,columns:1},((e="")=>{if(!e)return;const t=(e.split(".").pop()||"").toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(t)})(m)?(0,_.createElement)(f.ImageGalleryItem,{key:s,alt:d,src:m,id:`${s}`,isCover:!1}):(0,_.createElement)(Xo,null)),(0,_.createElement)("div",{className:"components-form-file-upload"},(0,_.createElement)("p",null,d))),(0,_.createElement)(h.BaseControl,{id:"file-name-help",className:"woocommerce-edit-downloads-modal__file-name",help:(0,N.__)("Your customers will see this on the thank-you page and in their order confirmation email.","woocommerce")},(0,_.createElement)(h.__experimentalInputControl,{id:"file-name",label:(0,N.__)("FILE NAME","woocommerce"),name:"file-name",value:d||"",onChange:o})),(0,_.createElement)("div",{className:"woocommerce-edit-downloads-modal__file-url"},(0,_.createElement)(h.__experimentalInputControl,{disabled:!0,id:"file-url",label:(0,N.__)("FILE URL","woocommerce"),name:"file-url",value:m||"",suffix:(0,_.createElement)(h.Button,{icon:(0,_.createElement)(Jo,null),onClick:async function(){(0,U.recordEvent)("product_downloads_modal_copy_url_to_clipboard"),l(!0),await async function(e){if("clipboard"in navigator)await navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}await void i("success",(0,N.__)("URL copied successfully.","woocommerce"))}(m),l(!1)}})})),(0,_.createElement)("div",{className:"woocommerce-edit-downloads-modal__buttons"},(0,_.createElement)("div",{className:"woocommerce-edit-downloads-modal__buttons-left"},(0,_.createElement)(h.Button,{icon:Zo,isDestructive:!0,variant:"tertiary",label:(0,N.__)("Delete","woocommerce"),onClick:()=>{(0,U.recordEvent)("product_downloads_modal_delete"),r()}},(0,N.__)("Delete file","woocommerce"))),(0,_.createElement)("div",{className:"woocommerce-edit-downloads-modal__buttons-right"},(0,_.createElement)(h.Button,{label:(0,N.__)("Cancel","woocommerce"),onClick:()=>{(0,U.recordEvent)("product_downloads_modal_cancel"),t()},variant:"tertiary"},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{label:(0,N.__)("Update","woocommerce"),onClick:()=>{(0,U.recordEvent)("product_downloads_modal_update"),n()},variant:"primary"},(0,N.__)("Update","woocommerce")))))};function Ko(){return(0,_.createElement)("svg",{width:"104",height:"64",viewBox:"0 0 104 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.129 64C87.9065 64 87.6851 63.9941 87.4649 63.9823V64H61.888L56.6463 48.9818L68.2211 51.8173L51.9999 35.5945L35.7787 51.8173L47.3535 48.9818L42.1118 64H17.972V63.985C8.36383 63.5505 0.682007 53.7386 0.682007 41.6982C0.682007 29.3812 8.72077 19.3963 18.6371 19.3963C22.011 19.3963 25.1676 20.5522 27.8642 22.5626C32.3286 9.21729 41.8544 0 52.8848 0C65.7239 0 76.5246 12.4881 79.6776 29.4383C82.0937 27.4239 85.001 26.2488 88.129 26.2488C96.5176 26.2488 103.318 34.6997 103.318 45.1244C103.318 55.5491 96.5176 64 88.129 64Z",fill:"#F0F0F0"}))}function Qo(e){var t;const[o]=null!==(t=null==e?void 0:e.split("/").reverse())&&void 0!==t?t:[];return o}function er(e){return e?String(e):""}function tr(e){return{...e,id:er(e.id)}}const{name:or,...rr}=To,nr={example:{},edit:function({attributes:e,context:{postType:t}}){const o=(0,Ht.useWooBlockProps)(e),[,r]=(0,ne.useEntityProp)("postType",t,"downloadable"),[n,i]=(0,ne.useEntityProp)("postType",t,"downloads"),[c,l]=(0,ne.useEntityProp)("postType",t,"download_limit"),[s,m]=(0,ne.useEntityProp)("postType",t,"download_expiry"),[d,u]=(0,_.useState)(),{allowedMimeTypes:p}=(0,a.useSelect)((e=>{const{getEditorSettings:t}=e("core/editor");return t()})),g=p?Object.values(p):[],{createErrorNotice:w}=(0,a.useDispatch)("core/notices"),[v,E]=(0,_.useState)(!1);function b(e){if(!Array.isArray(e))return;const t=e.filter((e=>!n.some((t=>t.file===e.url))));if(t.length!==e.length&&w(1===e.length?(0,N.__)("This file has already been added","woocommerce"):(0,N.__)("Some of these files have already been added","woocommerce")),t.length){n.length||r(!0);const e=t.map((e=>({id:er(e.id),file:e.url,name:e.title||e.alt||e.caption||Qo(e.url)}))),o=n.map(tr);o.push(...e),i(o)}}function y(e){const t=n.reduce((function(t,o){return o.file===e.file?t:[...t,tr(o)]}),[]);t.length||r(!1),i(t)}function C(e){return function(){y(e)}}function k(e){return function(){u(tr(e))}}function S(e){w("string"==typeof e?e:(0,N.__)("There was an error uploading files","woocommerce"))}return(0,_.createElement)("div",{...o},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__header"},Boolean(n.length)&&(0,_.createElement)(h.Button,{variant:"tertiary",onClick:function(){E(!0)}},(0,N.__)("Manage limits","woocommerce")),(0,_.createElement)(Uo,{allowedTypes:g,onUploadSuccess:b,onUploadError:S})),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__body"},(0,_.createElement)(f.MediaUploader,{label:Boolean(n.length)?"":(0,_.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__drop-zone-content"},(0,_.createElement)(Ko,null),(0,_.createElement)("p",{className:"wp-block-woocommerce-product-downloads-field__drop-zone-label"},(0,_.createInterpolateElement)((0,N.__)("Supported file types: <Types /> and more. <link>View all</link>","woocommerce"),{Types:(0,_.createElement)(_.Fragment,null,"PNG, JPG, PDF, PPT, DOC, MP3, MP4"),link:(0,_.createElement)("a",{href:"https://codex.wordpress.org/Uploading_Files",target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation()})}))),buttonText:"",allowedMediaTypes:g,multipleSelect:"add",onUpload:b,onFileUploadChange:b,onError:S,additionalData:{type:"downloadable_product"}}),Boolean(n.length)&&(0,_.createElement)(f.Sortable,{className:"wp-block-woocommerce-product-downloads-field__table"},n.map((e=>{const t=Qo(e.file),o=e.file.startsWith("blob");return(0,_.createElement)(f.ListItem,{key:e.file,className:"wp-block-woocommerce-product-downloads-field__table-row"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__table-filename"},(0,_.createElement)("span",null,e.name),e.name!==t&&(0,_.createElement)("span",{className:"wp-block-woocommerce-product-downloads-field__table-filename-description"},t)),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-downloads-field__table-actions"},o&&(0,_.createElement)(h.Spinner,{"aria-label":(0,N.__)("Uploading file","woocommerce")}),!o&&(0,_.createElement)(h.Button,{onClick:k(e),variant:"tertiary"},(0,N.__)("Edit","woocommerce")),(0,_.createElement)(h.Button,{icon:xt,label:(0,N.__)("Remove file","woocommerce"),disabled:o,onClick:C(e)})))})))),v&&(0,_.createElement)(qo,{initialValue:{downloadLimit:c,downloadExpiry:s},onSubmit:function(e){l(e.downloadLimit),m(e.downloadExpiry),E(!1)},onClose:function(){E(!1)}}),d&&(0,_.createElement)(Yo,{downloableItem:{...d},onCancel:()=>u(null),onRemove:()=>{y(d),u(null)},onChange:e=>{u({...d,name:e})},onSave:(T=d,function(){const e=n.map(tr).map((e=>e.id===T.id?T:e));i(e),u(null)}),onUploadSuccess:function(e){var t;if(!Array.isArray(e)||!(null==e?void 0:e.length)||void 0===(null===(t=e[0])||void 0===t?void 0:t.id))return;n.length||r(!0);const o={id:er(e[0].id),file:e[0].url,name:e[0].title||e[0].alt||e[0].caption||Qo(e[0].url)},a=n.map((e=>e.file===(null==d?void 0:d.file)?tr(o):tr(e)));i(a),u(o)},onUploadError:S}));var T}};function ar(){return zt({name:or,metadata:rr,settings:nr})}const ir=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-images-field","title":"Product images","category":"widgets","description":"The product images.","keywords":["products","image","images","gallery"],"textdomain":"default","attributes":{"mediaId":{"type":"number","__experimentalRole":"content"},"property":{"type":"string"},"multiple":{"type":"boolean","default":true},"images":{"__experimentalRole":"content","type":"array","items":{"type":"number"},"default":[]}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');function cr({...e}){return(0,_.createElement)("svg",{...e,width:"32",height:"65",viewBox:"0 0 32 65",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{d:"M29.1535 7.61841C23.142 7.61841 19.6604 8.66953 17.6751 11.0101C18.9601 6.48043 21.3345 3.07988 25.672 0C20.5319 0.663632 17.5484 2.61667 16.1033 5.4115C14.6582 2.6189 11.6747 0.665859 6.53464 0C10.8721 3.07988 13.2465 6.47821 14.5315 11.0101C12.5462 8.66953 9.06465 7.61841 3.0531 7.61841C10.2185 10.9833 12.9597 13.6913 15.2941 18.5438H16.9103C19.2447 13.6913 21.9881 10.9833 29.1513 7.61841H29.1535Z",fill:"#DDDDDD"}),(0,_.createElement)("path",{d:"M20.8963 60.4609C23.2279 59.5968 31.7769 57.6994 31.7769 49.4182C31.7769 44.4995 27.3285 40.7894 22.2783 39.9284C24.5252 39.1942 27.8063 35.9252 27.8063 32.2574C27.8063 27.5321 23.5303 25.6469 20.0344 24.9157C20.0344 23.8371 23.9204 18.272 23.9204 18.272H7.85652C7.85652 18.272 11.7425 23.8371 11.7425 24.9157C8.24361 25.6499 3.97061 27.5321 3.97061 32.2574C3.97061 35.9252 7.25172 39.1942 9.4986 39.9284C4.44538 40.7925 0 44.5026 0 49.4182C0 57.7025 8.54904 59.5998 10.8806 60.4609C5.3526 60.9775 2.5886 63.1347 2.15918 64.8598H29.6207C29.1883 63.1347 26.4243 60.9775 20.8993 60.4609H20.8963Z",fill:"#F0F0F0"}))}function lr({...e}){return(0,_.createElement)("svg",{...e,width:"59",height:"80",viewBox:"0 0 59 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{d:"M54.0218 14.4803C43.085 14.4803 36.7511 16.3926 33.1392 20.6507C35.477 12.41 39.7967 6.22334 47.6879 0.620117C38.3366 1.82746 32.9086 5.38063 30.2796 10.4653C27.6506 5.38468 22.2226 1.83152 12.8713 0.620117C20.7625 6.22334 25.0822 12.4059 27.42 20.6507C23.8081 16.3926 17.4742 14.4803 6.53735 14.4803C19.5733 20.6021 24.5604 25.5287 28.8073 34.357H31.7478C35.9947 25.5287 40.9858 20.6021 54.0178 14.4803H54.0218Z",fill:"#DDDDDD"}),(0,_.createElement)("path",{d:"M38.9992 110.617C43.241 109.045 58.7943 105.593 58.7943 90.5271C58.7943 81.5787 50.7013 74.8288 41.5135 73.2623C45.6013 71.9266 51.5706 65.9793 51.5706 59.3065C51.5706 50.7098 43.7912 47.28 37.4313 45.9498C37.4313 43.9875 44.5009 33.8628 44.5009 33.8628H15.276C15.276 33.8628 22.3456 43.9875 22.3456 45.9498C15.9802 47.2855 8.20633 50.7098 8.20633 59.3065C8.20633 65.9793 14.1757 71.9266 18.2634 73.2623C9.07009 74.8343 0.982605 81.5841 0.982605 90.5271C0.982605 105.599 16.5359 109.051 20.7777 110.617C10.7206 111.557 5.69205 115.482 4.91081 118.62H54.8716C54.0849 115.482 49.0563 111.557 39.0047 110.617H38.9992Z",fill:"#F0F0F0"}))}function sr({...e}){return(0,_.createElement)("svg",{...e,width:"62",height:"65",viewBox:"0 0 62 65",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{d:"M59.3177 7.59526C53.3245 7.59526 49.8535 8.64319 47.8742 10.9766C49.1553 6.46075 51.5225 3.07052 55.8468 0C50.7224 0.661616 47.7479 2.60872 46.3072 5.39506C44.8665 2.61094 41.8921 0.663836 36.7676 0C41.0919 3.07052 43.4591 6.45853 44.7402 10.9766C42.7609 8.64319 39.29 7.59526 33.2967 7.59526C40.4403 10.95 43.1732 13.6497 45.5004 18.4875H47.1118C49.4391 13.6497 52.1741 10.95 59.3155 7.59526H59.3177Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M51.1522 60.2087C53.4766 59.3472 61.9997 57.4556 61.9997 49.1995C61.9997 44.2958 57.5648 40.597 52.53 39.7386C54.77 39.0066 58.0411 35.7476 58.0411 32.0909C58.0411 27.38 53.7781 25.5004 50.2929 24.7715C50.2929 23.6962 54.167 18.1479 54.167 18.1479H38.152C38.152 18.1479 42.0261 23.6962 42.0261 24.7715C38.5379 25.5035 34.2779 27.38 34.2779 32.0909C34.2779 35.7476 37.5491 39.0066 39.7891 39.7386C34.7513 40.6 30.3194 44.2989 30.3194 49.1995C30.3194 57.4587 38.8424 59.3502 41.1669 60.2087C35.6557 60.7238 32.9001 62.8744 32.472 64.5943H59.8501C59.4189 62.8744 56.6633 60.7238 51.1552 60.2087H51.1522Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M18.2238 61.2964C20.1078 60.597 27.012 59.0606 27.012 52.3534C27.012 48.3704 23.4192 45.3665 19.3387 44.6672C21.1518 44.0744 23.8026 41.4257 23.8026 38.4551C23.8026 34.6297 20.3494 33.1022 17.5256 32.5094C17.5256 31.6369 20.6641 27.1299 20.6641 27.1299H7.69128C7.69128 27.1299 10.8298 31.6369 10.8298 32.5094C8.0038 33.1022 4.55279 34.6297 4.55279 38.4551C4.55279 41.4235 7.20367 44.0721 9.01672 44.6672C4.93624 45.3665 1.34338 48.3704 1.34338 52.3534C1.34338 59.0606 8.24761 60.597 10.1316 61.2964C5.66767 61.716 3.43571 63.4633 3.08773 64.8598H25.2677C24.9197 63.4633 22.6877 61.716 18.2238 61.2964Z",fill:"white"}),(0,_.createElement)("path",{d:"M14.705 29.1672C16.3668 19.7341 14.7486 11.8172 9.57432 9.5886C4.55918 7.42903 1.86622 9.95303 2.88996 12.0076C4.11785 14.4701 7.87058 12.5775 11.1745 15.6654C14.2667 18.5553 14.3478 29.5136 14.3478 29.5136L14.7066 29.1657L14.705 29.1672Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M14.6523 26.841C14.6523 26.841 15.8096 19.2256 20.5681 15.9277C25.274 12.6659 29.9139 14.515 30.085 16.3566C30.2561 18.1983 28.9967 19.398 25.1884 19.398C19.4888 19.398 17.078 21.8845 15.0996 26.928C14.5457 28.3407 14.6523 26.841 14.6523 26.841Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M15.4498 29.3576C15.4498 29.3576 14.2925 21.7422 9.534 18.4443C4.82808 15.1825 0.18821 17.0316 0.0170856 18.8732C-0.154039 20.7149 0.91774 22.0421 6.06198 21.9146C11.532 21.7781 14.1213 29.6156 14.1213 29.6156L15.4498 29.3591V29.3576Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M18.2243 61.2964C20.1082 60.597 27.0125 59.0606 27.0125 52.3534C27.0125 48.3704 23.4196 45.3665 19.3391 44.6672C21.1522 44.0744 23.803 41.4257 23.803 38.4551C23.803 34.6297 20.3498 33.1022 17.5261 32.5094C17.5261 31.6369 20.6646 27.1299 20.6646 27.1299H7.69171C7.69171 27.1299 10.8302 31.6369 10.8302 32.5094C8.00423 33.1022 4.55322 34.6297 4.55322 38.4551C4.55322 41.4235 7.20409 44.0721 9.01714 44.6672C4.93667 45.3665 1.34381 48.3704 1.34381 52.3534C1.34381 59.0606 8.24804 60.597 10.132 61.2964C5.6681 61.716 3.43614 63.4633 3.08816 64.8598H25.2681C24.9201 63.4633 22.6882 61.716 18.2243 61.2964Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M14.1795 49.7139C9.43406 49.7139 5.83677 48.8391 2.8889 48.1064C1.92696 49.3053 1.34625 50.7485 1.34625 52.3514C1.34625 53.8035 1.66985 55.0112 2.19737 56.0214C5.63507 57.1892 8.91762 57.7709 14.1817 57.7709C19.4457 57.7709 22.7283 57.1892 26.166 56.0214C26.6913 55.0112 27.0171 53.8012 27.0171 52.3514C27.0171 50.7485 26.4342 49.3053 25.4745 48.1064C22.5266 48.8391 18.9293 49.7139 14.1839 49.7139H14.1795Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M23.4906 40.2536C23.6901 39.6786 23.8053 39.0747 23.8053 38.4575C23.8053 37.4695 23.5726 36.6347 23.1825 35.9287C21.7307 36.597 17.9162 37.5894 14.1793 37.5894C10.4424 37.5894 6.62788 36.597 5.17611 35.9287C4.78601 36.6347 4.55328 37.4673 4.55328 38.4575C4.55328 39.0769 4.66854 39.6808 4.86802 40.2536C7.2906 41.1417 10.735 41.8566 14.1793 41.8566C17.6237 41.8566 21.0658 41.1417 23.4906 40.2536Z",fill:"#E0E0E0"}))}function mr({...e}){return(0,_.createElement)("svg",{...e,width:"118",height:"77",viewBox:"0 0 118 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("rect",{width:"118",height:"77",fill:"white"}),(0,_.createElement)("path",{d:"M72.0248 20.5848C66.0397 20.5848 62.5735 21.6313 60.597 23.9615C61.8763 19.4519 64.2402 16.0663 68.5586 13C63.4412 13.6607 60.4708 15.6051 59.0321 18.3876C57.5934 15.6074 54.623 13.6629 49.5056 13C53.824 16.0663 56.1879 19.4496 57.4672 23.9615C55.4906 21.6313 52.0245 20.5848 46.0394 20.5848C53.1732 23.9349 55.9023 26.6309 58.2264 31.4621H59.8356C62.1596 26.6309 64.891 23.9349 72.0225 20.5848H72.0248Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M63.8041 73.1943C66.1254 72.334 74.6367 70.445 74.6367 62.2003C74.6367 57.3033 70.2079 53.6096 65.18 52.7523C67.417 52.0214 70.6836 48.7668 70.6836 45.1152C70.6836 40.4107 66.4265 38.5338 62.946 37.8059C62.946 36.732 66.8148 31.1914 66.8148 31.1914H50.8218C50.8218 31.1914 54.6906 36.732 54.6906 37.8059C51.2072 38.5368 46.953 40.4107 46.953 45.1152C46.953 48.7668 50.2197 52.0214 52.4567 52.7523C47.4257 53.6126 42.9999 57.3064 42.9999 62.2003C42.9999 70.448 51.5113 72.337 53.8326 73.1943C48.3289 73.7087 45.5771 75.8563 45.1496 77.5739H72.4901C72.0595 75.8563 69.3077 73.7087 63.8071 73.1943H63.8041Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.1884 77.8602C39.7296 75.1315 38.8029 71.0481 38.8029 66.4848C38.8029 61.9215 39.7296 57.8381 41.1884 55.1094H30.5839C32.0427 57.8381 32.9693 61.9215 32.9693 66.4848C32.9693 71.0481 32.0427 75.1315 30.5839 77.8602H41.1884Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M35.8259 32.3584H30.0536L16 55.5332H31.058H40.5939H55.6518L41.5982 32.3584H35.8259Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M50.9764 47.8242H20.6754L16 55.5332L50.9764 47.8242Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M46.301 40.1118H25.3508L20.6754 47.8242L46.301 40.1118Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M41.598 32.3584H30.0535L25.3506 40.1119L41.598 32.3584Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M77.5858 59H96.2531L95.155 77.6673H78.6838L77.5858 59Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M88.6696 53.9424C88.6696 56.1976 86.9196 58.0258 86.9196 58.0258C86.9196 58.0258 85.1695 56.1976 85.1695 53.9424C85.1695 51.6871 86.9196 49.8589 86.9196 49.8589C86.9196 49.8589 88.6696 51.6871 88.6696 53.9424Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95.9589 64H77.8798L77.5857 59H96.253L95.9589 64Z",fill:"#E0E0E0"}))}function dr(){const e=[{id:"front-side",image:(0,_.createElement)(cr,null),text:(0,N.__)("Front side","woocommerce")},{id:"close-up",image:(0,_.createElement)(lr,null),text:(0,N.__)("Close-up","woocommerce")},{id:"variants",image:(0,_.createElement)(sr,null),text:(0,N.__)("Variants","woocommerce")},{id:"lifestyle-scene",image:(0,_.createElement)(mr,null),text:(0,N.__)("Lifestyle scene","woocommerce")}];return(0,_.createElement)("div",{className:"woocommerce-image-placeholder__wrapper"},e.map((({id:e,image:t,text:o})=>(0,_.createElement)("div",{key:e,className:"woocommerce-image-placeholder__item"},t,(0,_.createElement)("p",null,o)))))}function ur(e){return e.id?{id:e.id,name:e.title,src:e.url,alt:e.alt}:null}const{name:pr}=ir,_r={example:{},edit:function({attributes:e,context:t}){var o;const{property:r,multiple:n}=e,[a,i]=(0,ne.useEntityProp)("postType",t.postType,r),[c,l]=(0,_.useState)(!1),[s,m]=(0,_.useState)(!1),[d,u]=(0,_.useState)(null),p=(0,Ht.useWooBlockProps)(e,{className:le()({"has-images":Array.isArray(a)?a.length>0:Boolean(a)})});function g(e){return function(t){var o;if((0,U.recordEvent)(e),Array.isArray(t)){const e=t.filter((e=>e.id)).map((e=>({id:e.id,name:e.title,src:e.url,alt:e.alt})));(null===(o=t[0])||void 0===o?void 0:o.id)&&i([...a,...e])}else t.id&&i(ur(t))}}const w=null!==a&&(!Array.isArray(a)||a.length>0);return(0,_.createElement)("div",{...p},(0,_.createElement)("div",{className:"woocommerce-product-form__image-drop-zone"},c?(0,_.createElement)("div",{className:"woocommerce-product-form__remove-image-drop-zone"},(0,_.createElement)("span",null,(0,_.createElement)(Pe,{icon:Zo,size:20,className:"icon-control"}),(0,N.__)("Drop here to remove","woocommerce")),(0,_.createElement)(h.DropZone,{onHTMLDrop:()=>m(!0),onDrop:()=>m(!0),label:(0,N.__)("Drop here to remove","woocommerce")})):(0,_.createElement)(f.MediaUploader,{value:Array.isArray(a)?a.map((({id:e})=>e)):null!==(o=null==a?void 0:a.id)&&void 0!==o?o:void 0,multipleSelect:!!n&&"add",onError:()=>null,onFileUploadChange:g("product_images_add_via_file_upload_area"),onMediaGalleryOpen:()=>{(0,U.recordEvent)("product_images_media_gallery_open")},onSelect:function(e){if((0,U.recordEvent)("product_images_add_via_media_library"),Array.isArray(e)){const t=e.map(ur).filter((e=>null!==e));i(t)}else i(ur(e))},onUpload:g("product_images_add_via_drag_and_drop_upload"),label:"",buttonText:(0,N.__)("Choose an image","woocommerce")})),w?(0,_.createElement)(f.ImageGallery,{allowDragging:!1,onDragStart:function(e){var t,o;if(Array.isArray(a)){const{id:r,dataset:n}=e.target;if(r)u(parseInt(r,10));else if(null==n?void 0:n.index){const e=parseInt(n.index,10);u(null!==(o=null===(t=a[e])||void 0===t?void 0:t.id)&&void 0!==o?o:null)}l((e=>!e))}},onDragEnd:function(){Array.isArray(a)&&(s&&d&&((0,U.recordEvent)("product_images_remove_image_button_click"),i(a.filter((e=>e.id!==d))),m(!1),u(null)),l((e=>!e)))},onOrderChange:function(e){if(Array.isArray(a)){const t=a.reduce(((e,t)=>({...e,[`${t.id}`]:t})),{}),o=e.filter((e=>{var o;return(null===(o=null==e?void 0:e.props)||void 0===o?void 0:o.id)in t})).map((e=>{var o;return t[null===(o=null==e?void 0:e.props)||void 0===o?void 0:o.id]}));(0,U.recordEvent)("product_images_change_image_order_via_image_gallery"),i(o)}},onReplace:function({replaceIndex:e,media:t}){if((0,U.recordEvent)("product_images_replace_image_button_click"),Array.isArray(a)&&!a.some((e=>t.id===e.id))){const o=ur(t);if(o){const t=[...a];t[e]=o,i(t)}}else i(ur(t))},onRemove:function({removedItem:e}){if((0,U.recordEvent)("product_images_remove_image_button_click"),Array.isArray(a)){const t=a.filter((t=>t.id===e.props.id));i(t)}else i(null)},onSelectAsCover:()=>(0,U.recordEvent)("product_images_select_image_as_cover_button_click")},(Array.isArray(a)?a:[a]).map(((e,t)=>(0,_.createElement)(f.ImageGalleryItem,{key:e.id,alt:e.alt,src:e.src,id:`${e.id}`,isCover:n&&0===t})))):(0,_.createElement)(dr,null))}},fr=()=>zt({name:pr,metadata:ir,settings:_r}),gr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-inventory-email-field","title":"Stock level threshold","category":"widgets","description":"Stock management minimum quantity.","keywords":["products","inventory","email","minimum"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),hr=window.wc.wcSettings;function wr(e,t,o=[]){const r=(0,_.useContext)(De),[n,a]=(0,_.useState)(!1),i=(0,_.useMemo)((()=>r.registerValidator(e,t)),[e,...o]);return(0,_.useEffect)((()=>()=>{r.unRegisterValidator(e)}),[]),{ref:i,error:r.errors[e],isValidating:n,validate:async()=>(a(!0),r.validateField(e).finally((()=>{a(!1)})))}}const{name:vr,...Er}=gr,br={example:{},edit:function({attributes:e,clientId:t}){const o=(0,Ht.useWooBlockProps)(e),r=(0,hr.getSetting)("notifyLowStockAmount",2),[n,a]=(0,ne.useEntityProp)("postType","product","low_stock_amount"),i=(0,se.useInstanceId)(h.BaseControl,"low_stock_amount"),{ref:c,error:l,validate:s}=wr(`low_stock_amount-${t}`,(async function(){if(n&&n<0)return(0,N.__)("This field must be a positive number.","woocommerce")}),[n]);return(0,_.createElement)(_.Fragment,null,(0,_.createElement)("div",{...o},(0,_.createElement)("div",{className:"wp-block-columns"},(0,_.createElement)("div",{className:"wp-block-column"},(0,_.createElement)(h.BaseControl,{id:i,label:(0,N.__)("Email me when stock reaches","woocommerce"),help:l||(0,_.createInterpolateElement)((0,N.__)("Make sure to enable notifications in <link>store settings.</link>","woocommerce"),{link:(0,_.createElement)(f.Link,{href:`${(0,hr.getSetting)("adminUrl")}admin.php?page=wc-settings&tab=products&section=inventory`,target:"_blank",type:"external"})}),className:l&&"has-error"},(0,_.createElement)(h.__experimentalInputControl,{id:i,ref:c,name:"low_stock_amount",placeholder:(0,N.sprintf)((0,N.__)("%d (store default)","woocommerce"),r),onChange:a,onBlur:s,value:n,type:"number",min:0}))),(0,_.createElement)("div",{className:"wp-block-column"}))))}};function yr(){return zt({name:vr,metadata:Er,settings:br})}const Cr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-sku-field","title":"Product text control","category":"woocommerce","description":"The product sku.","keywords":["products","sku"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),{name:kr,...Sr}=Cr,Nr={example:{},edit:function({attributes:e,context:t}){const o=(0,Ht.useWooBlockProps)(e),[r,n]=(0,ne.useEntityProp)("postType",t.postType,"sku");return(0,_.createElement)("div",{...o},(0,_.createElement)(h.BaseControl,{id:"product_sku",className:"woocommerce-product-form_inventory-sku",label:(0,_.createInterpolateElement)((0,N.__)("Sku <description />","woocommerce"),{description:(0,_.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,N.__)("(STOCK KEEPING UNIT)","woocommerce"))})},(0,_.createElement)(h.__experimentalInputControl,{name:"woocommerce-product-sku",onChange:n,value:r||""})))}},Tr=()=>zt({name:kr,metadata:Sr,settings:Nr}),xr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-name-field","title":"Product name","category":"widgets","description":"The product name.","keywords":["products","name","title"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"},"autoFocus":{"type":"boolean","default":false}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),Pr=({label:e,required:t,tooltip:o})=>(0,_.createElement)("div",{className:"woocommerce-product-form-label__label"},t?(0,_.createInterpolateElement)((0,N.__)("<label/> <required/>","woocommerce"),{label:(0,_.createElement)("span",null,e),required:(0,_.createElement)("span",{className:"woocommerce-product-form-label__required"},(0,N.__)("*","woocommerce"))}):e,o&&(0,_.createElement)(h.Tooltip,{text:(0,_.createElement)("span",{dangerouslySetInnerHTML:Qt(o)}),position:"top center",className:"woocommerce-product-form-label__tooltip",delay:0},(0,_.createElement)("span",{className:"woocommerce-product-form-label__icon"},(0,_.createElement)(Pe,{icon:Jt,size:18,fill:"#949494"})))),{name:Ar}=xr,Ir={example:{},edit:function({attributes:e,clientId:t}){const o=(0,Ht.useWooBlockProps)(e),{editEntityRecord:r,saveEntityRecord:n}=(0,a.useDispatch)("core"),{hasEdit:i}=et(),[c,l]=(0,_.useState)(!1),s=(0,ne.useEntityId)("postType","product"),m=(0,a.useSelect)((e=>e("core").getEditedEntityRecord("postType","product",s))),[d,u]=(0,ne.useEntityProp)("postType","product","sku"),[p,f]=(0,ne.useEntityProp)("postType","product","name"),{permalinkPrefix:g,permalinkSuffix:w}=(0,a.useSelect)((e=>{const{getPermalinkParts:t}=e(x.PRODUCTS_STORE_NAME);if(s){const e=t(s);return{permalinkPrefix:null==e?void 0:e.prefix,permalinkSuffix:null==e?void 0:e.suffix}}return{}})),{ref:v,error:E,validate:b}=wr("name",(async function(){return p&&p!==j?p.length>120?(0,N.__)("Please enter a product name shorter than 120 characters.","woocommerce"):void 0:(0,N.__)("Name field is required.","woocommerce")}),[p]),y=null!=E?E:s&&["publish","draft"].includes(m.status)&&g&&(0,_.createElement)("span",{className:"woocommerce-product-form__secondary-text product-details-section__product-link"},(0,N.__)("Product link","woocommerce"),":Â ",(0,_.createElement)("a",{href:m.permalink,target:"_blank",rel:"noreferrer"},g,m.slug||(0,T.cleanForSlug)(p),w),(0,_.createElement)(h.Button,{variant:"link",onClick:()=>l(!0)},(0,N.__)("Edit","woocommerce"))),C=(0,se.useInstanceId)(h.BaseControl,"product_name"),{selectBlock:k}=(0,a.useDispatch)("core/block-editor");return(0,_.useEffect)((()=>{e.autoFocus&&k(t)}),[]),(0,_.createElement)(_.Fragment,null,(0,_.createElement)("div",{...o},(0,_.createElement)(h.BaseControl,{id:C,label:(0,_.createElement)(Pr,{label:(0,N.__)("Name","woocommerce"),required:!0}),className:le()({"has-error":E}),help:y},(0,_.createElement)(h.__experimentalInputControl,{id:C,ref:v,name:"name",autoFocus:e.autoFocus,placeholder:(0,N.__)("e.g. 12 oz Coffee Mug","woocommerce"),onChange:f,value:p&&p!==j?p:"",autoComplete:"off","data-1p-ignore":!0,onBlur:()=>{i("name")&&(d||E||u((0,T.cleanForSlug)(p)),b())}})),c&&(0,_.createElement)(z,{permalinkPrefix:g||"",permalinkSuffix:w||"",product:m,onCancel:()=>l(!1),onSaved:()=>l(!1),saveHandler:async e=>{const{slug:t,permalink:o}=await n("postType","product",{id:m.id,slug:e});if(t&&o)return r("postType","product",m.id,{slug:t,permalink:o}),{slug:t,permalink:o}}})))}},Mr=()=>zt({name:Ar,metadata:xr,settings:Ir}),Rr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-pricing-field","description":"A product price block with currency display.","title":"Product pricing","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"property":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"help":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),Lr=(e,t,o)=>{const{decimalSeparator:r,thousandSeparator:n}=t,a=new RegExp("[^-0-9%s1%s2]".replace("%s1",r).replace("%s2",n),"g");return void 0===e?e:o(e).replace(a,"")},Dr=({value:e,onChange:t,onFocus:o,onKeyUp:r})=>{const{sanitizePrice:n}=Z(),a=(0,_.useContext)(W.CurrencyContext),{getCurrencyConfig:i,formatAmount:c}=a,l=i();return{prefix:l.symbol,className:"components-currency-control",value:Lr(String(e),l,c),sanitize:e=>n(String(e)),onFocus(e){zo(e.currentTarget),o&&o(e)},onKeyUp(o){const a=Number.parseFloat(n(e||"0")),i=Number(o.currentTarget.step||"1");"ArrowUp"===o.code&&t(String(a+i)),"ArrowDown"===o.code&&t(String(a-i)),r&&r(o)},onChange(e){const o=n(e);t&&t(o)}}},{name:Or,...Br}=Rr,Fr={example:{},edit:function({attributes:e,context:{postType:t}}){const o=(0,Ht.useWooBlockProps)(e),{property:r,label:n,help:a,disabled:i}=e,[c,l]=Zt(r,{postType:t,fallbackValue:""}),s=Dr({value:c||"",onChange:l}),m=a?(0,_.createInterpolateElement)(a,{PricingTab:(0,_.createElement)(f.Link,{href:(0,Ie.getNewPath)({tab:"pricing"}),onClick:()=>{(0,U.recordEvent)("product_pricing_help_click")}})}):null,d=(0,se.useInstanceId)(h.BaseControl,"wp-block-woocommerce-product-pricing-field");return(0,_.createElement)("div",{...o},(0,_.createElement)(h.BaseControl,{id:d,help:m},(0,_.createElement)(h.__experimentalInputControl,{...s,disabled:i,id:d,name:r,label:n||(0,N.__)("Price","woocommerce")})))}};function Vr(){return zt({name:Or,metadata:Br,settings:Fr})}const Hr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-radio-field","title":"Product radio control","category":"woocommerce","description":"The product radio.","keywords":["products","radio","input"],"textdomain":"default","attributes":{"title":{"type":"string"},"description":{"type":"string"},"property":{"type":"string"},"options":{"type":"array","items":{"type":"object"},"default":[],"__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}');function Ur({title:e,description:t,className:o,...r}){return(0,_.createElement)(h.RadioControl,{...r,className:le()(o,"woocommerce-radio-field"),label:(0,_.createElement)(_.Fragment,null,(0,_.createElement)("span",{className:"woocommerce-radio-field__title"},e),t&&(0,_.createElement)("span",{className:"woocommerce-radio-field__description",dangerouslySetInnerHTML:Qt(t)}))})}const{name:zr,...$r}=Hr,Wr={example:{},edit:function({attributes:e,context:{postType:t}}){const o=(0,Ht.useWooBlockProps)(e),{description:r,options:n,property:a,title:i}=e,[c,l]=Zt(a,{postType:t,fallbackValue:""});return(0,_.createElement)("div",{...o},(0,_.createElement)(Ur,{title:i,description:r,selected:c,options:n,onChange:e=>l(e||"")}))}};function Gr(){return zt({name:zr,metadata:$r,settings:Wr})}const jr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-regular-price-field","description":"A product price block with currency display.","title":"Product regular price","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"help":{"type":"string"},"isRequired":{"type":"boolean","default":false}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"],"editorStyle":"file:./editor.css"}'),{name:qr,...Zr}=jr,Jr={example:{},edit:function({attributes:e,clientId:t,context:o}){const r=(0,Ht.useWooBlockProps)(e),{label:n,help:a,isRequired:i}=e,[c,l]=(0,ne.useEntityProp)("postType",o.postType||"product","regular_price"),[s]=(0,ne.useEntityProp)("postType",o.postType||"product","sale_price"),m=Dr({value:c,onChange:l}),d=a?(0,_.createInterpolateElement)(a,{PricingTab:(0,_.createElement)(f.Link,{href:(0,Ie.getNewPath)({tab:"pricing"}),onClick:()=>{(0,U.recordEvent)("product_pricing_help_click")}})}):null,u=(0,se.useInstanceId)(h.BaseControl,"wp-block-woocommerce-product-regular-price-field"),{ref:p,error:g,validate:w}=wr(`regular_price-${t}`,(async function(){const e=Number.parseFloat(c);if(e){if(e<0)return(0,N.__)("List price must be greater than or equals to zero.","woocommerce");if(s&&e<=Number.parseFloat(s))return(0,N.__)("List price must be greater than the sale price.","woocommerce")}else if(i)return(0,N.sprintf)((0,N.__)("%s is required.","woocommerce"),n)}),[c,s]);return(0,_.useEffect)((()=>{i&&w()}),[]),(0,_.createElement)("div",{...r},(0,_.createElement)(h.BaseControl,{id:u,help:g||d,className:le()({"has-error":g})},(0,_.createElement)(h.__experimentalInputControl,{...m,id:u,name:"regular_price",ref:p,label:n,onBlur:w})))}};function Xr(){return zt({name:qr,metadata:Zr,settings:Jr})}const Yr=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-sale-price-field","description":"A product price block with currency display.","title":"Product sale price","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"help":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"],"editorStyle":"file:./editor.css"}'),{name:Kr,...Qr}=Yr,en={example:{},edit:function({attributes:e,clientId:t,context:o}){const r=(0,Ht.useWooBlockProps)(e),{label:n,help:a}=e,[i]=(0,ne.useEntityProp)("postType",o.postType||"product","regular_price"),[c,l]=(0,ne.useEntityProp)("postType",o.postType||"product","sale_price"),s=Dr({value:c,onChange:l}),m=(0,se.useInstanceId)(h.BaseControl,"wp-block-woocommerce-product-sale-price-field"),{ref:d,error:u,validate:p}=wr(`sale-price-${t}`,(async function(){if(c){if(Number.parseFloat(c)<0)return(0,N.__)("Sale price must be greater than or equals to zero.","woocommerce");const e=Number.parseFloat(i);if(!e||e<=Number.parseFloat(c))return(0,N.__)("Sale price must be lower than the list price.","woocommerce")}}),[i,c]);return(0,_.createElement)("div",{...r},(0,_.createElement)(h.BaseControl,{id:m,help:u||a,className:le()({"has-error":u})},(0,_.createElement)(h.__experimentalInputControl,{...s,id:m,name:"sale_price",ref:d,label:n,onBlur:p})))}};function tn(){return zt({name:Kr,metadata:Qr,settings:en})}const on=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-schedule-sale-fields","title":"Product schedule sale fields","category":"woocommerce","description":"The product schedule sale fields.","keywords":["products","schedule","sale"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),rn=window.moment;var nn=o.n(rn);const an=window.wp.date,{name:cn,...ln}=on,sn={example:{},edit:function({attributes:e,clientId:t,context:o}){const r=(0,Ht.useWooBlockProps)(e),{hasEdit:n}=et(),a=(0,an.getSettings)().formats.datetime,[i,c]=(0,_.useState)(!1),[l]=(0,ne.useEntityProp)("postType",o.postType||"product","sale_price"),s=Number.parseFloat(l||"0")>0,[m,d]=(0,ne.useEntityProp)("postType",o.postType||"product","date_on_sale_from_gmt"),[u,p]=(0,ne.useEntityProp)("postType",o.postType||"product","date_on_sale_to_gmt"),g=nn()().startOf("minute").toISOString();(0,_.useEffect)((()=>{n("sale_price")&&!s&&(c(!1),d(""),p(""))}),[s]),(0,_.useEffect)((()=>{(m||u)&&c(!0)}),[m,u]);const w=nn()(m,nn().ISO_8601,!0),v=nn()(u,nn().ISO_8601,!0),{ref:E,error:b,validate:y}=wr(`date_on_sale_from_gmt-${t}`,(async function(){if(i&&m){if(!w.isValid())return(0,N.__)("Please enter a valid date.","woocommerce");if(w.isAfter(v))return(0,N.__)("The start date of the sale must be before the end date.","woocommerce")}}),[i,m,w,v]),{ref:C,error:k,validate:S}=wr(`date_on_sale_to_gmt-${t}`,(async function(){if(i&&u){if(!v.isValid())return(0,N.__)("Please enter a valid date.","woocommerce");if(v.isBefore(w))return(0,N.__)("The end date of the sale must be after the start date.","woocommerce")}}),[i,m,w,v]);return(0,_.createElement)("div",{...r},(0,_.createElement)(h.ToggleControl,{label:(0,N.__)("Schedule sale","woocommerce"),checked:i,onChange:function(e){(0,U.recordEvent)("product_pricing_schedule_sale_toggle_click",{enabled:e}),c(e),e?(d(g),p("")):(d(""),p(""))},disabled:!s}),i&&(0,_.createElement)("div",{className:"wp-block-columns wp-block-woocommerce-product-schedule-sale-fields__content"},(0,_.createElement)("div",{className:"wp-block-column"},(0,_.createElement)(f.DateTimePickerControl,{ref:E,label:(0,N.__)("From","woocommerce"),placeholder:(0,N.__)("Sale start date and time (optional)","woocommerce"),dateTimeFormat:a,currentDate:m,onChange:d,className:b&&"has-error",help:b,onBlur:y})),(0,_.createElement)("div",{className:"wp-block-column"},(0,_.createElement)(f.DateTimePickerControl,{ref:C,label:(0,N.__)("To","woocommerce"),placeholder:(0,N.__)("Sale end date and time (optional)","woocommerce"),dateTimeFormat:a,currentDate:u,onChange:e=>p(nn()(e).startOf("minute").toISOString()),onBlur:S,className:k&&"has-error",help:k}))))}};function mn(){return zt({name:cn,metadata:ln,settings:sn})}const dn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-section","title":"Product section","category":"woocommerce","description":"The product section.","keywords":["products","section","group"],"textdomain":"default","attributes":{"title":{"type":"string"},"description":{"type":"string","__experimentalRole":"content"},"blockGap":{"type":"string","enum":["unit-30","unit-40"],"default":"unit-30"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}');function un(e,t){return`${e}-${t}`}function pn({name:e,clientId:t,...o}){return(0,_.createElement)(h.Slot,{...o,name:un(e,t)})}const{name:_n,...fn}=dn,gn={example:{},edit:function({attributes:e,clientId:t}){const{description:o,title:r,blockGap:n}=e,a=(0,Ht.useWooBlockProps)(e),i=(0,Ye.useInnerBlocksProps)({className:le()("wp-block-woocommerce-product-section__content",`wp-block-woocommerce-product-section__content--block-gap-${n}`)},{templateLock:"all"}),c=r?"fieldset":"div",l="fieldset"===c?"legend":"div",s=`wp-block-woocommerce-product-section__heading-tooltip-${t}`;return(0,_.createElement)(c,{...a},r&&(0,_.createElement)(l,{className:"wp-block-woocommerce-product-section__heading"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-section__heading-title-wrapper"},(0,_.createElement)("h2",{className:"wp-block-woocommerce-product-section__heading-title"},r,o&&(0,_.createElement)(f.__experimentalTooltip,{className:s,text:(0,_.createElement)("p",{className:"wp-block-woocommerce-product-section__heading-description",dangerouslySetInnerHTML:Qt(o)}),position:"bottom center",helperText:(0,N.__)("View helper text","woocommerce")})),(0,_.createElement)(pn,{name:"section-actions",clientId:t})),(0,_.createElement)(pn,{name:"section-description",clientId:t})),(0,_.createElement)("div",{...i}))}};function hn(){return zt({name:_n,metadata:fn,settings:gn})}const wn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-section-description","title":"Product section description","category":"woocommerce","description":"The product section description.","keywords":["products","section","description"],"textdomain":"default","attributes":{"content":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}');function vn({name:e,clientId:t,slotContainerBlockName:o,...r}){const n=(0,a.useSelect)((e=>{const{getBlockParentsByBlockName:r}=e("core/block-editor"),[n]=r(t,o,!0);return n}),[t,o]);return n?(0,_.createElement)(h.Fill,{...r,name:un(e,n)}):null}const{name:En,...bn}=wn,yn={example:{},edit:function({attributes:e,clientId:t}){const{content:o}=e,r=(0,Ht.useWooBlockProps)(e);return(0,_.createElement)(vn,{...r,name:"section-description",clientId:t,slotContainerBlockName:"woocommerce/product-section"},(0,_.createElement)("div",null,o))}};function Cn(){return zt({name:En,metadata:bn,settings:yn})}const kn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-shipping-class-field","title":"Product shipping class field","category":"woocommerce","description":"The product shipping class field.","keywords":["products","shipping","class"],"textdomain":"default","attributes":{"title":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}');function Sn({onAdd:e,onCancel:t}){var o;const{errors:r,getInputProps:n,isValidForm:a}=(0,f.useFormContext)(),[i,c]=(0,_.useState)(!1);return(0,_.createElement)("div",{className:"woocommerce-add-new-shipping-class-modal__wrapper"},(0,_.createElement)(h.TextControl,{...n("name"),placeholder:(0,N.__)("e.g. Fragile products","woocommerce"),label:(0,_.createInterpolateElement)((0,N.__)("Name <required />","woocommerce"),{required:(0,_.createElement)("span",{className:"woocommerce-add-new-shipping-class-modal__optional-input"},(0,N.__)("(required)","woocommerce"))})}),(0,_.createElement)(h.TextControl,{...n("slug"),label:(0,N.__)("Slug","woocommerce")}),(0,_.createElement)(h.TextControl,{...n("description"),label:(0,N.__)("Description","woocommerce"),help:null!==(o=null==r?void 0:r.description)&&void 0!==o?o:(0,N.__)("Describe how you and other store administrators can use this shipping class.","woocommerce")}),(0,_.createElement)("div",{className:"woocommerce-add-new-shipping-class-modal__buttons"},(0,_.createElement)(h.Button,{isSecondary:!0,onClick:t},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{isPrimary:!0,isBusy:i,disabled:!a||i,onClick:function(){c(!0),e().then((()=>{c(!1),t()})).catch((()=>{c(!1)}))}},(0,N.__)("Add","woocommerce"))))}function Nn(e){var t;const o={};return(null===(t=e.name)||void 0===t?void 0:t.length)||(o.name=(0,N.__)("The shipping class name is required.","woocommerce")),o}const Tn={name:"",slug:"",description:""};function xn({shippingClass:e,onAdd:t,onCancel:o}){return(0,_.createElement)(h.Modal,{title:(0,N.__)("New shipping class","woocommerce"),className:"woocommerce-add-new-shipping-class-modal",onRequestClose:o},(0,_.createElement)(f.Form,{initialValues:null!=e?e:Tn,validate:Nn,errors:{},onSubmit:function(e){return t(Object.entries(e).reduce((function(e,[t,o]){return{...e,[t]:""===o?void 0:o}}),{}))}},(e=>(0,_.createElement)(Sn,{onAdd:e.handleSubmit,onCancel:o}))))}const Pn=[{value:"",label:(0,N.__)("No shipping class","woocommerce")},{value:D,label:(0,N.__)("Add new shipping class","woocommerce")}];function An(e){return e.map((({slug:e,name:t})=>({value:e,label:t})))}function In(e,t){const o=null==e?void 0:e.find((({slug:e})=>"uncategorized"!==e));if(o&&!(null==t?void 0:t.some((({slug:e})=>e===o.slug))))return{name:o.name,slug:o.slug}}const{name:Mn,...Rn}=kn,Ln={example:{},edit:function({attributes:e,context:t}){const[o,r]=(0,_.useState)(!1),n=(0,Ht.useWooBlockProps)(e),{createProductShippingClass:i,invalidateResolution:c}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_SHIPPING_CLASSES_STORE_NAME),{createErrorNotice:l}=(0,a.useDispatch)("core/notices"),[s]=(0,ne.useEntityProp)("postType",t.postType,"categories"),[m,d]=(0,ne.useEntityProp)("postType",t.postType,"shipping_class"),[u]=(0,ne.useEntityProp)("postType",t.postType,"virtual");function p(e){let t=(0,N.__)("We couldnâ€™t add this shipping class. Try again in a few seconds.","woocommerce");throw"term_exists"===e.code&&(t=(0,N.__)("A shipping class with that slug already exists.","woocommerce")),l(t,{explicitDismiss:!0}),e}const{shippingClasses:g}=(0,a.useSelect)((e=>{var t;const{getProductShippingClasses:o}=e(x.EXPERIMENTAL_PRODUCT_SHIPPING_CLASSES_STORE_NAME);return{shippingClasses:null!==(t=o())&&void 0!==t?t:[]}}),[]),w=(0,se.useInstanceId)(h.BaseControl,"wp-block-woocommerce-product-shipping-class-field");return(0,_.createElement)("div",{...n},(0,_.createElement)("div",{className:"wp-block-columns"},(0,_.createElement)("div",{className:"wp-block-column"},(0,_.createElement)(h.SelectControl,{id:w,name:"shipping_class",value:m,onChange:e=>{e!==D?d(e):r(!0)},label:(0,N.__)("Shipping class","woocommerce"),options:[...Pn,...An(null!=g?g:[])],disabled:u,help:(0,_.createInterpolateElement)((0,N.__)("Manage shipping classes and rates in <Link>global settings</Link>.","woocommerce"),{Link:(0,_.createElement)(f.Link,{href:(0,Ie.getNewPath)({tab:"shipping",section:"classes"},"",{},"wc-settings"),target:"_blank",type:"external",onClick:()=>{(0,U.recordEvent)("product_shipping_global_settings_link_click")}},(0,_.createElement)(_.Fragment,null))})})),(0,_.createElement)("div",{className:"wp-block-column"})),o&&(0,_.createElement)(xn,{shippingClass:In(s,g),onAdd:e=>i(e).then((e=>((0,U.recordEvent)("product_new_shipping_class_modal_add_button_click"),c("getProductShippingClasses"),d(e.slug),e))).catch(p),onCancel:()=>r(!1)}))}};function Dn(){return zt({name:Mn,metadata:Rn,settings:Ln})}const On=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-shipping-dimensions-fields","title":"Product shipping dimensions fields","category":"woocommerce","description":"The product shipping dimensions fields.","keywords":["products","shipping","dimensions"],"textdomain":"default","attributes":{"__contentEditable":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');function Bn({highlight:e,labels:t={},...o}){return(0,_.createElement)("svg",{width:"295",height:"195",viewBox:"0 0 295 195",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},(0,_.createElement)("path",{d:"M11.5664 134.604V35.3599C11.5664 33.9482 12.9862 32.9782 14.3014 33.4915L99.6373 66.7959C100.4 67.0935 100.905 67.8243 100.914 68.6426L102.037 171.578C102.052 173.027 100.574 174.014 99.2419 173.444L12.7831 136.448C12.0451 136.132 11.5664 135.407 11.5664 134.604Z",fill:"A"===e?"#F0F6FC":"#FFFFFF"}),(0,_.createElement)("path",{d:"M11.5664 134.603V35.3599C11.5664 33.9482 12.9862 32.9782 14.3014 33.4915L99.624 66.7908C100.393 67.0909 100.9 67.8314 100.901 68.6569L101.024 174.131L12.7844 136.447C12.0457 136.132 11.5664 135.406 11.5664 134.603Z",stroke:"#E0E0E0",strokeWidth:"2.00574"}),(0,_.createElement)("path",{d:"M1.25977 150.388L86.0112 188.183",stroke:"A"===e?"#006FAD":"#CCCCCC",strokeWidth:"1.50431",strokeMiterlimit:"16"}),(0,_.createElement)("path",{d:"M250.775 32.9793L100.9 66.9577V172.981C100.9 174.297 102.146 175.257 103.418 174.921L251.73 135.764C252.611 135.531 253.224 134.735 253.224 133.824V34.9354C253.224 33.6488 252.03 32.6948 250.775 32.9793Z",fill:"B"===e?"#F0F6FC":"#FFFFFF",stroke:"#E0E0E0",strokeWidth:"2.00574"}),(0,_.createElement)("path",{d:"M270.402 28.9875V132.064",stroke:"C"===e?"#006FAD":"#CCCCCC",strokeWidth:"1.50431",strokeMiterlimit:"16"}),(0,_.createElement)("path",{d:"M257.804 152.679L107.771 192.765",stroke:"B"===e?"#006FAD":"#CCCCCC",strokeWidth:"1.50431",strokeMiterlimit:"16"}),(0,_.createElement)("path",{d:"M13.1406 33.41L161.446 1.61817C161.808 1.54066 162.184 1.56462 162.533 1.68742L251.16 32.8868",stroke:"#E0E0E0",strokeWidth:"2.00574"}),t.C?(0,_.createElement)("text",{x:"280",y:"85",fontSize:11,fill:"C"===e?"#007CBA":"#949494"},t.C):(0,_.createElement)("path",{d:"M282.123 80.7892C282.123 79.5323 282.435 78.5405 283.058 77.8136C283.685 77.0867 284.537 76.7233 285.615 76.7233C286.467 76.7233 287.192 76.9739 287.79 77.4752C288.391 77.9729 288.741 78.6175 288.837 79.4088H287.639C287.525 78.9326 287.285 78.553 286.92 78.2701C286.558 77.9873 286.123 77.8458 285.615 77.8458C284.92 77.8458 284.368 78.1108 283.96 78.6407C283.556 79.1671 283.353 79.8833 283.353 80.7892C283.353 81.6915 283.556 82.4077 283.96 82.9376C284.368 83.464 284.922 83.7272 285.62 83.7272C286.132 83.7272 286.569 83.5983 286.93 83.3405C287.296 83.0826 287.532 82.7353 287.639 82.2985H288.837C288.73 83.0647 288.382 83.6824 287.795 84.1515C287.208 84.617 286.483 84.8497 285.62 84.8497C284.542 84.8497 283.69 84.4863 283.063 83.7594C282.437 83.0325 282.123 82.0424 282.123 80.7892Z",fill:"C"===e?"#007CBA":"#949494"}),t.B?(0,_.createElement)("text",{x:"188",y:"190",fontSize:11,fill:"B"===e?"#007CBA":"#949494"},t.B):(0,_.createElement)("path",{d:"M192.281 189.611V181.861H195.396C196.123 181.861 196.692 182.034 197.104 182.382C197.519 182.725 197.727 183.196 197.727 183.794C197.727 184.199 197.596 184.562 197.335 184.885C197.073 185.203 196.751 185.395 196.368 185.459V185.551C196.891 185.604 197.312 185.803 197.63 186.147C197.953 186.487 198.114 186.91 198.114 187.414C198.114 188.098 197.879 188.635 197.41 189.026C196.941 189.416 196.293 189.611 195.466 189.611H192.281ZM193.484 188.591H195.224C195.765 188.591 196.177 188.483 196.459 188.268C196.742 188.054 196.884 187.74 196.884 187.328C196.884 186.924 196.737 186.618 196.443 186.41C196.15 186.199 195.72 186.093 195.154 186.093H193.484V188.591ZM193.484 185.142H194.913C195.442 185.142 195.844 185.048 196.116 184.858C196.391 184.664 196.529 184.383 196.529 184.015C196.529 183.656 196.404 183.379 196.153 183.182C195.906 182.981 195.561 182.881 195.117 182.881H193.484V185.142Z",fill:"B"===e?"#007CBA":"#949494"}),t.A?(0,_.createElement)("text",{x:"18",y:"185",fontSize:11,fill:"A"===e?"#007CBA":"#949494"},t.A):(0,_.createElement)("path",{d:"M22.7694 185.149L25.5678 177.399H26.8622L29.6605 185.149H28.3822L27.6732 183.092H24.7191L24.0048 185.149H22.7694ZM25.0253 182.082H27.3671L26.2445 178.806H26.1532L25.0253 182.082Z",fill:"A"===e?"#007CBA":"#949494"}))}const{name:Fn,...Vn}=On,Hn={example:{},edit:function({attributes:e,clientId:t,context:o}){var r,n,i;const c=(0,Ht.useWooBlockProps)(e),[l,s]=(0,ne.useEntityProp)("postType",o.postType,"dimensions"),[m,d]=(0,ne.useEntityProp)("postType",o.postType,"weight"),[u]=(0,ne.useEntityProp)("postType",o.postType,"virtual"),[p,f]=(0,_.useState)(),{formatNumber:g,parseNumber:w}=Z(),{dimensionUnit:v,weightUnit:E}=(0,a.useSelect)((e=>{const{getOption:t}=e(x.OPTIONS_STORE_NAME);return{dimensionUnit:t("woocommerce_dimension_unit"),weightUnit:t("woocommerce_weight_unit")}}),[]);function b(e,t){return{name:`dimensions.${e}`,value:l?g(String(l[e])):void 0,onChange:t=>s({...null!=l?l:{},[e]:w(t)}),onFocus:()=>f(t),onBlur:()=>f(void 0),suffix:v,disabled:u}}const{ref:y,error:C,validate:k}=wr(`dimensions_width-${t}`,(async function(){if((null==l?void 0:l.width)&&+l.width<=0)return(0,N.__)("Width must be greater than zero.","woocommerce")}),[null==l?void 0:l.width]),{ref:S,error:T,validate:P}=wr(`dimensions_length-${t}`,(async function(){if((null==l?void 0:l.length)&&+l.length<=0)return(0,N.__)("Length must be greater than zero.","woocommerce")}),[null==l?void 0:l.length]),{ref:A,error:I,validate:M}=wr(`dimensions_height-${t}`,(async function(){if((null==l?void 0:l.height)&&+l.height<=0)return(0,N.__)("Height must be greater than zero.","woocommerce")}),[null==l?void 0:l.height]),{ref:R,error:L,validate:D}=wr(`weight-${t}`,(async function(){if(m&&+m<=0)return(0,N.__)("Weight must be greater than zero.","woocommerce")}),[m]),O={...b("width","A"),id:(0,se.useInstanceId)(h.BaseControl,"product_shipping_dimensions_width"),ref:y,onBlur:k},B={...b("length","B"),id:(0,se.useInstanceId)(h.BaseControl,"product_shipping_dimensions_length"),ref:S,onBlur:P},F={...b("height","C"),id:(0,se.useInstanceId)(h.BaseControl,"product_shipping_dimensions_height"),ref:A,onBlur:M},V={id:(0,se.useInstanceId)(h.BaseControl,"product_shipping_weight"),name:"weight",value:g(String(m)),onChange:e=>d(w(e)),suffix:E,ref:R,onBlur:D,disabled:u};return(0,_.createElement)("div",{...c},(0,_.createElement)("h4",null,(0,N.__)("Dimensions","woocommerce")),(0,_.createElement)("div",{className:"wp-block-columns"},(0,_.createElement)("div",{className:"wp-block-column"},(0,_.createElement)(h.BaseControl,{id:O.id,label:(0,_.createInterpolateElement)((0,N.__)("Width <Side />","woocommerce"),{Side:(0,_.createElement)("span",null,"A")}),className:le()({"has-error":C}),help:C},(0,_.createElement)(h.__experimentalInputControl,{...O})),(0,_.createElement)(h.BaseControl,{id:B.id,label:(0,_.createInterpolateElement)((0,N.__)("Length <Side />","woocommerce"),{Side:(0,_.createElement)("span",null,"B")}),className:le()({"has-error":T}),help:T},(0,_.createElement)(h.__experimentalInputControl,{...B})),(0,_.createElement)(h.BaseControl,{id:F.id,label:(0,_.createInterpolateElement)((0,N.__)("Height <Side />","woocommerce"),{Side:(0,_.createElement)("span",null,"C")}),className:le()({"has-error":I}),help:I},(0,_.createElement)(h.__experimentalInputControl,{...F})),(0,_.createElement)(h.BaseControl,{id:V.id,label:(0,N.__)("Weight","woocommerce"),className:le()({"has-error":L}),help:L},(0,_.createElement)(h.__experimentalInputControl,{...V}))),(0,_.createElement)("div",{className:"wp-block-column"},(0,_.createElement)(Bn,{highlight:p,className:"wp-block-woocommerce-product-shipping-dimensions-fields__dimensions-image",labels:{A:(null===(r=O.value)||void 0===r?void 0:r.length)?O.value:void 0,B:(null===(n=B.value)||void 0===n?void 0:n.length)?B.value:void 0,C:(null===(i=F.value)||void 0===i?void 0:i.length)?F.value:void 0}}))))}};function Un(){return zt({name:Fn,metadata:Vn,settings:Hn})}const zn=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-summary-field","title":"Product summary","category":"widgets","description":"The product summary.","keywords":["products","summary","excerpt"],"textdomain":"default","attributes":{"property":{"type":"string"},"align":{"type":"string"},"allowedFormats":{"type":"array","default":["core/bold","core/code","core/italic","core/link","core/strikethrough","core/underline","core/text-color","core/subscript","core/superscript","core/unknown"]},"direction":{"type":"string","enum":["ltr","rtl"]},"label":{"type":"string"},"helpText":{"type":"string"},"content":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),$n=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,_.createElement)(de.Path,{d:"M5.52 2h7.43c.55 0 1 .45 1 1s-.45 1-1 1h-1v13c0 .55-.45 1-1 1s-1-.45-1-1V5c0-.55-.45-1-1-1s-1 .45-1 1v12c0 .55-.45 1-1 1s-1-.45-1-1v-5.96h-.43C3.02 11.04 1 9.02 1 6.52S3.02 2 5.52 2zM14 14l5-4-5-4v8z"}));function Wn({direction:e,onChange:t}){return(0,_.createElement)(_.Fragment,null,(0,N.isRTL)()&&(0,_.createElement)(h.ToolbarButton,{icon:$n,title:(0,N._x)("Left to right","editor button","woocommerce"),isActive:"ltr"===e,onClick:function(){"function"==typeof t&&t("ltr"===e?void 0:"ltr")}}))}const Gn=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z"})),jn=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M16.4 4.2H7.6v1.5h8.9V4.2zM4 11.2v1.5h16v-1.5H4zm3.6 8.6h8.9v-1.5H7.6v1.5z"})),qn=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M11.1 19.8H20v-1.5h-8.9v1.5zm0-15.6v1.5H20V4.2h-8.9zM4 12.8h16v-1.5H4v1.5z"})),Zn=(0,_.createElement)(de.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})),Jn=[{icon:Gn,title:(0,N.__)("Align text left","woocommerce"),align:"left"},{icon:jn,title:(0,N.__)("Align text center","woocommerce"),align:"center"},{icon:qn,title:(0,N.__)("Align text right","woocommerce"),align:"right"},{icon:Zn,title:(0,N.__)("Align text justify","woocommerce"),align:"justify"}],{name:Xn,...Yn}=zn,Kn={example:{},edit:function e({attributes:t,setAttributes:o,context:r}){const{align:n,allowedFormats:i,direction:c,label:l,helpText:s}=t,m=(0,Ht.useWooBlockProps)(t,{style:{direction:c}}),d=(0,se.useInstanceId)(e,"wp-block-woocommerce-product-summary-field__content"),[u,p]=(0,ne.useEntityProp)("postType",r.postType||"product",t.property),{clearSelectedBlock:f}=(0,a.useDispatch)(Ye.store);return(0,_.createElement)("div",{className:"wp-block wp-block-woocommerce-product-summary-field-wrapper"},(0,_.createElement)(Ye.BlockControls,{group:"block"},(0,_.createElement)(Ye.AlignmentControl,{alignmentControls:Jn,value:n,onChange:function(e){o({align:e})}}),(0,_.createElement)(Wn,{direction:c,onChange:function(e){o({direction:e})}})),(0,_.createElement)(h.BaseControl,{id:d.toString(),label:void 0===l?(0,_.createInterpolateElement)((0,N.__)("Summary","woocommerce"),{optional:(0,_.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,N.__)("(OPTIONAL)","woocommerce"))}):l,help:void 0===s?(0,N.__)("Summarize this product in 1-2 short sentences. We'll show it at the top of the page.","woocommerce"):s},(0,_.createElement)("div",{...m},(0,_.createElement)(Ye.RichText,{id:d.toString(),identifier:"content",tagName:"p",value:u,onChange:p,"data-empty":Boolean(u),className:le()("components-summary-control",{[`has-text-align-${n}`]:n}),dir:c,allowedFormats:i,onBlur:function(e){var t;(null===(t=e.relatedTarget)||void 0===t?void 0:t.closest(".block-editor-block-contextual-toolbar"))||f()}}))))}};function Qn(){return zt({name:Xn,metadata:Yn,settings:Kn})}const ea=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-tab","title":"Product tab","category":"woocommerce","description":"The product tab.","keywords":["products","tab","group"],"textdomain":"default","attributes":{"id":{"type":"string"},"title":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"providesContext":{"isInSelectedTab":"isSelected"},"usesContext":["selectedTab"],"editorStyle":"file:./editor.css"}'),ta=({children:e})=>(0,_.createElement)(_.Fragment,null,e);function oa({children:e,className:t,id:o,order:r=100,selected:n=!1}){const a=le()("wp-block-woocommerce-product-tab__button",t,{"is-selected":n});return(0,_.createElement)(h.Fill,{name:Ge},(t=>{const{onClick:i}=t;return(0,_.createElement)(ta,{order:r},(0,_.createElement)(h.Button,{key:o,className:a,onClick:()=>i(o),id:`woocommerce-product-tab__${o}`,"aria-controls":`woocommerce-product-tab__${o}-content`,"aria-selected":n},e))}))}const{name:ra,...na}=ea,aa={example:{},edit:function({setAttributes:e,attributes:t,context:o}){const r=(0,Ht.useWooBlockProps)(t),{id:n,title:a,_templateBlockOrder:i,isSelected:c}=t,l=o.selectedTab===n;l!==c&&e({isSelected:l});const s=le()("wp-block-woocommerce-product-tab__content",{"is-selected":l});return(0,_.createElement)("div",{...r},(0,_.createElement)(oa,{id:n,selected:l,order:i},a),(0,_.createElement)("div",{id:`woocommerce-product-tab__${n}-content`,"aria-labelledby":`woocommerce-product-tab__${n}`,role:"tabpanel",className:s},(0,_.createElement)(Ye.InnerBlocks,{templateLock:"contentOnly"})))}};function ia(){return zt({name:ra,metadata:na,settings:aa})}const ca=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-tag-field","title":"Product Tag","category":"widgets","description":"A field to select product tags.","keywords":["products","tag"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"placeholder":{"type":"string"}},"usesContext":["postType"],"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),la=({initialTagName:e,onCancel:t,onCreate:o})=>{const{createNotice:r}=(0,a.useDispatch)("core/notices"),[n,i]=(0,_.useState)(!1),{createProductTag:c,invalidateResolutionForStoreSelector:l}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_TAGS_STORE_NAME),[s,m]=(0,_.useState)(e||"");return(0,_.createElement)(h.Modal,{title:(0,N.__)("Create tag","woocommerce"),onRequestClose:()=>t(),className:"woocommerce-create-new-tag-modal"},(0,_.createElement)("div",{className:"woocommerce-create-new-tag-modal__wrapper"},(0,_.createElement)(h.TextControl,{label:(0,N.__)("Name","woocommerce"),name:"Tops",value:s,onChange:m}),(0,_.createElement)("div",{className:"woocommerce-create-new-tag-modal__buttons"},(0,_.createElement)(h.Button,{isSecondary:!0,onClick:()=>t(),disabled:n},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{isPrimary:!0,disabled:0===s.length||n,isBusy:n,onClick:()=>{(async()=>{(0,U.recordEvent)("product_tag_add",{source:V}),i(!0);try{const e=await c({name:s});l("getProductTags"),i(!1),o(e)}catch(e){r("error",(0,N.__)("Failed to create tag.","woocommerce")),i(!1),t()}})()}},(0,N.__)("Save","woocommerce")))))};function sa(e){return{value:String(e.id),label:e.name}}function ma(e){return{id:+e.value,name:e.label}}function da(e){return e.map(sa)}const ua=({id:e,label:t,placeholder:o,value:r=[],onChange:n})=>{const{tagsSelectList:i,searchTags:c}=(()=>{const[e,t]=(0,_.useState)([]),[o,r]=(0,_.useState)(!0),n=e=>{r(!0);const o=void 0!==e?{search:e}:"";(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_TAGS_STORE_NAME).getProductTags(o).then((e=>{t(e)})).finally((()=>{r(!1)}))};return(0,_.useEffect)(n,[]),{searchTags:n,tagsSelectList:e,isSearching:o}})(),[l,s]=(0,_.useState)(""),[m,d]=(0,_.useState)(!1),[u,p]=(0,_.useState)(!1),[g,h]=(0,_.useState)(),{createProductTag:w,invalidateResolutionForStoreSelector:v}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_TAGS_STORE_NAME),{createNotice:E}=(0,a.useDispatch)("core/notices"),b=e=>{s(e||""),c(e||""),h(e)},y=(0,se.useDebounce)(b,150);return(0,_.createElement)(_.Fragment,null,(0,_.createElement)(f.__experimentalSelectTreeControl,{id:e,multiple:!0,shouldNotRecursivelySelect:!0,createValue:l,label:t,isLoading:m,onInputChange:y,placeholder:0===r.length?o:"",initialInputValue:g,onCreateNew:0===l.length?()=>p(!0):async()=>{(0,U.recordEvent)("product_tag_add",{source:V}),d(!0);try{h("");const e=await w({name:l});v("getProductTags"),d(!1),n([...r,e]),b("")}catch(e){E("error",(0,N.__)("Failed to create tag.","woocommerce")),d(!1)}},shouldShowCreateButton:e=>!e||-1===i.findIndex((t=>t.name===e)),items:da(i),selected:da(r),onSelect:e=>{if(Array.isArray(e)){const t=e.filter((({value:e})=>!r.some((t=>t.id===+e)))).map(ma);n([...r,...t])}},onRemove:e=>{const t=Array.isArray(e)?r.filter((t=>!e.some((({value:e})=>t.id===+e)))):r.filter((t=>t.id!==+e.value));n(t)}}),u&&(0,_.createElement)(la,{initialTagName:l,onCancel:()=>p(!1),onCreate:e=>{n([...r,e]),p(!1),b("")}}))},{name:pa}=ca,_a={example:{},edit:function({attributes:e,context:t}){const o=(0,Ht.useWooBlockProps)(e),{name:r,label:n,placeholder:a}=e,[i,c]=(0,ne.useEntityProp)("postType",t.postType||"product",r||"tags"),l=(0,se.useInstanceId)(h.BaseControl,"tag-field");return(0,_.createElement)("div",{...o},(0,_.createElement)(ua,{id:l,label:n||(0,N.__)("Tags","woocommerce"),placeholder:a||(0,N.__)("Search or create tagsâ€¦","woocommerce"),onChange:c,value:i||[]}))}},fa=()=>zt({name:pa,metadata:ca,settings:_a}),ga=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-inventory-quantity-field","title":"Product inventory quantity available","category":"woocommerce","description":"The product available quantity.","keywords":["products","quantity","inventory"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}'),{name:ha,...wa}=ga,va={example:{},edit:function({attributes:e,clientId:t,context:o}){const r=(0,Ht.useWooBlockProps)(e),[n]=(0,ne.useEntityProp)("postType",o.postType,"manage_stock"),[a,i]=(0,ne.useEntityProp)("postType",o.postType,"stock_quantity"),c=(0,se.useInstanceId)(h.BaseControl,"product_stock_quantity"),{ref:l,error:s,validate:m}=wr(`stock_quantity-${t}`,(async function(){if(n&&a&&a<0)return(0,N.__)("Stock quantity must be a positive number.","woocommerce")}),[n,a]);return(0,_.useEffect)((()=>{n&&null===a&&i(1)}),[n,a]),(0,_.createElement)("div",{...r},(0,_.createElement)("div",{className:"wp-block-columns"},(0,_.createElement)("div",{className:"wp-block-column"},(0,_.createElement)(h.BaseControl,{id:c,className:s&&"has-error",help:null!=s?s:""},(0,_.createElement)(h.__experimentalInputControl,{id:c,name:"stock_quantity",ref:l,label:(0,N.__)("Available quantity","woocommerce"),value:a,onChange:i,onBlur:m,type:"number",min:0}))),(0,_.createElement)("div",{className:"wp-block-column"})))}};function Ea(){return zt({name:ha,metadata:wa,settings:va})}const ba=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-toggle-field","title":"Product toggle control","category":"woocommerce","description":"The product toggle.","keywords":["products","radio","input"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"help":{"type":"string"},"checkedHelp":{"type":"string"},"uncheckedHelp":{"type":"string"},"property":{"type":"string"},"disabled":{"type":"boolean","default":false},"disabledCopy":{"type":"string","__experimentalRole":"content"},"checkedValue":{"type":"object"},"uncheckedValue":{"type":"object"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":true,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["postType"]}'),{name:ya,...Ca}=ba,ka={example:{},edit:function({attributes:e,context:{postType:t}}){var o,r,n;const a=(0,Ht.useWooBlockProps)(e),{_templateBlockId:i,label:c,property:l,disabled:s,disabledCopy:m,checkedValue:d,uncheckedValue:u}=e,[p,f]=Zt(l,{postType:t,fallbackValue:!1}),g=(0,ne.useEntityId)("postType",t),[w]=(0,ne.useEntityProp)("postType",t,"parent_id");function v(){return void 0!==d?d===p:p}let E=null;return(null==e?void 0:e.help)&&(E=(0,_.createElement)("div",{dangerouslySetInnerHTML:{__html:null===(o=Qt(e.help))||void 0===o?void 0:o.__html}})),(null==e?void 0:e.checkedHelp)&&v()&&(E=(0,_.createElement)("div",{dangerouslySetInnerHTML:{__html:null===(r=Qt(e.checkedHelp))||void 0===r?void 0:r.__html}})),(null==e?void 0:e.uncheckedHelp)&&!v()&&(E=(0,_.createElement)("div",{dangerouslySetInnerHTML:{__html:null===(n=Qt(e.uncheckedHelp))||void 0===n?void 0:n.__html}})),(0,_.createElement)("div",{...a},(0,_.createElement)(h.ToggleControl,{label:c,checked:v(),disabled:s,onChange:function(e){(0,U.recordEvent)("product_toggle_click",{block_id:i,source:V,product_id:w>0?w:g}),f(e?void 0!==d?d:e:void 0!==u?u:e)},help:E}),s&&(0,_.createElement)("p",{className:"wp-block-woocommerce-product-toggle__disable-copy",dangerouslySetInnerHTML:Qt(m)}))}};function Sa(){return zt({name:ya,metadata:Ca,settings:ka})}const Na=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-attributes-field","title":"Product attributes","category":"widgets","description":"The product attributes.","keywords":["products","attributes"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),Ta=({initialAttributeTermName:e,attributeId:t,onCancel:o=(()=>{}),onCreated:r=(()=>{})})=>{const{createNotice:n}=(0,a.useDispatch)("core/notices"),[i,c]=(0,_.useState)(!1),{createProductAttributeTerm:l,invalidateResolutionForStoreSelector:s}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME);return(0,_.createElement)(h.Modal,{title:(0,N.__)("Create attribute","woocommerce"),onRequestClose:e=>{e.stopPropagation(),o()},className:"woocommerce-create-attribute-term-modal"},(0,_.createElement)(f.Form,{initialValues:{name:e,slug:(0,T.cleanForSlug)(e)},validate:function(e){var t;const o={};return(null===(t=e.name)||void 0===t?void 0:t.length)||(o.name=(0,N.__)("The attribute term name is required.","woocommerce")),o},errors:{},onSubmit:async e=>{(0,U.recordEvent)("product_attribute_term_add",{source:V}),c(!0);try{const o=await l({...e,attribute_id:t});(0,U.recordEvent)("product_attribute_term_add_success",{source:V}),s("getProductAttributes"),c(!1),r(o)}catch(e){(0,U.recordEvent)("product_attribute_term_add_failed",{source:V}),n("error",(0,N.__)("Failed to create attribute term.","woocommerce")),c(!1),o()}}},(({getInputProps:e,handleSubmit:t,isValidForm:r,setValue:n,values:a})=>{const c=e("name");return(0,_.createElement)(_.Fragment,null,(0,_.createElement)(h.TextControl,{label:(0,N.__)("Name","woocommerce"),...c,onBlur:()=>{c.onBlur(),n("slug",(0,T.cleanForSlug)(a.name))}}),(0,_.createElement)(h.TextControl,{label:(0,N.__)("Slug","woocommerce"),...e("slug"),help:(0,N.__)("The â€œslugâ€ is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens.","woocommerce")}),(0,_.createElement)(h.TextareaControl,{label:(0,N.__)("Description","woocommerce"),...e("description")}),(0,_.createElement)("div",{className:"woocommerce-create-attribute-term-modal__buttons"},(0,_.createElement)(h.Button,{isSecondary:!0,label:(0,N.__)("Cancel","woocommerce"),onClick:()=>o()},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{isPrimary:!0,isBusy:i,label:(0,N.__)("Add attribute","woocommerce"),disabled:!r||i,onClick:t},(0,N.__)("Add","woocommerce"))))})))};let xa=0;const Pa=({value:e=[],onChange:t,placeholder:o,disabled:r,attributeId:n,label:i="",autoCreateOnSelect:c=!0,readOnlyWhenClosed:l=!1})=>{const s=(0,_.useRef)("woocommerce-attribute-term-field-"+ ++xa),[m,d]=(0,_.useState)([]),[u,p]=(0,_.useState)(!1),[g,w]=(0,_.useState)(!1),[v,E]=(0,_.useState)(),{createNotice:b}=(0,a.useDispatch)("core/notices"),{createProductAttributeTerm:y,invalidateResolutionForStoreSelector:C}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME),k=(0,_.useCallback)((e=>(p(!0),(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({search:e||"",attribute_id:n}).then((e=>(d(e),p(!1),e)),(e=>(p(!1),e))))),[n]),S=(0,se.useDebounce)(k,250);(0,_.useEffect)((()=>{r||void 0===n||m.length||k()}),[r,n]);const P=o=>{t(e.filter((e=>e.slug!==o.slug)))},A=()=>{const e=document.querySelector("."+s.current+" .woocommerce-experimental-select-control__input");e&&setTimeout((()=>{e.focus()}),0)},I=o=>{-99!==o.id?e.find((e=>e.slug===o.slug))?P(o):t([...e,o]):c?((async o=>{(0,U.recordEvent)("product_attribute_term_add",{source:V}),w(!0);try{const r=await y({...o,attribute_id:n});(0,U.recordEvent)("product_attribute_term_add_success",{source:V}),t([...e,r]),C("getProductAttributes"),C("getProductAttributeTerms"),w(!1)}catch(e){let t={source:V,code:"Unknown error.",message:"An unknown error occurred."},o=(0,N.__)("Failed to create attribute term.","woocommerce");const r=e;(null==r?void 0:r.code)&&(null==r?void 0:r.message)&&(t={...t,code:r.code,message:r.message},"term_exists"===r.code&&(o=(0,N.__)("Attribute term already exists.","woocommerce"))),(0,U.recordEvent)("product_attribute_term_add_failed",t),b("error",o),w(!1)}})({name:o.name,slug:(0,T.cleanForSlug)(o.name)}),A()):E(o.name)},M=(e||[]).map((e=>e.slug));return(0,_.createElement)(_.Fragment,null,(0,_.createElement)(f.__experimentalSelectControl,{items:m,multiple:!0,disabled:r||!n,label:i,getFilteredItems:(e,t)=>t.length>0&&!e.find((e=>e.name.toLowerCase()===t.toLowerCase()))?[...e,{id:-99,name:t}]:e,onInputChange:S,placeholder:o||"",getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.slug)||"",stateReducer:(e,t)=>{const{changes:o,type:r}=t;switch(r){case f.selectControlStateChangeTypes.ControlledPropUpdatedSelectedItem:const t=g?{isOpen:g}:{};return{...o,...t,inputValue:e.inputValue};case f.selectControlStateChangeTypes.ItemClick:return o.selectedItem&&-99===o.selectedItem.id?o:{...o,isOpen:!0,inputValue:e.inputValue,highlightedIndex:e.highlightedIndex};default:return o}},selected:e,onSelect:I,onRemove:P,readOnlyWhenClosed:l,className:"woocommerce-attribute-term-field "+s.current,__experimentalOpenMenuOnFocus:!0},(({items:e,highlightedIndex:t,getItemProps:o,getMenuProps:r,isOpen:n})=>(0,_.createElement)(f.__experimentalSelectControlMenu,{isOpen:n,getMenuProps:r},[u||g?(0,_.createElement)("div",{key:"loading-spinner",className:"woocommerce-attribute-term-field__loading-spinner"},(0,_.createElement)(h.Spinner,null)):null,...e.map(((e,r)=>{const n=M.includes(e.slug);return(0,_.createElement)(f.__experimentalSelectControlMenuItem,{key:`${e.slug}`,index:r,isActive:t===r,item:e,getItemProps:o},-99!==e.id?(0,_.createElement)(h.CheckboxControl,{onChange:()=>null,checked:n,label:(0,_.createElement)("span",null,e.name)}):(0,_.createElement)("div",{className:"woocommerce-attribute-term-field__add-new"},(0,_.createElement)(h.Icon,{icon:it,size:20,className:"woocommerce-attribute-term-field__add-new-icon"}),(0,_.createElement)("span",null,(0,N.sprintf)((0,N.__)('Create "%s"',"woocommerce"),e.name))))}))].filter((e=>null!==e))))),!c&&v&&void 0!==n&&(0,_.createElement)(Ta,{initialAttributeTermName:v,onCancel:()=>{E(void 0),A()},attributeId:n,onCreated:e=>{I(e),E(void 0),C("getProductAttributeTerms"),A()}}))};function Aa(e){return null!==e&&"object"==typeof e&&!!e.label}const Ia=({value:e=[],onChange:t,placeholder:o,disabled:r,label:n})=>{const[a,i]=(0,_.useState)(e),c=o=>{t(e.filter((e=>e!==o)))};return(0,_.createElement)(_.Fragment,null,(0,_.createElement)(f.__experimentalSelectControl,{items:a,multiple:!0,disabled:r,label:n||"",placeholder:o||"",getItemLabel:e=>Aa(e)?e.label:e||"",getItemValue:e=>Aa(e)?e.id:e||"",getFilteredItems:(e,t)=>{const o=e.filter((e=>!t.length||!Aa(e)&&e.toLowerCase().includes(t.toLowerCase())));return t.length>0&&!o.find((e=>!Aa(e)&&e.toLowerCase()===t.toLowerCase()))?[...o,{id:"is-new",label:t}]:o},selected:e,onSelect:o=>{if(Aa(o))return i([...a,o.label]),void t([...e,o.label]);e.includes(o)?c(o):t([...e,o])},onRemove:c,className:"woocommerce-attribute-term-field"},(({items:t,highlightedIndex:o,getItemProps:r,getMenuProps:n,isOpen:a})=>(0,_.createElement)(f.__experimentalSelectControlMenu,{isOpen:a,getMenuProps:n},t.map(((t,n)=>(0,_.createElement)(f.__experimentalSelectControlMenuItem,{key:`${Aa(t)?t.id:t}`,index:n,isActive:o===n,item:t,getItemProps:r},Aa(t)?(0,_.createElement)("div",{className:"woocommerce-attribute-term-field__add-new"},(0,_.createElement)(h.Icon,{icon:it,size:20,className:"woocommerce-attribute-term-field__add-new-icon"}),(0,_.createElement)("span",null,(0,N.sprintf)((0,N.__)('Create "%s"',"woocommerce"),t.label))):(0,_.createElement)(h.CheckboxControl,{onChange:()=>null,checked:e.includes(t),label:(0,_.createElement)("span",null," ",t," ")}))))))))};function Ma({title:e="",content:t="",className:o,type:r="info",children:n,isDismissible:a=!1,handleDismiss:i=(()=>{})}){return(0,_.createElement)("div",{className:le()(o,r,"woocommerce-product-notice",{"is-dismissible":a})},e&&(0,_.createElement)("h3",{className:"woocommerce-product-notice__title"},e),t&&(0,_.createElement)("p",{className:"woocommerce-product-notice__content"},t),(0,_.createElement)("div",{className:"woocommerce-product-notice__content"},n),a&&(0,_.createElement)(h.Button,{className:"woocommerce-product-notice__dismiss",icon:xt,onClick:i}))}function Ra(e){return 0!==e.id?e.id:e.name}const La=e=>`${e.id}-${e.name}`;function Da(e){return"string"==typeof e?{id:0,name:e,slug:e,options:[]}:e}const Oa=({title:e=(0,N.__)("Edit attribute","woocommerce"),nameLabel:t=(0,N.__)("Name","woocommerce"),globalAttributeHelperMessage:o,customAttributeHelperMessage:r=(0,N.__)("Your customers will see this on the product page","woocommerce"),termsLabel:n=(0,N.__)("Values","woocommerce"),termsPlaceholder:a=(0,N.__)("Search or create value","woocommerce"),isDefaultLabel:i=(0,N.__)("Set default value","woocommerce"),isDefaultTooltip:c=(0,N.__)("Check to preselect the first choice when customers enter the product page.","woocommerce"),useAsFilterLabel:l=(0,N.__)("Use as filter","woocommerce"),useAsFilterTooltip:s=(0,N.__)("Check to allow customers to search and filter by this option in your store.","woocommerce"),visibleLabel:m=(0,N.__)("Show in product details","woocommerce"),visibleTooltip:d=(0,N.__)("Check to show this option and its values in the product details section on the product page.","woocommerce"),cancelAccessibleLabel:u=(0,N.__)("Cancel","woocommerce"),cancelLabel:p=(0,N.__)("Cancel","woocommerce"),updateAccessibleLabel:g=(0,N.__)("Edit attribute","woocommerce"),updateLabel:w=(0,N.__)("Update","woocommerce"),onCancel:v,onEdit:E,attribute:b,attributes:y})=>{const[C,k]=(0,_.useState)({...b}),S=0===(null==C?void 0:C.id),{additions:T,deletions:x}=(0,_.useMemo)((()=>{var e,t,o,r,n,a,i,c;if(!b.variation)return{};const l=y.filter((e=>La(e)!==La(b))).reduce(((e,{terms:t})=>{var o;return e*(null!==(o=null==t?void 0:t.length)&&void 0!==o?o:1)}),1),s=null!==(t=null===(e=b.terms)||void 0===e?void 0:e.length)&&void 0!==t?t:0,m=l*s,d=null!==(n=null===(r=null===(o=null==C?void 0:C.terms)||void 0===o?void 0:o.filter((e=>{var t;return!(null===(t=b.terms)||void 0===t?void 0:t.some((t=>t.id===e.id)))})))||void 0===r?void 0:r.length)&&void 0!==n?n:0,u=s+d||1,p=null!==(c=null===(i=null===(a=b.terms)||void 0===a?void 0:a.filter((e=>{var t;return null===(t=null==C?void 0:C.terms)||void 0===t?void 0:t.some((t=>e.id===t.id))})))||void 0===i?void 0:i.length)&&void 0!==c?c:0;return{additions:Math.abs(m-l*u),deletions:Math.abs(m-l*p)}}),[y,b,C]);return(0,_.createElement)(_.Fragment,null,(0,_.createElement)(h.Modal,{title:e,onRequestClose:()=>v(),className:"woocommerce-edit-attribute-modal"},(0,_.createElement)("div",{className:"woocommerce-edit-attribute-modal__body"},(0,_.createElement)(h.TextControl,{label:t,disabled:!S,value:(null==C?void 0:C.name)?null==C?void 0:C.name:"",onChange:e=>k({...C,name:e})}),(0,_.createElement)("p",{className:"woocommerce-edit-attribute-modal__helper-text"},S?r:o),b.terms?(0,_.createElement)(Pa,{label:n,placeholder:(null==C?void 0:C.terms)&&(null==C?void 0:C.terms.length)>0?"":a,value:null==C?void 0:C.terms,attributeId:null==C?void 0:C.id,onChange:e=>{k({...C,terms:e})}}):(0,_.createElement)(Ia,{label:n,placeholder:(null==C?void 0:C.options)&&(null==C?void 0:C.options.length)>0?"":a,disabled:!(null==b?void 0:b.name),value:null==C?void 0:C.options,onChange:e=>{k({...C,options:e})}}),(0,_.createElement)("div",{className:"woocommerce-edit-attribute-modal__options"},b.variation&&(0,_.createElement)("div",{className:"woocommerce-edit-attribute-modal__option-container"},(0,_.createElement)(h.CheckboxControl,{onChange:e=>k({...C,isDefault:e}),checked:null==C?void 0:C.isDefault,label:i}),(0,_.createElement)(f.__experimentalTooltip,{className:"woocommerce-edit-attribute-modal__tooltip-set-default-value",text:c})),(0,_.createElement)("div",{className:"woocommerce-edit-attribute-modal__option-container"},(0,_.createElement)(h.CheckboxControl,{onChange:e=>k({...C,visible:e}),checked:null==C?void 0:C.visible,label:m}),(0,_.createElement)(f.__experimentalTooltip,{className:"woocommerce-edit-attribute-modal__tooltip-show-in-product-details",text:d})),0!==b.id&&(0,_.createElement)("div",{className:"woocommerce-edit-attribute-modal__option-container"},(0,_.createElement)(h.CheckboxControl,{disabled:!0,onChange:()=>{},checked:!0,label:l}),(0,_.createElement)(f.__experimentalTooltip,{className:"woocommerce-edit-attribute-modal__tooltip-use-as-filter",text:s}))),Boolean(T||x)&&(0,_.createElement)(Ma,null,function(){const e=(0,N.sprintf)((0,N.__)("%d variations will be added","woocommerce"),T),t=(0,N.sprintf)((0,N.__)("%d variations will be removed","woocommerce"),x);return T&&x?(0,N.sprintf)("%1$s, %2$s.",e,t):T?(0,N.sprintf)("%s.",e):(0,N.sprintf)("%s.",t)}())),(0,_.createElement)("div",{className:"woocommerce-edit-attribute-modal__buttons"},(0,_.createElement)(h.Button,{isSecondary:!0,label:u,onClick:()=>v()},p),(0,_.createElement)(h.Button,{isPrimary:!0,label:g,onClick:()=>{E(C)}},w))),(0,_.createElement)(f.__experimentalSelectControlMenuSlot,null))};function Ba({width:e=24,height:t=24,...o}){return(0,_.createElement)("svg",{...o,width:e,height:t,viewBox:`0 0 ${e} ${t}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("g",null,(0,_.createElement)("path",{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z",fill:"#949494"}),(0,_.createElement)("rect",{x:"16.7734",y:"4",width:"1.22727",height:"16",transform:"rotate(30 16.7734 4)",fill:"#949494"}),(0,_.createElement)("rect",{x:"16",y:"3",width:"1.22727",height:"16",transform:"rotate(30 16 3)",fill:"white"})),(0,_.createElement)("defs",null,(0,_.createElement)("clipPath",{id:"clip0_4951_450432"},(0,_.createElement)("rect",{width:"24",height:"24",fill:"white"}))))}function Fa({width:e=24,height:t=24,className:o,...r}){return(0,_.createElement)("svg",{...r,width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:le()(o,"woocommerce-hidden-icon")},(0,_.createElement)("path",{d:"M3.99863 13C4.66945 13.3354 4.66932 13.3357 4.66919 13.3359L4.672 13.3305C4.67523 13.3242 4.68086 13.3135 4.6889 13.2985C4.70497 13.2686 4.73062 13.2218 4.76597 13.1608C4.83672 13.0385 4.94594 12.8592 5.09443 12.6419C5.39214 12.2062 5.84338 11.624 6.45337 11.0431C7.6721 9.88241 9.49621 8.75 11.9986 8.75C14.501 8.75 16.3251 9.88241 17.5439 11.0431C18.1539 11.624 18.6051 12.2062 18.9028 12.6419C19.0513 12.8592 19.1605 13.0385 19.2313 13.1608C19.2666 13.2218 19.2923 13.2686 19.3083 13.2985C19.3164 13.3135 19.322 13.3242 19.3252 13.3305L19.3281 13.3359C19.3279 13.3357 19.3278 13.3354 19.9986 13C20.6694 12.6646 20.6693 12.6643 20.6691 12.664L20.6678 12.6614L20.6652 12.6563L20.6573 12.6408C20.6507 12.6282 20.6417 12.6108 20.63 12.5892C20.6068 12.5459 20.5734 12.4852 20.5296 12.4096C20.4422 12.2584 20.3131 12.0471 20.1413 11.7956C19.7984 11.2938 19.2809 10.626 18.5784 9.9569C17.1721 8.61759 14.9962 7.25 11.9986 7.25C9.00105 7.25 6.82516 8.61759 5.41889 9.9569C4.71638 10.626 4.19886 11.2938 3.85596 11.7956C3.68413 12.0471 3.55507 12.2584 3.46762 12.4096C3.42386 12.4852 3.39044 12.5459 3.3672 12.5892C3.35558 12.6108 3.3465 12.6282 3.33994 12.6408L3.33199 12.6563L3.32943 12.6614L3.3285 12.6632C3.32833 12.6635 3.32781 12.6646 3.99863 13ZM11.9986 16C13.9316 16 15.4986 14.433 15.4986 12.5C15.4986 10.567 13.9316 9 11.9986 9C10.0656 9 8.49863 10.567 8.49863 12.5C8.49863 14.433 10.0656 16 11.9986 16Z",fill:"#949494"}))}const Va=(0,N.__)("Visible in product details","woocommerce"),Ha=(0,N.__)("Custom attribute. Customers canâ€™t filter or search by it to find this product","woocommerce"),Ua=({attribute:e,editLabel:t=(0,N.__)("Edit","woocommerce"),removeLabel:o=(0,N.__)("Remove attribute","woocommerce"),onDragStart:r,onDragEnd:n,onEditClick:a,onRemoveClick:i})=>(0,_.createElement)(f.ListItem,{className:"woocommerce-attribute-list-item",onDragStart:r,onDragEnd:n},(0,_.createElement)("div",null,e.name),(0,_.createElement)("div",null,e.options.slice(0,e.options.length>3?2:3).map((e=>(0,_.createElement)(f.Tag,{key:e,label:e}))),e.options.length>3&&(0,_.createElement)(f.Tag,{label:(0,N.sprintf)((0,N.__)("+ %d more","woocommerce"),e.options.length-2)})),(0,_.createElement)("div",{className:"woocommerce-attribute-list-item__actions"},0===e.id&&(0,_.createElement)(h.Tooltip,{className:"woocommerce-attribute-list-item__actions-tooltip",position:"top center",text:Ha},(0,_.createElement)("div",{className:"woocommerce-attribute-list-item__actions-icon-wrapper"},(0,_.createElement)(Ba,{className:"woocommerce-attribute-list-item__actions-icon-wrapper-icon"}))),e.visible&&(0,_.createElement)(h.Tooltip,{className:"woocommerce-attribute-list-item__actions-tooltip",position:"top center",text:Va},(0,_.createElement)("div",{className:"woocommerce-attribute-list-item__actions-icon-wrapper"},(0,_.createElement)(Fa,{className:"woocommerce-attribute-list-item__actions-icon-wrapper-icon"}))),"function"==typeof a&&(0,_.createElement)(h.Button,{variant:"tertiary",onClick:()=>a(e)},t),"function"==typeof i&&(0,_.createElement)(h.Button,{icon:xt,label:o,onClick:()=>i(e)}))),za=({disabledAttributeMessage:e="",renderItems:t,highlightedIndex:o,getItemProps:r})=>t.length>0?(0,_.createElement)(_.Fragment,null,t.map(((t,n)=>{return(0,_.createElement)(f.__experimentalSelectControlMenuItem,{key:t.id,index:n,isActive:o===n,item:t,getItemProps:e=>({...r(e),disabled:t.isDisabled||void 0}),tooltipText:t.isDisabled?e:(a=t.slug,a&&a.startsWith("pa_")?a.substring(3):"")},-99===t.id?(0,_.createElement)("div",{className:"woocommerce-attribute-input-field__add-new"},(0,_.createElement)(h.Icon,{icon:it,size:20,className:"woocommerce-attribute-input-field__add-new-icon"}),(0,_.createElement)("span",null,(0,N.sprintf)((0,N.__)('Create "%s"',"woocommerce"),t.name))):t.name);var a}))):(0,_.createElement)("div",{className:"woocommerce-attribute-input-field__no-results"},(0,N.__)("Nothing yet. Type to create.","woocommerce")),$a=({value:e=null,onChange:t,placeholder:o,label:r,disabled:n,disabledAttributeIds:i=[],disabledAttributeMessage:c,ignoredAttributeIds:l=[],createNewAttributesAsGlobal:s=!1})=>{const{createErrorNotice:m}=(0,a.useDispatch)("core/notices"),{createProductAttribute:d,invalidateResolution:u}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_ATTRIBUTES_STORE_NAME),{attributes:p,isLoading:g}=(0,a.useSelect)((e=>{const{getProductAttributes:t,hasFinishedResolution:o}=e(x.EXPERIMENTAL_PRODUCT_ATTRIBUTES_STORE_NAME);return{isLoading:!o("getProductAttributes"),attributes:t()}})),w=(0,_.useMemo)((function(){var e;return null!==(e=null==p?void 0:p.map((e=>({...e,isDisabled:i.includes(e.id)}))))&&void 0!==e?e:[]}),[p,i]);return(0,_.createElement)(f.__experimentalSelectControl,{className:"woocommerce-attribute-input-field",items:w||[],label:r||"",disabled:n,getFilteredItems:(e,t)=>{const o=e.filter((e=>(e=>!l.length||!l.includes(e.id))(e)&&(e.name||"").toLowerCase().startsWith(t.toLowerCase())));return t.length>0&&(s||!e.find((e=>e.name.toLowerCase()===t.toLowerCase())))?[...o,{id:-99,name:t}]:o},placeholder:o,getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.id)||"",selected:e,onSelect:e=>{!function(e){return-99===e.id}(e)?t({id:e.id,name:e.name,slug:e.slug,options:[]}):(e=>{(0,U.recordEvent)("product_attribute_add_custom_attribute",{source:V}),s?d({name:e.name,generate_slug:!0}).then((e=>{u("getProductAttributes"),t({...e,options:[]})}),(e=>{let t=(0,N.__)("Failed to create new attribute.","woocommerce");"woocommerce_rest_cannot_create"===e.code&&(t=e.message),m(t,{explicitDismiss:!0})})):t(e.name)})(e)},onRemove:()=>t(),__experimentalOpenMenuOnFocus:!0},(({items:e,highlightedIndex:t,getItemProps:o,getMenuProps:r,isOpen:n})=>(0,_.createElement)(f.__experimentalSelectControlMenu,{getMenuProps:r,isOpen:n},g?(0,_.createElement)(h.Spinner,null):(0,_.createElement)(za,{renderItems:e,highlightedIndex:t,disabledAttributeMessage:c,getItemProps:o}))))},Wa=({title:e=(0,N.__)("Add attributes","woocommerce"),description:t="",notice:o,attributeLabel:r=(0,N.__)("Attribute","woocommerce"),valueLabel:n=(0,N.__)("Values","woocommerce"),attributePlaceholder:i=(0,N.__)("Search or create attribute","woocommerce"),termPlaceholder:c=(0,N.__)("Search or create value","woocommerce"),removeLabel:l=(0,N.__)("Remove attribute","woocommerce"),addAnotherAccessibleLabel:s=(0,N.__)("Add another attribute","woocommerce"),addAnotherLabel:m=(0,N.__)("+ Add another","woocommerce"),cancelLabel:d=(0,N.__)("Cancel","woocommerce"),addAccessibleLabel:u=(0,N.__)("Add attributes","woocommerce"),addLabel:p=(0,N.__)("Add","woocommerce"),onCancel:g,onAdd:w,onAddAnother:v=(()=>{}),onRemoveItem:E=(()=>{}),selectedAttributeIds:b=[],createNewAttributesAsGlobal:y=!1,disabledAttributeIds:C=[],disabledAttributeMessage:k=(0,N.__)("Already used in Attributes","woocommerce"),termsAutoSelection:S,defaultVisibility:T=!1})=>{const P=e=>{return(e=>0!==e.id)(e)?(t=e.terms)?t.map((e=>e.name)):[]:e.options;var t},A=e=>void 0!==e.visible?e.visible:T,I=e=>{setTimeout((()=>{const t=document.querySelector(".woocommerce-new-attribute-modal__table-row-"+e+" .woocommerce-new-attribute-modal__table-attribute-value-column .woocommerce-experimental-select-control__input");t&&t.focus()}),0)};return(0,_.useEffect)((function(){const e=document.querySelector(".woocommerce-new-attribute-modal__table-row .woocommerce-attribute-input-field label"),t=setTimeout((()=>{null==e||e.focus()}),100);return()=>clearTimeout(t)}),[]),(0,_.createElement)(_.Fragment,null,(0,_.createElement)(f.Form,{initialValues:{attributes:[null]}},(({values:f,setValue:N})=>{function T(e){return function(t){S&&t&&"string"!=typeof t?(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({search:"",attribute_id:t.id}).then((o=>{const r=Da(t);"all"===S?r.terms=o:o.length>0&&(r.terms=[o[0]]),N("attributes["+e+"]",{...r}),I(e)})):(N("attributes["+e+"]",t&&Da(t)),t&&I(e))}}return(0,_.createElement)(h.Modal,{title:e,onRequestClose:e=>{e.isPropagationStopped()||g()},className:"woocommerce-new-attribute-modal"},o&&(0,_.createElement)(h.Notice,{isDismissible:!1},(0,_.createElement)("p",null,o)),t&&(0,_.createElement)("p",null,t),(0,_.createElement)("div",{className:"woocommerce-new-attribute-modal__body"},(0,_.createElement)("table",{className:"woocommerce-new-attribute-modal__table"},(0,_.createElement)("thead",null,(0,_.createElement)("tr",{className:"woocommerce-new-attribute-modal__table-header"},(0,_.createElement)("th",null,r),(0,_.createElement)("th",null,n))),(0,_.createElement)("tbody",null,f.attributes.map(((e,t)=>(0,_.createElement)("tr",{key:t,className:`woocommerce-new-attribute-modal__table-row woocommerce-new-attribute-modal__table-row-${t}`},(0,_.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-column"},(0,_.createElement)($a,{placeholder:i,value:e,label:r,onChange:T(t),ignoredAttributeIds:[...b,...f.attributes.map((e=>null==e?void 0:e.id)).filter((e=>void 0!==e))],createNewAttributesAsGlobal:y,disabledAttributeIds:C,disabledAttributeMessage:k})),(0,_.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-value-column"},e&&0===e.id?(0,_.createElement)(Ia,{placeholder:(null==e?void 0:e.options)&&(null==e?void 0:e.options.length)>0?"":c,disabled:!e.name,value:e.options,label:n,onChange:e=>N("attributes["+t+"].options",e)}):(0,_.createElement)(Pa,{placeholder:(null==e?void 0:e.terms)&&(null==e?void 0:e.terms.length)>0?"":c,disabled:!e||!e.id,attributeId:e?e.id:void 0,value:null==e?[]:e.terms,label:n,onChange:e=>N("attributes["+t+"].terms",e)})),(0,_.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-trash-column"},(0,_.createElement)(h.Button,{icon:xt,disabled:1===f.attributes.length&&null===f.attributes[0],label:l,onClick:()=>((e,t,o)=>{E(),t.attributes.length>1?o("attributes",t.attributes.filter(((t,o)=>o!==e))):o(`attributes[${e}]`,[null])})(t,f,N)})))))))),(0,_.createElement)("div",null,(0,_.createElement)(h.Button,{className:"woocommerce-new-attribute-modal__add-attribute",variant:"tertiary",label:s,onClick:()=>{((e,t)=>{var o;t("attributes",[...e.attributes,null]),o=e.attributes.length,setTimeout((()=>{const e=document.querySelector(`.woocommerce-new-attribute-modal__table-row-${o}`);null==e||e.scrollIntoView({behavior:"smooth"})}),0),v()})(f,N)}},m)),(0,_.createElement)("div",{className:"woocommerce-new-attribute-modal__buttons"},(0,_.createElement)(h.Button,{isSecondary:!0,label:d,onClick:()=>g()},d),(0,_.createElement)(h.Button,{isPrimary:!0,label:u,disabled:1===f.attributes.length&&(null===f.attributes[0]||void 0===f.attributes[0]),onClick:()=>(e=>{const t=[];e.attributes.forEach((e=>{var o;null!==(o=e)&&o.name.length>0&&(e=>e.terms&&e.terms.length>0||e.options&&e.options.length>0)(o)&&t.push({...e,visible:A(e),options:P(e)})})),w(t)})(f)},p)))})),(0,_.createElement)(f.__experimentalSelectControlMenuSlot,null))};function Ga({title:e,description:t,onCancel:o,onRemove:r}){const[n,a]=(0,_.useState)(!1);return(0,_.createElement)(h.Modal,{title:e,onRequestClose:e=>{!e.isPropagationStopped()&&o&&o()},className:"woocommerce-remove-confirmation-modal"},(0,_.createElement)("div",{className:"woocommerce-remove-confirmation-modal__content"},t),(0,_.createElement)("div",{className:"woocommerce-remove-confirmation-modal__buttons"},(0,_.createElement)(h.Button,{isDestructive:!0,variant:"primary",isBusy:n,onClick:async function(){try{a(!0),await r()}finally{a(!1)}}},(0,N.__)("Delete","woocommerce")),(0,_.createElement)(h.Button,{variant:"tertiary",onClick:o},(0,N.__)("Cancel","woocommerce"))))}function ja(){return(0,_.createElement)("div",{className:"woocommerce-product-page-attribute-skeleton"},Array(3).fill(0).map(((e,t)=>(0,_.createElement)("div",{key:t,className:"woocommerce-product-page-attribute-skeleton__row"},(0,_.createElement)("div",{className:le()("woocommerce-product-page-attribute-skeleton__item")},(0,_.createElement)("div",{className:le()(`woocommerce-product-page-attribute-skeleton__name${t}`,`woocommerce-product-page-attribute-skeleton__row${t}`)})),(0,_.createElement)("div",{className:"woocommerce-product-page-attribute-skeleton__item"},(0,_.createElement)("div",{className:le()(`woocommerce-product-page-attribute-skeleton__value${t}`,`woocommerce-product-page-attribute-skeleton__row${t}`)})),(0,_.createElement)("div",{className:"woocommerce-product-page-attribute-skeleton__last-item"},(0,_.createElement)("div",{className:le()("woocommerce-product-page-attribute-skeleton__buttons",`woocommerce-product-page-attribute-skeleton__row${t}`)}))))))}const qa=({value:e,onAdd:t=(()=>{}),onAddAnother:o=(()=>{}),onRemoveItem:r=(()=>{}),onChange:n,onEdit:a=(()=>{}),onNewModalCancel:i=(()=>{}),onNewModalClose:c=(()=>{}),onNewModalOpen:l=(()=>{}),onEditModalCancel:s=(()=>{}),onEditModalClose:m=(()=>{}),onEditModalOpen:d=(()=>{}),onRemove:u=(()=>{}),onRemoveCancel:p=(()=>{}),onNoticeDismiss:g=(()=>{}),uiStrings:w,createNewAttributesAsGlobal:v=!1,useRemoveConfirmationModal:E=!1,disabledAttributeIds:b=[],termsAutoSelection:y,defaultVisibility:C=!1})=>{w={newAttributeListItemLabel:(0,N.__)("Add new","woocommerce"),globalAttributeHelperMessage:(0,N.__)("You can change the attribute's name in <link>Attributes</link>.","woocommerce"),attributeRemoveConfirmationMessage:(0,N.__)("Remove this attribute?","woocommerce"),...w};const[k,S]=(0,_.useState)(!1),[T,x]=(0,_.useState)(),[P,A]=(0,_.useState)(null),I=e=>{n(e.map((e=>({...e,options:e.terms?e.terms.map((e=>e.name)):e.options,terms:void 0,visible:e.visible||!1}))))},M=t=>{I(e.filter((e=>La(e)!==La(t)))),u(t),x(null)},R=()=>{S(!1),c()},L=e=>{A(null),m(e)},D=e.sort(((e,t)=>e.position-t.position)),O=e.reduce(((e,t)=>(e[Ra(t)]=t,e)),{}),B=e.find((e=>La(e)===P)),F=(0,se.useViewportMatch)("medium","<");return(0,_.createElement)("div",{className:"woocommerce-attribute-field"},(0,_.createElement)(h.Button,{variant:"secondary",className:"woocommerce-add-attribute-list-item__add-button",onClick:()=>{S(!0),l()}},w.newAttributeListItemLabel),w.notice&&(0,_.createElement)(h.Notice,{isDismissible:!0,status:"warning",className:"woocommerce-attribute-field__notice",onRemove:g},(0,_.createElement)("p",null,w.notice)),Boolean(e.length)&&(0,_.createElement)(f.Sortable,{onOrderChange:e=>{const t=e.reduce(((e,{props:t},o)=>(e[Ra(t.attribute)]=o,e)),{});n(function(e,t){return Object.keys(t).map((o=>isNaN(e[o])?{...t[o]}:{...t[o],position:e[o]}))}(t,O))}},D.map((e=>(0,_.createElement)(Ua,{attribute:e,removeLabel:null==w?void 0:w.attributeRemoveLabel,key:La(e),onEditClick:()=>{return t=e,(0,U.recordEvent)("product_options_edit",{source:V,attribute:t.name}),A(La(t)),void d(t);var t},onRemoveClick:()=>{return t=e,void(E?x(t):window.confirm(null==w?void 0:w.attributeRemoveConfirmationMessage)?M(t):p(t));var t}})))),k&&(0,_.createElement)(Wa,{title:w.newAttributeModalTitle,description:w.newAttributeModalDescription,onCancel:()=>{R(),i()},onAdd:o=>{const r=o.filter((t=>!e.some((e=>La(t)===La(e)))));I([...e,...r]),t(o),R()},onAddAnother:o,onRemoveItem:r,selectedAttributeIds:e.map((e=>e.id)),createNewAttributesAsGlobal:v,disabledAttributeIds:b,disabledAttributeMessage:w.disabledAttributeMessage,termsAutoSelection:y,defaultVisibility:C}),(0,_.createElement)(f.__experimentalSelectControlMenuSlot,null),B&&(0,_.createElement)(Oa,{title:(0,N.sprintf)((0,N.__)("Edit %s","woocommerce"),B.name),customAttributeHelperMessage:w.customAttributeHelperMessage,globalAttributeHelperMessage:w.globalAttributeHelperMessage?(0,_.createInterpolateElement)(w.globalAttributeHelperMessage,{link:(0,_.createElement)(f.Link,{href:(0,hr.getAdminLink)("edit.php?post_type=product&page=product_attributes"),target:"_blank",type:"wp-admin"},(0,_.createElement)(_.Fragment,null))}):void 0,onCancel:()=>{L(B),s(B)},onEdit:t=>{(t=>{var o;(0,U.recordEvent)("product_options_update",{source:V,attribute:t.name,values:null===(o=t.terms)||void 0===o?void 0:o.map((e=>e.name)),default:t.isDefault,visible:t.visible,filter:!0});const r=e.map((e=>La(e)===La(t)?t:e));a(t),I(r),L(t)})(t)},attribute:B,attributes:e}),T&&(0,_.createElement)(Ga,{title:(0,N.sprintf)((0,N.__)("Delete %(attributeName)s","woocommerce"),{attributeName:T.name}),description:(0,_.createElement)("p",null,w.attributeRemoveConfirmationModalMessage),onRemove:()=>M(T),onCancel:()=>{p(T),x(null)}}),!F&&0===e.length&&(0,_.createElement)(ja,null))},Za=(e,t)=>e.reduce(((e,o)=>(e[t(o)?0:1].push(o),e)),[[],[]]),Ja=(e,t)=>t?e.filter((e=>!!e.variation)):e.filter((e=>!e.variation));function Xa({allAttributes:e=[],isVariationAttributes:t=!1,onChange:o,productId:r}){const[n,i]=(0,_.useState)(Ja(e,t)),c=(0,_.useCallback)((e=>(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({attribute_id:e}).then((e=>e),(e=>e))),[r]),l=(e,t,o)=>e.map((({isDefault:e,terms:r,...n},a)=>({...n,variation:t,position:o+a})));return(0,_.useEffect)((()=>{const[o,r]=Za(Ja(e,t),(e=>0===e.id));Promise.all(r.map((e=>c(e.id)))).then((e=>{i([...r.map(((t,o)=>{return r=t,n=e[o],{...r,terms:(n||[]).filter((e=>r.options.includes(e.name)))};var r,n})),...o])}))}),[e,t,c]),{attributes:n,handleChange:r=>{const n=r.reduce(((e,t)=>void 0===t.isDefault||!0===t.isDefault?[...e,{id:t.id,name:t.name,option:t.options[0]}]:e),[]);let a=t?e.filter((e=>!e.variation)):e.filter((e=>!!e.variation));a=a.filter((e=>!(e.id>0&&r.some((t=>t.id===e.id))||0===e.id&&r.some((t=>t.name.toLowerCase()===e.name.toLowerCase())))));const i=l(r,t,t?a.length:0),c=l(a,!t,t?0:r.length);o(t?[...c,...i]:[...i,...c],n)},setAttributes:i}}const Ya=({value:e,onChange:t,productId:o})=>{const{attributes:r,handleChange:n}=Xa({allAttributes:e,onChange:t,productId:o});return(0,_.createElement)(qa,{value:r,disabledAttributeIds:e.filter((e=>!!e.variation)).map((e=>e.id)),uiStrings:{disabledAttributeMessage:(0,N.__)("Already used in Variations","woocommerce")},onAdd:()=>{(0,U.recordEvent)("product_add_attributes_modal_add_button_click")},onChange:n,onNewModalCancel:()=>{(0,U.recordEvent)("product_add_attributes_modal_cancel_button_click")},onNewModalOpen:()=>{r.length?(0,U.recordEvent)("product_add_attribute_button"):(0,U.recordEvent)("product_add_first_attribute_button_click")},onAddAnother:()=>{(0,U.recordEvent)("product_add_attributes_modal_add_another_attribute_button_click")},onRemoveItem:()=>{(0,U.recordEvent)("product_add_attributes_modal_remove_attribute_button_click")},onRemove:()=>(0,U.recordEvent)("product_remove_attribute_confirmation_confirm_click"),onRemoveCancel:()=>(0,U.recordEvent)("product_remove_attribute_confirmation_cancel_click"),termsAutoSelection:"first",defaultVisibility:!0})},{name:Ka}=Na,Qa={example:{},edit:function({attributes:e}){const[t,o]=(0,ne.useEntityProp)("postType","product","attributes"),r=(0,ne.useEntityId)("postType","product"),n=(0,Ht.useWooBlockProps)(e);return(0,_.createElement)("div",{...n},(0,_.createElement)(Ya,{productId:r,value:t,onChange:o}))}},ei=()=>zt({name:Ka,metadata:Na,settings:Qa}),ti=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-variations-fields","title":"Product variations fields","category":"woocommerce","description":"The product variations.","keywords":["products","variations"],"textdomain":"default","attributes":{"description":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}');function oi(e){const t=(0,se.useInstanceId)(h.G,"clip");return(0,_.createElement)(h.SVG,{width:"264",height:"167",...e,viewBox:"0 0 264 167",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)(h.G,{clipPath:`url(#${t})`},(0,_.createElement)(h.Path,{d:"M38.5556 0.164185C11.3783 0.164185 -3.89877 21.4091 1.5234 37.3916C7.43365 54.8517 25.6968 71.9169 25.6968 85.7696H51.4188C51.4188 71.908 69.6821 54.8517 75.5923 37.3916C81.0145 21.4091 65.7463 0.164185 38.5556 0.164185Z",fill:"#F0F0F0"}),(0,_.createElement)(h.Path,{d:"M50.5063 48.3114C44.2189 48.3114 40.5228 52.5755 40.5228 59.1735V59.9899C40.079 59.9899 39.6176 59.9899 39.1827 59.9944H38.3486C37.7141 59.9944 37.3325 59.9944 36.5915 59.9944V59.1779C36.5915 52.5755 32.8953 48.3114 26.6124 48.3114C21.0127 48.3114 17.8047 50.4812 17.8047 54.2616C17.8047 57.0969 20.4936 59.0137 25.7915 59.9589C29.0306 60.5357 32.1721 60.6777 35.2781 60.7087V85.7652H36.6003V60.7176C37.3413 60.722 37.7185 60.722 38.3574 60.7176C38.9919 60.7176 39.7906 60.7176 40.5316 60.7176V85.7652H41.8539V60.7132C44.9554 60.6777 48.0969 60.5401 51.3405 59.9633C56.6384 59.0182 59.3273 57.1013 59.3273 54.266C59.3273 50.4856 56.1192 48.3158 50.5196 48.3158L50.5063 48.3114ZM35.2781 59.9855C32.2032 59.95 29.106 59.8124 25.9202 59.2445C21.0172 58.3704 19.6905 56.2938 19.6905 54.1329C19.6905 50.2682 23.5996 49.0347 26.6124 49.0347C32.2342 49.0347 35.2781 53.0148 35.2781 59.169V59.981V59.9855ZM51.1985 59.2445C48.0126 59.8124 44.9155 59.9544 41.845 59.9855V59.1735C41.845 53.0148 44.8889 49.0391 50.5107 49.0391C53.528 49.0391 57.4326 50.2726 57.4326 54.1373C57.4326 56.2982 56.1015 58.3704 51.2029 59.2489L51.1985 59.2445Z",fill:"white"}),(0,_.createElement)(h.Path,{d:"M38.5585 101.872C45.5248 101.872 51.4173 96.1613 51.4173 89.834H25.6953C25.6953 96.1613 31.5923 101.872 38.5585 101.872Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M57.2858 89.9271H19.832V85.7695H57.2858V89.9271Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M69.5768 106.602H7.63895L0.4375 167L15.2974 151.328H64.2566L69.5768 106.602Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M119.436 122.749C113.97 115.072 110.828 111.394 104.652 111.394C97.8809 111.394 94.908 119.061 98.9724 123.853C103.445 129.125 118.993 134.627 118.993 134.627C118.993 134.627 94.0694 129.923 84.9112 129.923C79.8573 129.923 74.6836 131.96 74.6836 139.135C74.6836 146.31 79.8617 148.346 84.9112 148.346C94.0694 148.346 118.993 143.643 118.993 143.643C118.993 143.643 103.445 149.145 98.9724 154.416C94.908 159.208 97.8764 166.876 104.652 166.876C110.828 166.876 113.97 163.197 119.436 155.521C121.287 152.921 130.707 139.135 130.707 139.135C130.707 139.135 121.287 125.349 119.436 122.749Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M94.2838 102.671L169.715 102.671V80.4849L94.2838 80.4849V102.671Z",fill:"#F0F0F0"}),(0,_.createElement)(h.Path,{d:"M169.712 0H94.2812V75.4311H169.712V0Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M147.619 49.6336C147.619 44.4156 144.429 39.4194 138.168 36.0116H157.66L139.472 6.00781H124.524L106.336 36.0116H125.828C119.567 39.4194 116.377 44.4156 116.377 49.6336C116.377 55.5394 121.005 61.4985 127.106 64.6888C118.667 62.9849 117.344 69.4232 117.344 69.4232H146.661C146.661 69.4232 145.338 62.9849 136.899 64.6888C143 61.4985 147.628 55.5394 147.628 49.6336H147.619Z",fill:"white"}),(0,_.createElement)(h.Path,{d:"M147.86 80.7911H94.2812V85.2283H147.86V80.7911Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M169.712 89.8473H94.2812V94.2844H169.712V89.8473Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M136.82 98.9034H94.2812V103.341H136.82V98.9034Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M219.52 167C229.042 167 235.063 158.538 235.063 151.457H203.977C203.977 158.538 209.998 167 219.52 167Z",fill:"#DDDDDD"}),(0,_.createElement)(h.Path,{d:"M219.516 58.2018C185.027 58.2018 168.143 86.1557 178.522 110.613C185.541 127.141 202.225 125.264 202.225 138.505H236.826C236.826 125.264 253.514 127.141 260.529 110.613C270.903 86.1557 254.006 58.2018 219.516 58.2018Z",fill:"#F0F0F0"}),(0,_.createElement)(h.Path,{d:"M219.52 167C228.9 167 234.882 158.787 235.059 151.776C235.059 151.67 235.059 142.707 235.059 142.6H203.973C203.973 142.685 203.973 151.63 203.973 151.719C204.115 158.742 210.105 167.004 219.511 167.004L219.52 167Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M240.248 142.596H198.801V138.505H240.248V142.596Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M240.248 149.074H198.801V144.983H240.248V149.074Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M169.656 125.371H142.133V152.894H169.656V125.371Z",fill:"#F0F0F0"}),(0,_.createElement)(h.Path,{d:"M155.015 146.194L162.181 139.587L147.445 139.663V138.571L162.154 138.647L155.015 132.067L155.676 131.228L163.982 139.055V139.184L155.676 147.033L155.015 146.194Z",fill:"#DDDDDD"}),(0,_.createElement)(h.Path,{d:"M22.0977 126.533L27.44 141.921L53.5835 112.729",stroke:"white",strokeMiterlimit:"10"}),(0,_.createElement)(h.Path,{d:"M232.227 110.138C232.227 102.307 227.559 97.4392 220.042 97.4126C220.042 97.4126 220.025 97.4126 220.016 97.4126C220.007 97.4126 219.998 97.4126 219.989 97.4126C212.473 97.4392 207.805 102.928 207.805 110.138C207.805 117.349 212.22 120.774 218.516 125.287C214.704 128.858 212.663 134.516 212.663 138.505H215.867C215.867 134.809 216.572 129.56 220.016 126.462C223.463 129.56 224.164 134.809 224.164 138.505H227.368C227.368 134.516 225.322 128.858 221.515 125.287C227.812 120.778 232.227 116.958 232.227 110.138ZM220.016 124.435C213.773 119.989 209.242 117.158 209.242 110.138C209.242 103.119 213.546 98.7216 220.016 98.7082C226.485 98.7216 230.789 103.354 230.789 110.138C230.789 116.222 226.259 119.989 220.016 124.435Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M250.84 40.1516C250.84 45.9864 246.155 50.7297 240.342 50.8184H199.862C193.97 50.8184 189.195 46.0441 189.195 40.1516C189.195 34.2591 193.97 29.4847 199.862 29.4847H240.36C246.164 29.4847 250.84 34.3256 250.84 40.1516Z",fill:"#F0F0F0"}),(0,_.createElement)(h.Path,{d:"M240.122 47.7347C244.31 47.7347 247.705 44.3396 247.705 40.1516C247.705 35.9636 244.31 32.5686 240.122 32.5686C235.934 32.5686 232.539 35.9636 232.539 40.1516C232.539 44.3396 235.934 47.7347 240.122 47.7347Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M131.996 6.00781H124.524L106.332 36.0116H125.824H138.168H157.661L139.468 6.00781H131.996Z",fill:"#F0F0F0"}),(0,_.createElement)(h.Path,{d:"M151.608 26.0281H112.384L106.332 36.0116L151.608 26.0281Z",fill:"white"}),(0,_.createElement)(h.Path,{d:"M145.555 16.0446H118.435L112.383 26.0281L145.555 16.0446Z",fill:"white"}),(0,_.createElement)(h.Path,{d:"M139.469 6.00781H124.525L118.438 16.0446L139.469 6.00781Z",fill:"white"}),(0,_.createElement)(h.Path,{d:"M57.4297 42.9647H87.8994",stroke:"#DDDDDD",strokeWidth:"0.71",strokeMiterlimit:"10"}),(0,_.createElement)(h.Path,{d:"M61.8945 32.1914L83.4412 53.7381",stroke:"#DDDDDD",strokeWidth:"0.71",strokeMiterlimit:"10"}),(0,_.createElement)(h.Path,{d:"M72.668 27.7321V58.2018",stroke:"#DDDDDD",strokeWidth:"0.71",strokeMiterlimit:"10"})),(0,_.createElement)("defs",null,(0,_.createElement)("clipPath",{id:t},(0,_.createElement)(h.Rect,{width:"263.121",height:"167",fill:"white",transform:"translate(0.4375)"}))))}function ri(){const[e]=(0,ne.useEntityProp)("postType","product","id"),[t,o]=(0,_.useState)(!1),{isGeneratingVariations:r,generateError:n}=(0,a.useSelect)((t=>{const{isGeneratingVariations:o,generateProductVariationsError:r}=t(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return{isGeneratingVariations:o({product_id:e}),generateError:r({product_id:e})}}),[e]),i=(0,_.useMemo)((()=>t||Boolean(r)),[t,r]);return{generateProductVariations:(0,_.useCallback)((async function(t,r){o(!0);const{status:n,variations:i}=await(0,a.resolveSelect)("core").getEditedEntityRecord("postType","product",e),c=t.some((e=>e.variation)),l=await async function(e){var t,o;try{const{attributes:r}=await(0,a.resolveSelect)("core").getEntityRecord("postType","product",e);if(!r.some((e=>e.variation)))return{};const n=await(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME).getProductVariations({product_id:e,per_page:1,has_price:!0});return n&&n.length>0&&n[0].regular_price?{regular_price:n[0].regular_price,stock_quantity:null!==(t=n[0].stock_quantity)&&void 0!==t?t:void 0,stock_status:n[0].stock_status,manage_stock:n[0].manage_stock,low_stock_amount:null!==(o=n[0].low_stock_amount)&&void 0!==o?o:void 0}:{}}catch{return{}}}(e);return await Promise.all(i.map((e=>(0,a.dispatch)("core").invalidateResolution("getEntityRecord",["postType","product_variation",e])))),await(0,a.dispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME).invalidateResolutionForStore(),(0,a.dispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME).generateProductVariations({product_id:e},{type:c?"variable":"simple",attributes:t,default_attributes:r},{delete:!0,default_values:l}).then((async t=>(await(0,a.dispatch)("core").invalidateResolution("getEntityRecord",["postType","product",e]),await(0,a.resolveSelect)("core").getEntityRecord("postType","product",e),await(0,a.dispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME).invalidateResolutionForStore(),t))).finally((()=>{if(o(!1),"auto-draft"===n&&(0,Ie.getPath)().endsWith("add-product")){const t=(0,Ie.getNewPath)({},`/product/${e}`);(0,Ie.navigateTo)({url:t})}}))}),[]),isGenerating:i,generateError:n}}const ni=e=>!(!Array.isArray(e)||!e.length)&&e.some((({variation:e})=>e)),{name:ai,...ii}=ti,ci={example:{},edit:function({attributes:e}){const{description:t}=e,{generateProductVariations:o}=ri(),[r,n]=(0,_.useState)(!1),[a,i]=(0,ne.useEntityProp)("postType","product","attributes"),[,c]=(0,ne.useEntityProp)("postType","product","default_attributes"),{attributes:l,handleChange:s}=Xa({allAttributes:a,isVariationAttributes:!0,productId:(0,ne.useEntityId)("postType","product"),onChange(e,t){i(e),c(t),o(e,t)}}),m=ni(a),d=(0,Ht.useWooBlockProps)(e,{className:le()({"wp-block-woocommerce-product-variations-fields--has-attributes":m})}),u=(0,Ye.useInnerBlocksProps)({className:"wp-block-woocommerce-product-variations-fields__content"},{templateLock:"all"}),p=()=>{n(!1)};return(0,_.createElement)("div",{...d},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-variations-fields__heading"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-variations-fields__heading-image-container"},(0,_.createElement)(oi,null)),(0,_.createElement)("p",{className:"wp-block-woocommerce-product-variations-fields__heading-description",dangerouslySetInnerHTML:Qt(t)}),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-variations-fields__heading-actions"},(0,_.createElement)(h.Button,{variant:"primary",onClick:()=>{n(!0),(0,U.recordEvent)("product_options_add_first_option")}},(0,N.__)("Add variation options","woocommerce")))),(0,_.createElement)("div",{...u}),r&&(0,_.createElement)(Wa,{title:(0,N.__)("Add variation options","woocommerce"),description:(0,N.__)("Select from existing attributes or create new ones to add new variations for your product. You can change the order later.","woocommerce"),createNewAttributesAsGlobal:!0,notice:"",onCancel:()=>{(0,U.recordEvent)("product_options_modal_cancel_button_click"),p()},onAdd:e=>{const t=e.filter((e=>!l.some((t=>La(e)===La(t)))));(0,U.recordEvent)("product_options_add",{source:V,options:t.map((e=>({attribute:e.name,values:e.options})))}),s(t),p()},onAddAnother:()=>{(0,U.recordEvent)("product_add_options_modal_add_another_option_button_click")},onRemoveItem:()=>{(0,U.recordEvent)("product_add_options_modal_remove_option_button_click")},selectedAttributeIds:l.map((e=>e.id)),disabledAttributeIds:a.filter((e=>!e.variation)).map((e=>e.id)),termsAutoSelection:"all"}))}};function li(){return zt({name:ai,metadata:ii,settings:ci})}const si=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-password-field","description":"A checkbox and an input to type a password to view a product.","title":"Product password","category":"widgets","keywords":["products","password"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),{name:mi,...di}=si,ui={edit:function({attributes:e}){const t=(0,Ht.useWooBlockProps)(e),{label:o}=e,[r,n]=(0,ne.useEntityProp)("postType","product","post_password"),[a,i]=(0,_.useState)(Boolean(r)),c=(0,se.useInstanceId)(h.BaseControl,"post_password");return(0,_.createElement)("div",{...t},(0,_.createElement)(h.CheckboxControl,{label:o,checked:a,className:"wp-block-woocommerce-product-password-fields__field",onChange:e=>{i(e),e||n("")}}),a&&(0,_.createElement)(h.BaseControl,{id:c,label:(0,N.__)("Password","woocommerce")},(0,_.createElement)(h.__experimentalInputControl,{id:c,value:r,onChange:n})))}};function pi(){return zt({name:mi,metadata:di,settings:ui})}const _i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-list-field","title":"Product list","category":"widgets","description":"The product list.","keywords":["products"],"textdomain":"default","attributes":{"property":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');function fi(e){return e.images.length>0?{backgroundImage:`url(${e.images[0].src})`}:void 0}function gi({initialValue:e,onSubmit:t,onClose:o}){const[r,n]=(0,_.useState)([]),[i,c]=(0,_.useState)([]),l=(0,_.useCallback)((async(t="")=>(n([]),(0,a.resolveSelect)(x.PRODUCTS_STORE_NAME).getProducts({search:t,orderby:"title",order:"asc",exclude:[...e,...i].map((e=>e.id))}).then((e=>(n(e),e))))),[i]),{isFetching:s,...m}=(0,f.useAsyncFilter)({filter:l});(0,v.useEffect)((function(){l()}),[e,i]);const{formatAmount:d}=(0,_.useContext)(W.CurrencyContext);return(0,_.createElement)(h.Modal,{title:(0,N.__)("Add products to this group","woocommerce"),className:"woocommerce-add-products-modal",onRequestClose:o},(0,_.createElement)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),t([...i])},className:"woocommerce-add-products-modal__form"},(0,_.createElement)("fieldset",{className:"woocommerce-add-products-modal__form-group"},(0,_.createElement)("legend",{className:"woocommerce-add-products-modal__form-group-title"},(0,N.__)("Add and manage products in this group to let customers purchase them all in one go.","woocommerce")),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__form-group-content"},(0,_.createElement)(f.__experimentalSelectControl,{...m,items:r,placeholder:(0,N.__)("Search for products","woocommerce"),label:"",selected:null,onSelect:function(e){c((t=>[...t,e]))},__experimentalOpenMenuOnFocus:!0},(({items:e,isOpen:t,highlightedIndex:o,getMenuProps:r,getItemProps:n})=>(0,_.createElement)(f.__experimentalSelectControlMenu,{isOpen:t,getMenuProps:r,className:"woocommerce-add-products-modal__menu"},s?(0,_.createElement)("div",{className:"woocommerce-add-products-modal__menu-loading"},(0,_.createElement)(h.Spinner,null)):e.map(((e,t)=>(0,_.createElement)(f.__experimentalSelectControlMenuItem,{key:e.id,index:t,isActive:o===t,item:e,getItemProps:e=>({...n(e),className:"woocommerce-add-products-modal__menu-item"})},(0,_.createElement)(_.Fragment,null,(0,_.createElement)("div",{className:"woocommerce-add-products-modal__menu-item-image",style:fi(e)}),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__menu-item-content"},(0,_.createElement)("div",{className:"woocommerce-add-products-modal__menu-item-title"},e.name),Boolean(e.price)&&(0,_.createElement)("div",{className:"woocommerce-add-products-modal__menu-item-description"},d(e.price))))))))))),Boolean(i.length)&&(0,_.createElement)("ul",{className:"woocommerce-add-products-modal__list"},i.map((e=>{return(0,_.createElement)("li",{key:e.id,className:"woocommerce-add-products-modal__list-item"},(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-image",style:fi(e)}),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-content"},(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-title"},e.name),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-description"},e.sku)),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-actions"},(0,_.createElement)(h.Button,{type:"button",variant:"tertiary",icon:xt,"aria-label":(0,N.__)("Remove product","woocommerce"),onClick:(t=e,function(){c((e=>e.filter((e=>e.id!==t.id))))})})));var t})))),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__actions"},(0,_.createElement)(h.Button,{variant:"tertiary",type:"button",onClick:function(){o()}},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{variant:"primary",type:"submit"},(0,N.__)("Add","woocommerce")))))}const hi=(0,_.createElement)(de.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"}));function wi({products:e,onSubmit:t,onClose:o}){const[r,n]=(0,_.useState)([...e]),{container:a,draggable:i,handler:c}=function({onSort:e}){const t=(0,_.useRef)(-1),o=(0,_.useRef)(-1),r=(0,_.useRef)([]);function n(e){var t;null===(t=e.target.closest("[data-draggable=parent] [data-draggable=target]"))||void 0===t||t.removeAttribute("draggable")}return{container:{"data-draggable":"parent",className:"woocommerce-draggable__container"},draggable:{"data-draggable":"target",onDragStart:function(e){var o,n;const a=e.target;if("target"!==a.dataset.draggable)return void e.preventDefault();e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",a.classList.add("is-dragging");const i=a.closest("[data-draggable=parent]");r.current=Array.from(null!==(n=null===(o=null==i?void 0:i.querySelectorAll("[data-draggable=target]"))||void 0===o?void 0:o.values())&&void 0!==n?n:[]),t.current=r.current.indexOf(a)},onDragEnter:function(e){const n=e.target,a=e.relatedTarget;if("target"!==n.dataset.draggable||n.contains(a))return void e.preventDefault();const{draggable:i,index:c}=function(e,t){const o=e.findIndex((e=>e===t||e.contains(t)));return{draggable:o>=0?e[o]:void 0,index:o}}(r.current,n);o.current=c,t.current!==o.current&&(t.current<o.current?null==i||i.classList.add("is-dragging-after"):null==i||i.classList.add("is-dragging-before"))},onDragOver:function(e){return e.preventDefault(),!1},onDragLeave:function(e){const t=e.target,o=e.relatedTarget;"target"!==t.dataset.draggable||t.contains(o)?e.preventDefault():(t.classList.remove("is-dragging-before"),t.classList.remove("is-dragging-after"))},onDragEnd:function(e){const t=e.target;"target"===t.dataset.draggable?t.classList.remove("is-dragging"):e.preventDefault()},onDrop:function(r){r.preventDefault();const n=r.target,a="target"===n.dataset.draggable?n:n.closest("[data-draggable=parent] [data-draggable=target]");if(null==a||a.removeAttribute("draggable"),null==a||a.classList.remove("is-dragging-before"),null==a||a.classList.remove("is-dragging-after"),-1!==t.current&&-1!==o.current&&t.current!==o.current){const r=t.current,n=o.current;e((e=>function(e,t,o){const r=e[t],n=e.reduce(((e,n,a)=>(a!==t&&(a===o&&e.push(r),e.push(n)),e)),[]);return o>=e.length&&n.push(r),n}(e,r,n+Number(r<n))))}t.current=-1,o.current=-1}},handler:{"data-draggable":"handler",onMouseDown:function(e){var t;null===(t=e.target.closest("[data-draggable=parent] [data-draggable=target]"))||void 0===t||t.setAttribute("draggable","true")},onMouseUp:n,onMouseLeave:n}}}({onSort:n});return(0,_.createElement)(h.Modal,{title:(0,N.__)("Reorder products in this group","woocommerce"),className:"woocommerce-reorder-products-modal",onRequestClose:o},(0,_.createElement)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),t([...r])},className:"woocommerce-add-products-modal__form"},(0,_.createElement)("fieldset",{className:"woocommerce-add-products-modal__form-group"},(0,_.createElement)("legend",{className:"woocommerce-add-products-modal__form-group-title"},(0,N.__)("Click and drag to reorder on the product page.","woocommerce")),Boolean(r.length)&&(0,_.createElement)("ul",{...a,className:le()("woocommerce-add-products-modal__list",a.className)},r.map((e=>(0,_.createElement)("li",{...i,key:e.id,className:"woocommerce-add-products-modal__list-item"},(0,_.createElement)(h.Button,{...c,icon:hi,variant:"tertiary",type:"button","aria-label":(0,N.__)("Sortable handler","woocommerce")}),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-image",style:fi(e)}),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-content"},(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-title"},e.name),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__list-item-description"},e.sku))))))),(0,_.createElement)("div",{className:"woocommerce-add-products-modal__actions"},(0,_.createElement)(h.Button,{variant:"tertiary",type:"button",onClick:function(){o()}},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{variant:"primary",type:"submit"},(0,N.__)("Done","woocommerce")))))}function vi(){return(0,_.createElement)("svg",{width:"68",height:"56",viewBox:"0 0 68 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{d:"M43.0926 0.333984C41.0526 1.54732 37.5593 2.46732 34.2526 2.46732C30.946 2.46732 27.4526 1.54732 25.4126 0.333984L22.2793 10.5207H46.2126L43.106 0.333984H43.0926Z",fill:"#E0E0E0"}),(0,_.createElement)("path",{d:"M43.0927 0.333984C43.0927 4.09398 40.306 8.80065 34.2527 8.80065C28.1994 8.80065 25.4127 4.08065 25.4127 0.333984C15.546 0.333984 3.81268 7.45398 0.666016 10.6006L9.73269 24.7606L14.986 23.414L15.066 55.5606H53.4394L53.5194 23.414L58.7727 24.7606L67.8394 10.6006C64.6927 7.45398 52.9594 0.333984 43.0927 0.333984Z",fill:"#F0F0F0"}))}function Ei(){const e=(0,se.useInstanceId)(Ei,"pants");return(0,_.createElement)("svg",{width:"50",height:"72",viewBox:"0 0 50 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("g",{clipPath:`url(#${e})`},(0,_.createElement)("path",{d:"M44.6084 21.3845C40.788 21.6427 35.5059 20.8456 35.1404 16.333C34.8746 13.0889 34.5867 9.04771 34.3431 5.7811H42.9474L42.3273 0H8.34205L7.72192 5.7811H16.3262C16.0826 9.04771 15.8057 13.0889 15.5289 16.333C15.1635 20.8456 9.87022 21.6314 6.06086 21.3845L0.667969 72H14.0007C14.0007 72 21.7745 32.0711 22.904 26.0318C23.4909 22.9111 24.3989 22.2264 25.3291 22.2264C26.2593 22.2264 27.1673 22.9224 27.7543 26.0318C28.8948 32.0599 36.6575 72 36.6575 72H49.9903L44.5974 21.3845H44.6084Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M15.5383 16.3332C15.8041 13.089 16.092 9.04785 16.3356 5.78125H7.73137L6.07031 21.3846C9.89074 21.6428 15.1729 20.8458 15.5383 16.3332Z",fill:"#DDDDDD"}),(0,_.createElement)("path",{d:"M35.1293 16.3332C35.4948 20.8458 40.788 21.6316 44.5974 21.3846L42.9363 5.78125H34.332C34.5757 9.04785 34.8525 13.089 35.1293 16.3332Z",fill:"#DDDDDD"})),(0,_.createElement)("defs",null,(0,_.createElement)("clipPath",{id:e},(0,_.createElement)("rect",{width:"49.3334",height:"72",fill:"white",transform:"translate(0.667969)"}))))}function bi(){return(0,_.createElement)("svg",{width:"72",height:"33",viewBox:"0 0 72 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)("path",{d:"M1.82318 26.2927C2.40837 25.6395 12.1796 15.8683 13.4588 14.6027C14.6156 13.4596 16.0853 12.9696 17.8409 12.8336C19.2426 12.7383 65.159 9.36328 65.159 9.36328L65.9075 12.9016C65.9075 12.9016 17.3782 17.7736 17.3509 17.7736C13.5132 22.8633 8.01523 30.7156 7.49809 31.3008C6.10999 32.8658 3.71482 33.0019 2.13618 31.6274C0.598377 30.2257 0.448677 27.8306 1.83679 26.2655L1.82318 26.2927Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M70.4378 26.2927C69.8526 25.6395 60.0815 15.8683 58.8022 14.6027C57.6455 13.4596 56.1757 12.9696 54.4202 12.8336C53.0184 12.7383 7.10201 9.36328 7.10201 9.36328L6.35352 12.9016C6.35352 12.9016 54.8829 17.7736 54.9101 17.7736C58.7478 22.8633 64.2458 30.7156 64.7629 31.3008C66.151 32.8658 68.5462 33.0019 70.1248 31.6274C71.6626 30.2257 71.8123 27.8306 70.4242 26.2655L70.4378 26.2927Z",fill:"#F0F0F0"}),(0,_.createElement)("path",{d:"M53.3189 0C46.4328 0 41.6016 2.5993 38.4715 8.70969C38.1449 8.4103 37.1379 8.01564 36.1172 8.01564C35.0965 8.01564 34.1031 8.42391 33.7629 8.70969C30.6328 2.5993 25.8017 0 18.9156 0C12.0295 0 4.49012 4.53176 0.666016 6.38257V11.9078H4.77591C5.34748 15.4461 8.61362 25.68 19.0244 25.68C28.1288 25.68 30.9322 19.2838 32.9736 15.378C33.6812 14.0172 34.5658 12.0711 36.1172 12.0711C37.6686 12.0711 38.5532 14.0172 39.2609 15.378C41.2886 19.2838 44.092 25.68 53.21 25.68C63.6208 25.68 66.8869 15.4597 67.4585 11.9078H71.5684V6.38257C67.7443 4.54537 60.3683 0 53.3189 0ZM19.0517 22.3186C12.9277 22.3186 8.83136 16.9022 8.83136 11.4723C8.83136 5.53882 14.1797 3.2117 19.1605 3.2117C24.1414 3.2117 29.8027 5.811 29.8027 11.0912C29.8027 17.1336 25.3662 22.305 19.0517 22.305V22.3186ZM53.21 22.3186C46.9091 22.3186 42.459 17.1472 42.459 11.1049C42.459 5.83822 48.1066 3.22531 53.1011 3.22531C58.0956 3.22531 63.4303 5.55243 63.4303 11.4859C63.4303 16.9159 59.3204 22.3322 53.21 22.3322V22.3186Z",fill:"#E0E0E0"}))}var yi,Ci;!function(e){e.instock="instock",e.onbackorder="onbackorder",e.outofstock="outofstock"}(yi||(yi={})),function(e){e.instock="green",e.onbackorder="yellow",e.outofstock="red"}(Ci||(Ci={}));const ki={[yi.instock]:(0,N.__)("In stock","woocommerce"),[yi.onbackorder]:(0,N.__)("On backorder","woocommerce"),[yi.outofstock]:(0,N.__)("Out of stock","woocommerce")},Si=e=>e.manage_stock?e.stock_quantity||0:e.stock_status?ki[e.stock_status]:ki.instock,Ni=e=>{if(e.manage_stock){const t=e.stock_quantity||0;return t>=10?Ci.instock:t<10&&t>2?Ci.onbackorder:Ci.outofstock}return e.stock_status?Ci[e.stock_status]:""},{name:Ti,...xi}=_i,Pi={example:{},edit:function({attributes:e,context:{postType:t},clientId:o}){const{property:r}=e,n=(0,Ht.useWooBlockProps)(e),[i,c]=(0,_.useState)(!1),[l,s]=(0,_.useState)(!1),[m,d]=(0,_.useState)(!1),[u,p]=(0,_.useState)(!1),[f,g]=(0,ne.useEntityProp)("postType",t,r),[w,v]=(0,_.useState)([]),{formatAmount:E}=(0,_.useContext)(W.CurrencyContext);function b(e){return function(){const t=w.filter((t=>t.id!==e.id));p(!0),v(t),g(t.map((e=>e.id)))}}return(0,_.useEffect)((function(){u||(f.length?(d(!1),(0,a.resolveSelect)(x.PRODUCTS_STORE_NAME).getProducts({include:f,orderby:"include"}).then(v).finally((()=>d(!1)))):v([]))}),[f,u]),(0,_.createElement)("div",{...n},(0,_.createElement)(vn,{name:"section-actions",clientId:o,slotContainerBlockName:"woocommerce/product-section"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__header"},!m&&w.length>0&&(0,_.createElement)(h.Button,{onClick:function(){s(!0)},variant:"tertiary"},(0,N.__)("Reorder","woocommerce")),(0,_.createElement)(h.Button,{onClick:function(){c(!0)},variant:"secondary"},(0,N.__)("Add products","woocommerce")))),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__body"},!m&&0===w.length&&(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__empty-state"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__empty-state-illustration",role:"presentation"},(0,_.createElement)(vi,null),(0,_.createElement)(Ei,null),(0,_.createElement)(bi,null)),(0,_.createElement)("p",{className:"wp-block-woocommerce-product-list-field__empty-state-tip"},(0,N.__)("Tip: Group together items that have a clear relationship or compliment each other well, e.g., garment bundles, camera kits, or skincare product sets.","woocommerce"))),!m&&w.length>0&&(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table",role:"table"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-header"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-row",role:"rowheader"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-header-column",role:"columnheader"},(0,N.__)("Product","woocommerce")),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-header-column",role:"columnheader"},(0,N.__)("Price","woocommerce")),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-header-column",role:"columnheader"},(0,N.__)("Stock","woocommerce")),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-header-column",role:"columnheader"}))),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-body",role:"rowgroup"},w.map((e=>(0,_.createElement)("div",{key:e.id,className:"wp-block-woocommerce-product-list-field__table-row",role:"row"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-cell",role:"cell"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__product-image",style:fi(e)}),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__product-info"},(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__product-name"},(0,_.createElement)(h.Button,{variant:"link",href:(0,Ie.getNewPath)({},`/product/${e.id}`),target:"_blank"},e.name)),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__product-sku"},e.sku))),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-cell",role:"cell"},e.on_sale&&(0,_.createElement)("span",null,e.sale_price?E(e.sale_price):E(e.price)),e.regular_price&&(0,_.createElement)("span",{className:le()({"wp-block-woocommerce-product-list-field__price--on-sale":e.on_sale})},E(e.regular_price))),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-cell",role:"cell"},(0,_.createElement)("span",{className:le()("woocommerce-product-variations__status-dot",Ni(e))},"â—"),(0,_.createElement)("span",null,Si(e))),(0,_.createElement)("div",{className:"wp-block-woocommerce-product-list-field__table-cell",role:"cell"},(0,_.createElement)(h.Button,{variant:"tertiary",icon:gt,"aria-label":(0,N.__)("Preview the product","woocommerce"),href:e.permalink,target:"_blank"}),(0,_.createElement)(h.Button,{type:"button",variant:"tertiary",icon:xt,"aria-label":(0,N.__)("Remove product","woocommerce"),onClick:b(e)})))))))),i&&(0,_.createElement)(gi,{initialValue:w,onSubmit:function(e){const t=[...w,...e];p(!0),v(t),g(t.map((e=>e.id))),c(!1)},onClose:function(){c(!1)}}),l&&(0,_.createElement)(wi,{products:w,onSubmit:function(e){v(e),g(e.map((e=>e.id))),s(!1)},onClose:function(){s(!1)}}))}};function Ai(){return zt({name:Ti,metadata:xi,settings:Pi})}const Ii=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-variation-items-field","title":"Product variations items","category":"woocommerce","description":"The product variations items.","keywords":["products","variations"],"textdomain":"default","attributes":{"description":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["isInSelectedTab"],"editorStyle":"file:./editor.css"}');async function Mi({message:e=(0,N.__)("Enter a value","woocommerce"),defaultValue:t,onOk:o,onCancel:r}){const n=window.prompt(e,t);null!==n?o(n):r&&r()}function Ri({selection:e,onChange:t,onClose:o}){return(0,_.createElement)(h.MenuItem,{onClick:()=>{const r=Array.isArray(e)?e.map((({id:e})=>e)):e.id;(0,U.recordEvent)("product_variations_menu_inventory_select",{source:V,action:"stock_quantity_set",variation_id:r}),Mi({onOk(o){const n=Number(o);Number.isNaN(n)||((0,U.recordEvent)("product_variations_menu_inventory_update",{source:V,action:"stock_quantity_set",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,stock_quantity:n,manage_stock:!0})))):t({stock_quantity:n,manage_stock:!0}))}}),o()}},(0,N.__)("Update stock","woocommerce"))}const Li=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));function Di({selection:e,onChange:t,onClose:o}){return(0,_.createElement)(h.MenuItem,{onClick:()=>{const r=Array.isArray(e)?e.map((({id:e})=>e)):e.id;(0,U.recordEvent)("product_variations_menu_pricing_select",{source:V,action:"list_price_set",variation_id:r}),Mi({onOk(o){(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"list_price_set",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,regular_price:o})))):t({regular_price:o})}}),o()}},(0,N.__)("Set list price","woocommerce"))}function Oi(e,t,o=1){if(function(e){return e.endsWith("%")}(t)){if(Number.isNaN(Number(e)))return 0;const r=function(e){const t=e.substring(0,e.length-1);if(!Number.isNaN(Number(t)))return Number(t)}(t);return void 0===r?Number(e):Number(e)+Number(e)*(r/100)*o}if(Number.isNaN(Number(e))){if(Number.isNaN(Number(t)))return;return Number(t)}return Number(e)+Number(t)*o}function Bi({selection:e,onChange:t,onClose:o}){const r=Array.isArray(e)?e.map((({id:e})=>e)):e.id;return(0,_.createElement)(h.Dropdown,{popoverProps:{placement:"right-start"},renderToggle:({isOpen:e,onToggle:t})=>(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_pricing_click",{source:V,variation_id:r}),t()},"aria-expanded":e,icon:Li,iconPosition:"right"},(0,N.__)("Pricing","woocommerce")),renderContent:()=>(0,_.createElement)("div",{className:"components-dropdown-menu__menu"},(0,_.createElement)(h.MenuGroup,{label:(0,N.__)("List price","woocommerce")},(0,_.createElement)(Di,{selection:e,onChange:t,onClose:o}),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_pricing_select",{source:V,action:"list_price_increase",variation_id:r}),Mi({message:(0,N.__)("Enter a value (fixed or %)","woocommerce"),onOk(o){var n;(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"list_price_increase",variation_id:r}),Array.isArray(e)?t(e.map((({id:e,regular_price:t})=>{var r;return{id:e,regular_price:null===(r=Oi(t,o))||void 0===r?void 0:r.toFixed(2)}}))):t({regular_price:null===(n=Oi(e.regular_price,o))||void 0===n?void 0:n.toFixed(2)})}}),o()}},(0,N.__)("Increase list price","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_pricing_select",{source:V,action:"list_price_decrease",variation_id:r}),Mi({message:(0,N.__)("Enter a value (fixed or %)","woocommerce"),onOk(o){var n;(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"list_price_increase",variation_id:r}),Array.isArray(e)?t(e.map((({id:e,regular_price:t})=>{var r;return{id:e,regular_price:null===(r=Oi(t,o,-1))||void 0===r?void 0:r.toFixed(2)}}))):t({regular_price:null===(n=Oi(e.regular_price,o,-1))||void 0===n?void 0:n.toFixed(2)})}}),o()}},(0,N.__)("Decrease list price","woocommerce"))),(0,_.createElement)(h.MenuGroup,{label:(0,N.__)("Sale price","woocommerce")},(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_pricing_select",{source:V,action:"sale_price_set",variation_id:r}),Mi({onOk(o){(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"sale_price_set",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,sale_price:o})))):t({sale_price:o})}}),o()}},(0,N.__)("Set sale price","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_pricing_select",{source:V,action:"sale_price_increase",variation_id:r}),Mi({message:(0,N.__)("Enter a value (fixed or %)","woocommerce"),onOk(o){var n;(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"sale_price_increase",variation_id:r}),Array.isArray(e)?t(e.map((({id:e,sale_price:t})=>{var r;return{id:e,sale_price:null===(r=Oi(t,o))||void 0===r?void 0:r.toFixed(2)}}))):t({sale_price:null===(n=Oi(e.sale_price,o))||void 0===n?void 0:n.toFixed(2)})}}),o()}},(0,N.__)("Increase sale price","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_pricing_select",{source:V,action:"sale_price_decrease",variation_id:r}),Mi({message:(0,N.__)("Enter a value (fixed or %)","woocommerce"),onOk(o){var n;(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"sale_price_decrease",variation_id:r}),Array.isArray(e)?t(e.map((({id:e,sale_price:t})=>{var r;return{id:e,sale_price:null===(r=Oi(t,o,-1))||void 0===r?void 0:r.toFixed(2)}}))):t({sale_price:null===(n=Oi(e.sale_price,o,-1))||void 0===n?void 0:n.toFixed(2)})}}),o()}},(0,N.__)("Decrease sale price","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_pricing_select",{source:V,action:"sale_price_schedule",variation_id:r}),Mi({message:(0,N.__)("Sale start date (YYYY-MM-DD format or leave blank)","woocommerce"),onOk(o){(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"sale_price_schedule",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,date_on_sale_from_gmt:o})))):t({date_on_sale_from_gmt:o})}}),Mi({message:(0,N.__)("Sale end date (YYYY-MM-DD format or leave blank)","woocommerce"),onOk(o){(0,U.recordEvent)("product_variations_menu_pricing_update",{source:V,action:"sale_price_schedule",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,date_on_sale_to_gmt:o})))):t({date_on_sale_to_gmt:o})}}),o()}},(0,N.__)("Schedule sale","woocommerce"))))})}function Fi({selection:e,onChange:t,onClose:o}){const r=Array.isArray(e)?e.map((({id:e})=>e)):e.id;return(0,_.createElement)(h.Dropdown,{popoverProps:{placement:"right-start"},renderToggle:({isOpen:e,onToggle:t})=>(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_inventory_click",{source:V,variation_id:r}),t()},"aria-expanded":e,icon:Li,iconPosition:"right"},(0,N.__)("Inventory","woocommerce")),renderContent:()=>(0,_.createElement)("div",{className:"components-dropdown-menu__menu"},(0,_.createElement)(h.MenuGroup,null,(0,_.createElement)(Ri,{selection:e,onChange:t,onClose:o}),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_inventory_select",{source:V,action:"manage_stock_toggle",variation_id:r}),Array.isArray(e)?t(e.map((({id:e,manage_stock:t})=>({id:e,manage_stock:!t})))):t({manage_stock:!e.manage_stock}),o()}},(0,N.__)('Toggle "track quantity"',"woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_inventory_select",{source:V,action:"set_status_in_stock",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,stock_status:yi.instock,manage_stock:!1})))):t({stock_status:yi.instock,manage_stock:!1}),o()}},(0,N.__)("Set status to In stock","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_inventory_select",{source:V,action:"set_status_out_of_stock",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,stock_status:yi.outofstock,manage_stock:!1})))):t({stock_status:yi.outofstock,manage_stock:!1}),o()}},(0,N.__)("Set status to Out of stock","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_inventory_select",{source:V,action:"set_status_on_back_order",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,stock_status:yi.onbackorder,manage_stock:!1})))):t({stock_status:yi.onbackorder,manage_stock:!1}),o()}},(0,N.__)("Set status to On back order","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_inventory_select",{source:V,action:"low_stock_amount_set",variation_id:r}),Mi({onOk(o){(0,U.recordEvent)("product_variations_menu_inventory_update",{source:V,action:"low_stock_amount_set",variation_id:r});const n=Number(o);if(Number.isNaN(n))return null;Array.isArray(e)?t(e.map((({id:e})=>({id:e,low_stock_amount:n,manage_stock:!0})))):t({low_stock_amount:n,manage_stock:!0})}}),o()}},(0,N.__)("Edit low stock threshold","woocommerce"))))})}function Vi({selection:e,onChange:t,onClose:o}){const r=Array.isArray(e)?e.map((({id:e})=>e)):e.id;function n(o){Array.isArray(e)?t(e.map((({id:e,dimensions:t})=>({id:e,dimensions:{...t,...o}})))):t({dimensions:{...e.dimensions,...o}})}return(0,_.createElement)(h.Dropdown,{popoverProps:{placement:"right-start"},renderToggle:({isOpen:e,onToggle:t})=>(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_shipping_click",{source:V,variation_id:r}),t()},"aria-expanded":e,icon:Li,iconPosition:"right"},(0,N.__)("Shipping","woocommerce")),renderContent:()=>(0,_.createElement)("div",{className:"components-dropdown-menu__menu"},window.wcAdminFeatures["product-virtual-downloadable"]&&(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_shipping_select",{source:V,action:"toggle_shipping",variation_id:r}),Array.isArray(e)?t(e.map((({id:e,virtual:t})=>({id:e,virtual:!t})))):t({virtual:!e.virtual}),(0,U.recordEvent)("product_variations_menu_shipping_update",{source:V,action:"toggle_shipping",variation_id:r}),o()}},(0,N.__)("Toggle shipping","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_shipping_select",{source:V,action:"dimensions_length_set",variation_id:r}),Mi({onOk(e){(0,U.recordEvent)("product_variations_menu_shipping_update",{source:V,action:"dimensions_length_set",variation_id:r}),n({length:e})}}),o()}},(0,N.__)("Set length","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_shipping_select",{source:V,action:"dimensions_width_set",variation_id:r}),Mi({onOk(e){(0,U.recordEvent)("product_variations_menu_shipping_update",{source:V,action:"dimensions_width_set",variation_id:r}),n({width:e})}}),o()}},(0,N.__)("Set width","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_shipping_select",{source:V,action:"dimensions_height_set",variation_id:r}),Mi({onOk(e){(0,U.recordEvent)("product_variations_menu_shipping_update",{source:V,action:"dimensions_height_set",variation_id:r}),n({height:e})}}),o()}},(0,N.__)("Set height","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_shipping_select",{source:V,action:"weight_set",variation_id:r}),Mi({onOk(o){(0,U.recordEvent)("product_variations_menu_shipping_update",{source:V,action:"weight_set",variation_id:r}),Array.isArray(e)?t(e.map((({id:e})=>({id:e,weight:o})))):t({weight:o})}}),o()}},(0,N.__)("Set weight","woocommerce")))})}function Hi({selection:e,onChange:t,onClose:o}){function r(e){return"private"===e?"publish":"private"}return(0,_.createElement)(h.MenuItem,{onClick:function(){const n=Array.isArray(e)?e.map((({id:e})=>e)):e.id;(0,U.recordEvent)("product_variations_menu_toggle_visibility_select",{source:V,action:"status_set",variation_id:n}),Array.isArray(e)?t(e.map((({id:e,status:t})=>({id:e,status:r(t)})))):t({status:r(e.status)}),(0,U.recordEvent)("product_variations_toggle_visibility_update",{source:V,action:"status_set",variation_id:n}),o()}},(0,N.__)("Toggle visibility","woocommerce"))}const Ui="downloads_menu_item__upload_files_modal",zi="downloads_menu_item__upload_files_modal_wrapper";function $i(e){return{id:`${e.id}`,name:e.name,file:e.url}}function Wi({selection:e,onChange:t,onClose:o}){const r=Array.isArray(e)?e.map((({id:e})=>e)):e.id,n=(Array.isArray(e)?e[0].downloads:e.downloads).map((({id:e})=>Number.parseInt(e,10))),[a,i]=(0,_.useState)(!1);function c(n){const a={downloadable:!0,downloads:Array.isArray(n)?n.map($i):$i(n)};Array.isArray(e)?t(e.map((({id:e})=>({...a,id:e})))):t(a),(0,U.recordEvent)("product_variations_menu_downloads_update",{source:V,action:"downloads_set",variation_id:r}),o()}function l(n,a){return function(){(0,U.recordEvent)("product_variations_menu_downloads_select",{source:V,action:`${n}_set`,variation_id:r}),Mi({message:a,onOk(o){Array.isArray(e)?t(e.map((({id:e})=>({id:e,downloadable:!0,[n]:o})))):t({downloadable:!0,[n]:o}),(0,U.recordEvent)("product_variations_menu_downloads_update",{source:V,action:`${n}_set`,variation_id:r})}}),i(!1),o()}}return(0,_.useEffect)((function(){const e=document.querySelector(`.${Ui}`),t=null==e?void 0:e.closest('[role="dialog"]'),o=null==t?void 0:t.parentElement;return null==o||o.classList.add(zi),()=>{null==o||o.classList.remove(zi)}}),[a]),(0,_.createElement)(h.Dropdown,{popoverProps:{placement:"right-start"},renderToggle:({isOpen:e,onToggle:t})=>(0,_.createElement)(h.MenuItem,{onClick:()=>{(0,U.recordEvent)("product_variations_menu_shipping_click",{source:V,variation_id:r}),t()},"aria-expanded":e,icon:Li,iconPosition:"right"},(0,N.__)("Downloads","woocommerce")),renderContent:()=>(0,_.createElement)("div",{className:"components-dropdown-menu__menu"},(0,_.createElement)(Je.MediaUpload,{modalClass:Ui,multiple:"add",value:n,onSelect:c,render:({open:e})=>{return(0,_.createElement)(h.MenuItem,{onClick:(t=e,function(){(0,U.recordEvent)("product_variations_menu_downloads_select",{source:V,action:"downloads_set",variation_id:r}),t(),i(!0)})},(0,N.__)("Upload files","woocommerce"));var t}}),(0,_.createElement)(h.MenuItem,{onClick:l("download_limit",(0,N.__)("Leave blank for unlimited re-downloads","woocommerce"))},(0,N.__)("Set download limit","woocommerce")),(0,_.createElement)(h.MenuItem,{onClick:l("download_expiry",(0,N.__)("Enter the number of days before a download link expires, or leave blank","woocommerce"))},(0,N.__)("Set download expiry","woocommerce")))})}function Gi({selection:e,disabled:t,onChange:o,onDelete:r}){return(0,_.createElement)(h.Dropdown,{popoverProps:{placement:"bottom-end"},renderToggle:({isOpen:e,onToggle:o})=>(0,_.createElement)(h.Button,{disabled:t,"aria-expanded":e,icon:e?xo:Po,variant:"secondary",onClick:o,className:"variations-actions-menu__toogle"},(0,_.createElement)("span",null,(0,N.__)("Quick update","woocommerce"))),renderContent:({onClose:t})=>(0,_.createElement)("div",{className:"components-dropdown-menu__menu"},(0,_.createElement)(h.MenuGroup,null,(0,_.createElement)(Ri,{selection:e,onChange:o,onClose:t}),(0,_.createElement)(Di,{selection:e,onChange:o,onClose:t}),(0,_.createElement)(Hi,{selection:e,onChange:o,onClose:t})),(0,_.createElement)(h.MenuGroup,null,(0,_.createElement)(Bi,{selection:e,onChange:o,onClose:t}),(0,_.createElement)(Fi,{selection:e,onChange:o,onClose:t}),(0,_.createElement)(Vi,{selection:e,onChange:o,onClose:t}),window.wcAdminFeatures["product-virtual-downloadable"]&&(0,_.createElement)(Wi,{selection:e,onChange:o,onClose:t})),(0,_.createElement)(h.MenuGroup,null,(0,_.createElement)(h.MenuItem,{isDestructive:!0,variant:"link",onClick:()=>{r(e),t()},className:"woocommerce-product-variations__actions--delete"},(0,N.__)("Delete","woocommerce"))))})}function ji({className:e,totalCount:t,perPageOptions:o=H,defaultPerPage:r=5,onPageChange:n,onPerPageChange:a}){const i=(0,f.usePagination)({defaultPerPage:r,totalCount:t,onPageChange:n,onPerPageChange:a}),c=(0,N.__)("Viewing %d-%d of %d items","woocommerce");return(0,_.createElement)("div",{className:le()(e,"woocommerce-product-variations-pagination")},(0,_.createElement)("div",{className:"woocommerce-product-variations-pagination__info"},(0,N.sprintf)(c,i.start,i.end,t)),(0,_.createElement)("div",{className:"woocommerce-product-variations-pagination__current-page"},(0,_.createElement)(f.PaginationPageArrowsWithPicker,{...i})),(0,_.createElement)("div",{className:"woocommerce-product-variations-pagination__page-size"},(0,_.createElement)(f.PaginationPageSizePicker,{...i,total:t,perPageOptions:o,label:""})))}function qi(){return(0,_.createElement)(h.SVG,{width:"90",height:"64",viewBox:"0 0 90 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.createElement)(h.Path,{d:"M89.4707 32.0026L80.0137 38.0743L83.1112 48.872L71.7948 48.2247L69.3959 59.2741L59.1941 54.3068L53.3124 64L45.001 56.2691L36.6895 64L30.8078 54.3068L20.6061 59.2741L18.2072 48.2247L6.89067 48.872L9.98819 38.0743L0.53125 32.0026L9.98819 25.9257L6.89067 15.1332L18.2072 15.7804L20.6061 4.7259L30.8078 9.69837L36.6895 0L45.001 7.73096L53.3124 0L59.1889 9.69837L69.3959 4.7259L71.7948 15.7804L83.1112 15.1332L80.0137 25.9257L89.4707 32.0026Z",fill:"#E0E0E0"}),(0,_.createElement)(h.Path,{d:"M44.9266 16.8066C41.6031 16.8066 38.9062 19.5292 38.9062 26.0632C38.9062 34.051 44.9266 40.7187 44.9266 40.7187C44.9266 40.7187 50.947 34.0459 50.947 26.0632C50.947 19.5292 48.2502 16.8066 44.9266 16.8066Z",fill:"white"}),(0,_.createElement)(h.Path,{d:"M44.9218 49.9242C46.9389 49.9242 48.5741 48.289 48.5741 46.2719C48.5741 44.2548 46.9389 42.6196 44.9218 42.6196C42.9047 42.6196 41.2695 44.2548 41.2695 46.2719C41.2695 48.289 42.9047 49.9242 44.9218 49.9242Z",fill:"white"}))}function Zi({onActionClick:e,isError:t}){return(0,_.createElement)("div",{className:"woocommerce-variations-table-error-or-empty-state"},t?(0,_.createElement)(qi,null):(0,_.createElement)(oi,null),(0,_.createElement)("p",{className:"woocommerce-variations-table-error-or-empty-state__message"},t?(0,N.__)("We couldnâ€™t load the variations","woocommerce"):(0,N.__)("No variations yet","woocommerce")),(0,_.createElement)("div",{className:"woocommerce-variations-table-error-or-empty-state__actions"},(0,_.createElement)(h.Button,{variant:"link",onClick:e},t?(0,N.__)("Try again","woocommerce"):(0,N.__)("Generate from options","woocommerce"))))}const Ji=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}));function Xi({initialValues:e,attribute:t,onFilter:o}){const[r,n]=(0,_.useState)(e),[i,c]=(0,_.useState)([]),[l,s]=(0,_.useState)(0),[m,d]=(0,_.useState)(!1),[u,p]=(0,_.useState)(""),[f,g]=(0,_.useState)(1),w=(0,v.useRef)(null),E=0===r.length;async function b(e,t="",o=1){try{d(!0);const{getProductAttributeTerms:r,getProductAttributeTermsTotalCount:n}=(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME),i={attribute_id:e,per_page:10,page:o,search:t},l=await r(i),m=await n(i);c(o>1?e=>[...e,...l]:l),s(m)}catch{}finally{d(!1)}}function y(e,o){return async function(){o(),e||await b(t.id)}}async function C(e){if(m||i.length>=l)return;const o=e.currentTarget,r=o.scrollHeight-o.clientHeight;if(o.scrollTop>=r){const e=f+1;await b(t.id,u,e),g(e)}}function k(e){return r.includes(e)}function S(e){return function(t){n((o=>t?[...o,e]:o.reduce((function(t,o){return o===e?t:[...t,o]}),[])))}}function T(e){"Enter"===e.code&&e.preventDefault()}(0,v.useEffect)((()=>n(e)),[e]);const P=(0,se.useDebounce)((function(e){p(e),c([]),g(1),b(t.id,e)}),300),A=(0,se.useInstanceId)(h.__experimentalInputControl,"search"),I=(0,se.useInstanceId)(h.CheckboxControl,"checkbox");return(0,_.createElement)(h.Dropdown,{className:"woocommerce-product-variations-filter",onClose:function(){p(""),g(1)},renderToggle:({isOpen:e,onToggle:o})=>(0,_.createElement)(h.Button,{"aria-expanded":e,icon:e?xo:Po,variant:"tertiary",onClick:y(e,o),className:"woocommerce-product-variations-filter__toggle"},(0,_.createElement)("span",null,(0,N.sprintf)((0,N.__)("Any %s","woocommerce"),t.name))),renderContent:({onClose:e})=>{return(0,_.createElement)("form",{className:"woocommerce-product-variations-filter__form",noValidate:!0,onSubmit:(a=e,function(e){e.preventDefault(),o(r),a()}),onReset:async function(e){var o;e.preventDefault(),E||(p(""),n([]),g(1),null===(o=w.current)||void 0===o||o.focus(),await b(t.id))}},t.options.length>10&&(0,_.createElement)("div",{className:"woocommerce-product-variations-filter__form-header"},(0,_.createElement)("label",{htmlFor:A,"aria-label":(0,N.__)("Search options","woocommerce")},(0,_.createElement)(h.__experimentalInputControl,{ref:w,id:A,type:"search",value:u,suffix:(0,_.createElement)(Pe,{icon:Ji}),onChange:P,onKeyDown:T}))),(0,_.createElement)("div",{className:"woocommerce-product-variations-filter__form-body",onScroll:C},i.length>0?(0,_.createElement)("ul",{className:"woocommerce-product-variations-filter__form-list"},i.map((e=>(0,_.createElement)("li",{key:e.slug,className:"woocommerce-product-variations-filter__form-list-item"},(0,_.createElement)("label",{htmlFor:`${I}-${e.slug}`,className:"woocommerce-product-variations-filter__form-list-item-label"},(0,_.createElement)(h.CheckboxControl,{id:`${I}-${e.slug}`,checked:k(e.slug),onChange:S(e.slug)}),(0,_.createElement)("span",null,e.name)))))):!m&&(0,_.createElement)("div",{className:"woocommerce-product-variations-filter__form-list-empty"},(0,N.__)("No options were found for that search","woocommerce")),m&&(0,_.createElement)("div",{className:"woocommerce-product-variations-filter__loading"},(0,_.createElement)(h.Spinner,null))),(0,_.createElement)("div",{className:"woocommerce-product-variations-filter__form-footer"},(0,_.createElement)(h.Button,{type:"reset",variant:"secondary","aria-disabled":E},(0,N.__)("Reset","woocommerce")),(0,_.createElement)(h.Button,{type:"submit",variant:"primary"},(0,N.__)("Filter","woocommerce"))));var a}})}function Yi(){return(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton woocommerce-product-variations__table-row","aria-hidden":"true"},(0,_.createElement)("div",{className:"woocommerce-sortable__handle"}),(0,_.createElement)("div",{className:"woocommerce-product-variations__selection"},(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton__checkbox"})),(0,_.createElement)("div",{className:"woocommerce-product-variations__attributes"},Array(2).fill(0).map(((e,t)=>(0,_.createElement)("div",{key:t,className:"woocommerce-tag woocommerce-product-variations__attribute"},(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton__attribute-option"}))))),(0,_.createElement)("div",{className:"woocommerce-product-variations__price"},(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton__regular-price"})),(0,_.createElement)("div",{className:"woocommerce-product-variations__quantity"},(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton__quantity"})),(0,_.createElement)("div",{className:"woocommerce-product-variations__actions"},(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton__visibility-icon"}),(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton__edit-link"}),(0,_.createElement)("div",{className:"woocommerce-table-row-skeleton__menu-toggle"})))}const Ki=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));function Qi({width:e=24,height:t=24,className:o,...r}){return(0,_.createElement)("svg",{...r,width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:le()(o,"woocommerce-hidden-icon")},(0,_.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7226 6.2125C13.1641 6.0766 12.5883 6 11.9999 6C8.10055 6 4.75407 9.36447 3.31899 11.0546C2.8507 11.6061 2.8507 12.3939 3.31899 12.9454C4.17896 13.9582 5.72533 15.5723 7.66574 16.7033L8.41572 15.4043C8.13761 15.242 7.86389 15.0655 7.59553 14.8776C6.25019 13.9359 5.15775 12.7905 4.48406 12C5.15775 11.2095 6.25019 10.0641 7.59553 9.12235C8.96667 8.16257 10.4775 7.5 11.9999 7.5C12.3118 7.5 12.6231 7.5278 12.9329 7.58027L13.7226 6.2125ZM12.3504 8.58923C12.2352 8.57753 12.1182 8.57153 11.9999 8.57153C10.1063 8.57153 8.57132 10.1066 8.57132 12.0001C8.57132 12.7505 8.81237 13.4445 9.22126 14.0091L10.1233 12.4467C10.0893 12.3034 10.0713 12.1538 10.0713 12.0001C10.0713 11.1266 10.652 10.3888 11.4484 10.1515L12.3504 8.58923ZM12.8092 10.2491L13.5611 8.94679C14.6697 9.51479 15.4285 10.6688 15.4285 12.0001C15.4285 13.8937 13.8934 15.4287 11.9999 15.4287C11.3128 15.4287 10.6729 15.2266 10.1364 14.8785L10.8883 13.5763C11.2025 13.7983 11.5859 13.9287 11.9999 13.9287C13.065 13.9287 13.9285 13.0652 13.9285 12.0001C13.9285 11.224 13.4701 10.555 12.8092 10.2491ZM9.51376 15.957C10.3246 16.2986 11.1605 16.5 11.9999 16.5C13.5223 16.5 15.0331 15.8374 16.4043 14.8776C17.7496 13.9359 18.842 12.7905 19.5157 12C18.842 11.2095 17.7496 10.0641 16.4043 9.12235C15.6875 8.62066 14.9327 8.20018 14.1579 7.91308L14.917 6.59839C17.5164 7.64275 19.6204 9.80575 20.6808 11.0546C21.1491 11.6061 21.1491 12.3939 20.6808 12.9454C19.2457 14.6355 15.8992 18 11.9999 18C10.8611 18 9.76945 17.713 8.7588 17.2646L9.51376 15.957Z",fill:"currentColor"}),(0,_.createElement)("rect",{x:"16.0625",y:"4.61377",width:"1.22727",height:"16",transform:"rotate(30 16.0625 4.61377)",fill:"currentColor"}))}function ec(e,t){return e.length>t?e.substring(0,t)+"â€¦":e}function tc({selection:e,onChange:t,onDelete:o}){return(0,_.createElement)(h.DropdownMenu,{popoverProps:{placement:"left-start"},icon:ue,label:(0,N.__)("Actions","woocommerce"),toggleProps:{onClick(){(0,U.recordEvent)("product_variations_menu_view",{source:V,variation_id:e.id})}}},(({onClose:r})=>(0,_.createElement)(_.Fragment,null,(0,_.createElement)(h.MenuGroup,{label:(0,N.sprintf)((0,N.__)("Variation Id: %s","woocommerce"),e.id)},(0,_.createElement)(h.MenuItem,{href:e.permalink,target:"_blank",rel:"noreferrer",onClick:()=>{(0,U.recordEvent)("product_variations_preview",{source:V,variation_id:e.id})}},(0,N.__)("Preview","woocommerce")),(0,_.createElement)(Hi,{selection:e,onChange:t,onClose:r})),(0,_.createElement)(h.MenuGroup,null,(0,_.createElement)(Bi,{selection:e,onChange:t,onClose:r}),(0,_.createElement)(Fi,{selection:e,onChange:t,onClose:r}),(0,_.createElement)(Vi,{selection:e,onChange:t,onClose:r}),window.wcAdminFeatures["product-virtual-downloadable"]&&(0,_.createElement)(Wi,{selection:e,onChange:t,onClose:r})),(0,_.createElement)(h.MenuGroup,null,(0,_.createElement)(h.MenuItem,{isDestructive:!0,label:(0,N.__)("Delete variation","woocommerce"),variant:"link",onClick:()=>{o(e),r()},className:"woocommerce-product-variations__actions--delete"},(0,N.__)("Delete","woocommerce"))))))}const oc=(0,N.__)("Not visible to customers","woocommerce");function rc(e){return(0,Ie.getNewPath)({},`/product/${e.parent_id}/variation/${e.id}`,{})}function nc({variation:e,variableAttributes:t,isUpdating:o,isSelected:r,isSelectionDisabled:n,hideActionButtons:a,onChange:i,onDelete:c,onEdit:l,onSelect:s}){const{formatAmount:m}=(0,_.useContext)(W.CurrencyContext),{matchesAny:d,tags:u}=(0,_.useMemo)((function(){let o=!1;const r=t.map((t=>{const r=e.attributes.find((e=>e.id===t.id));return r?{id:r.id,label:r.option}:(o=!0,{id:t.id,label:(0,N.sprintf)((0,N.__)("Any %s","woocommerce"),t.name)})}));return{matchesAny:o,tags:r}}),[t,e]);return(0,_.createElement)(_.Fragment,null,(0,_.createElement)("div",{className:"woocommerce-product-variations__selection",role:"cell"},d&&(0,_.createElement)(f.__experimentalTooltip,{text:(0,N.__)("'Any' variations are no longer fully supported. Use regular variations instead","woocommerce"),helperText:(0,N.__)("View helper text","woocommerce"),position:"middle right"},(0,_.createElement)(Pe,{icon:Ki,size:24})),o?(0,_.createElement)(h.Spinner,null):(0,_.createElement)(h.CheckboxControl,{value:e.id,checked:r,onChange:s,disabled:n,"aria-label":r?(0,N.__)("Unselect variation","woocommerce"):(0,N.__)("Select variation","woocommerce")})),(0,_.createElement)("div",{className:"woocommerce-product-variations__attributes",role:"cell"},u.map((e=>{const t=(0,_.createElement)(f.Tag,{id:e.id,className:"woocommerce-product-variations__attribute",key:e.id,label:ec(e.label,32),screenReaderLabel:e.label});return u.length<=32?t:(0,_.createElement)(f.__experimentalTooltip,{key:e.id,text:e.label,position:"top center"},(0,_.createElement)("span",null,t))}))),(0,_.createElement)("div",{className:le()("woocommerce-product-variations__price",{"woocommerce-product-variations__price--fade":"private"===e.status}),role:"cell"},e.on_sale&&(0,_.createElement)("span",{className:"woocommerce-product-variations__sale-price"},m(e.sale_price)),(0,_.createElement)("span",{className:le()("woocommerce-product-variations__regular-price",{"woocommerce-product-variations__regular-price--on-sale":e.on_sale})},m(e.regular_price))),(0,_.createElement)("div",{className:le()("woocommerce-product-variations__quantity",{"woocommerce-product-variations__quantity--fade":"private"===e.status}),role:"cell"},e.regular_price&&(0,_.createElement)(_.Fragment,null,(0,_.createElement)("span",{className:le()("woocommerce-product-variations__status-dot",Ni(e))},"â—"),Si(e))),(0,_.createElement)("div",{className:"woocommerce-product-variations__actions",role:"cell"},("private"===e.status||!e.regular_price)&&(0,_.createElement)(f.__experimentalTooltip,{className:"woocommerce-attribute-list-item__actions-tooltip",position:"top center",text:oc},(0,_.createElement)("div",{className:"woocommerce-attribute-list-item__actions-icon-wrapper"},(0,_.createElement)(Qi,{className:"woocommerce-attribute-list-item__actions-icon-wrapper-icon"}))),a&&(0,_.createElement)(_.Fragment,null,(0,_.createElement)(h.Button,{href:rc(e),onClick:l},(0,N.__)("Edit","woocommerce")),(0,_.createElement)(tc,{selection:e,onChange:function(t){i({...e,...t})},onDelete:c}))))}function ac(e,t){if("id"in e){const e="update"===t?"updated":"deleted";return(0,N.sprintf)((0,N.__)("1 variation %s.","woocommerce"),e)}const{update:o=[],delete:r=[]}=e,n=o.length,a=r.length;return a>0?(0,N.sprintf)((0,N.__)("%s variations deleted.","woocommerce"),a):n>0?(0,N.sprintf)((0,N.__)("%s variations updated.","woocommerce"),n):""}const ic=(0,_.forwardRef)((function({noticeText:e,noticeActions:t=[],noticeStatus:o="error",onNoticeDismiss:r=(()=>{}),onVariationTableChange:n=(()=>{})},i){const c=(0,ne.useEntityId)("postType","product"),[l]=(0,ne.useEntityProp)("postType","product","attributes"),s=(0,_.useMemo)((()=>l.filter((e=>e.variation))),[l]),[m]=(0,ne.useEntityProp)("postType","product","variations"),{createSuccessNotice:d,createErrorNotice:u}=(0,a.useDispatch)("core/notices"),{isLoading:p,variations:g,totalCount:w,onPageChange:v,onPerPageChange:E,onFilter:b,getFilters:y,selected:C,isSelectingAll:k,selectedCount:S,areAllSelected:T,areSomeSelected:P,isSelected:A,onSelect:I,onSelectPage:M,onSelectAll:R,onClearSelection:L,isUpdating:D,onUpdate:O,onDelete:B,onBatchUpdate:F,onBatchDelete:H,isGenerating:z,variationsError:$,onGenerate:W}=function({productId:e}){const[t,o]=(0,_.useState)([]),[r,n]=(0,_.useState)(0),[i,c]=(0,_.useState)(!1),[l,s]=(0,_.useState)(),[m,d]=(0,_.useState)([]),u=(0,_.useRef)(5);async function p(e){const t={page:1,per_page:u.current,order:"asc",orderby:"menu_order",attributes:[],...e};try{const{getProductVariations:e,getProductVariationsTotalCount:r}=(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);c(!0),s(void 0);const i=await e(t),l=await r(t);o(i),n(l),c(!1)}catch(e){s(e),c(!1)}}(0,_.useEffect)((()=>{p({product_id:e})}),[e]);const[f,g]=(0,_.useState)(0),[h,w]=(0,_.useState)(!1),v=(0,_.useRef)({}),E=(0,_.useMemo)((function(){return f>0?Object.values(v.current):[]}),[f]),b=(0,_.useCallback)((function(e){return f>0&&e.id in v.current}),[f]),y=(0,_.useMemo)((()=>f>0&&t.every(b)),[t,f,b]),C=(0,_.useMemo)((()=>f>0&&t.some(b)),[t,f,b]);function k(e){return function(t){t?(v.current[e.id]=e,g((e=>e+1))):(delete v.current[e.id],g((e=>e-1)))}}function S(){v.current={},g(0)}function N(){d([])}const[T,P]=(0,_.useState)({}),{isGenerating:A,generateProductVariations:I,generateError:M}=ri(),R=(0,_.useRef)(!1);return(0,_.useEffect)((()=>{A&&(N(),S()),!0===R.current&&!1===A&&p({product_id:e}),R.current=Boolean(A)}),[A]),{isLoading:i,variations:t,totalCount:r,onPageChange:function(t){p({product_id:e,attributes:m,page:t})},onPerPageChange:function(t){u.current=t,p({product_id:e,attributes:m})},onFilter:function(t){return function(o){let r=!1;const n=m.reduce(((e,n)=>n.attribute===t.slug?(r=!0,0===o.length?e:[...e,{...n,terms:o}]):[...e,n]),[]);r||n.push({attribute:t.slug,terms:o}),S(),p({product_id:e,attributes:n}),d(n)}},getFilters:function(e){var t,o;return null!==(o=null===(t=m.find((t=>t.attribute===e.slug)))||void 0===t?void 0:t.terms)&&void 0!==o?o:[]},hasFilters:function(){return Boolean(m.length)},clearFilters:N,selected:E,isSelectingAll:h,selectedCount:f,areAllSelected:y,areSomeSelected:C,isSelected:b,onSelect:k,onSelectPage:function(e){e?t.forEach((e=>{v.current[e.id]=e})):t.forEach((e=>{delete v.current[e.id]})),g(Object.keys(v.current).length)},onSelectAll:async function(){w(!0);const{getProductVariations:t}=(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);let o=1,n=0;for(;n<r;){const r=await t({product_id:e,page:o++,per_page:50,order:"asc",orderby:"menu_order",attributes:m});n+=r.length,r.forEach((e=>{v.current[e.id]=e}))}return g(n),w(!1),n},onClearSelection:S,isUpdating:T,onUpdate:async function({id:t,...o}){if(T[t])return;const{updateProductVariation:r}=(0,a.dispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return r({product_id:e,id:t},o).then((async o=>(await(0,a.dispatch)("core").invalidateResolution("getEntityRecord",["postType","product_variation",t]),await p({product_id:e,attributes:m}),o)))},onDelete:async function(t){if(T[t])return;const{deleteProductVariation:o,invalidateResolutionForStore:r}=(0,a.dispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return o({product_id:e,id:t}).then((async o=>(k(o)(!1),await(0,a.dispatch)("core").invalidateResolution("getEntityRecord",["postType","product",e]),await(0,a.dispatch)("core").invalidateResolution("getEntityRecord",["postType","product_variation",t]),await r(),await p({product_id:e,attributes:m}),o)))},onBatchUpdate:async function(t){var o;const{invalidateResolution:r}=(0,a.dispatch)("core"),{batchUpdateProductVariations:n,invalidateResolutionForStore:i}=(0,a.dispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);let c=1;const l=[];for(;50*(c-1)<t.length;){const a=50*(c-1),i=a+50,s=t.slice(a,i);P((e=>s.reduce(((e,t)=>({...e,[t.id]:!0})),0===a?{}:e)));const m=await n({product_id:e},{update:s});c++,l.push(...null!==(o=null==m?void 0:m.update)&&void 0!==o?o:[]);for(const e of s)await r("getEntityRecord",["postType","product_variation",e.id])}return P({}),await i(),await p({product_id:e,attributes:m}),{update:l}},onBatchDelete:async function(t){var o;const{invalidateResolution:r}=(0,a.dispatch)("core"),{batchUpdateProductVariations:n,invalidateResolutionForStore:i}=(0,a.dispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);let c=1;const l=[];for(;50*(c-1)<t.length;){const a=50*(c-1),i=a+50,s=t.slice(a,i);P((e=>s.reduce(((e,t)=>({...e,[t.id]:!0})),0===a?{}:e)));const m=await n({product_id:e},{delete:s});c++,l.push(...null!==(o=null==m?void 0:m.delete)&&void 0!==o?o:[]);for(const e of s)await r("getEntityRecord",["postType","product_variation",e.id]),k(e)(!1)}return P({}),await r("getEntityRecord",["postType","product",e]),await i(),await p({product_id:e,attributes:m}),{delete:l}},isGenerating:A,onGenerate:I,variationsError:null!=M?M:l}}({productId:c}),G=void 0!==$;if(!p&&!z&&(0===m.length||G))return(0,_.createElement)(Zi,{onActionClick:function(){W(l)},isError:G});function j(e){B(e.id).then((t=>{(0,U.recordEvent)("product_variations_delete",{source:V,product_id:c,variation_id:e.id}),d(ac(t,"delete")),n("delete")})).catch((()=>{u((0,N.__)("Failed to delete variation.","woocommerce"))}))}function q(e){O(e).then((t=>{(0,U.recordEvent)("product_variations_change",{source:V,product_id:c,variation_id:e.id}),d(ac(t,"update")),n("update",[e])})).catch((()=>{u((0,N.__)("Failed to save variation.","woocommerce"))}))}function Z(e){const t=Date.now();F(e).then((o=>{(0,U.recordEvent)("product_variations_update_all",{source:V,product_id:c,variations_count:e.length,request_time:Date.now()-t}),d(ac(o)),n("update",e)})).catch((()=>{u((0,N.__)("Failed to update variations.","woocommerce"))}))}function J(e){const t=Date.now();H(e.map((e=>e.id))).then((o=>{(0,U.recordEvent)("product_variations_delete_all",{source:V,product_id:c,variations_count:e.length,request_time:Date.now()-t}),d(ac(o)),n("delete")})).catch((()=>{u((0,N.__)("Failed to delete variations.","woocommerce"))}))}function X(e){return function(){(0,U.recordEvent)("product_variations_edit",{source:V,product_id:c,variation_id:e.id})}}return(0,_.createElement)("div",{className:"woocommerce-product-variations",ref:i},e&&(0,_.createElement)(h.Notice,{status:o,className:"woocommerce-product-variations__notice",onRemove:r,actions:t.map((e=>({...e,onClick:()=>{null==e||e.onClick(Z,J)}})))},e),(0,_.createElement)("div",{className:"woocommerce-product-variations__table",role:"table"},w>0&&(0,_.createElement)("div",{className:"woocommerce-product-variations__table-header",role:"rowgroup"},(0,_.createElement)("div",{className:"woocommerce-product-variations__table-row",role:"rowheader"},(0,_.createElement)("div",{className:"woocommerce-product-variations__filters"},P?(0,_.createElement)(_.Fragment,null,(0,_.createElement)("span",null,(0,N.sprintf)((0,N.__)("%d selected","woocommerce"),S)),(0,_.createElement)(h.Button,{variant:"tertiary",onClick:()=>M(!0)},(0,N.sprintf)((0,N.__)("Select page (%d)","woocommerce"),g.length)),(0,_.createElement)(h.Button,{variant:"tertiary",isBusy:k,onClick:async function(){const e=Date.now();R().then((t=>{(0,U.recordEvent)("product_variations_select_all",{source:V,product_id:c,variations_count:t,request_time:Date.now()-e})}))}},(0,N.sprintf)((0,N.__)("Select all (%d)","woocommerce"),w)),(0,_.createElement)(h.Button,{variant:"tertiary",onClick:L},(0,N.__)("Clear selection","woocommerce"))):s.map((e=>(0,_.createElement)(Xi,{key:e.id,initialValues:y(e),attribute:e,onFilter:b(e)})))),(0,_.createElement)("div",{className:"woocommerce-product-variations__actions"},(0,_.createElement)(Gi,{selection:C,disabled:!P&&!k,onChange:Z,onDelete:J}))),(0,_.createElement)("div",{className:"woocommerce-product-variations__table-row",role:"rowheader"},(0,_.createElement)("div",{className:"woocommerce-product-variations__table-column woocommerce-product-variations__selection",role:"columnheader"},(0,_.createElement)(h.CheckboxControl,{value:"all",checked:T,indeterminate:!T&&P,onChange:M,"aria-label":(0,N.__)("Select all","woocommerce")})),(0,_.createElement)("div",{className:"woocommerce-product-variations__table-column",role:"columnheader"},(0,N.__)("Variation","woocommerce")),(0,_.createElement)("div",{className:"woocommerce-product-variations__table-column woocommerce-product-variations__price",role:"columnheader"},(0,N.__)("Price","woocommerce")),(0,_.createElement)("div",{className:"woocommerce-product-variations__table-column",role:"columnheader"},(0,N.__)("Stock","woocommerce")))),p||z?(0,_.createElement)("div",{className:"woocommerce-product-variations__table-body",role:"presentation","aria-label":z?(0,N.__)("Generating variationsâ€¦","woocommerce"):(0,N.__)("Loading variationsâ€¦","woocommerce")},Array.from({length:g.length||5}).map(((e,t)=>(0,_.createElement)(Yi,{key:t})))):(0,_.createElement)(f.Sortable,{className:"woocommerce-product-variations__table-body",role:"rowgroup"},g.map((e=>(0,_.createElement)(f.ListItem,{key:`${e.id}`,className:"woocommerce-product-variations__table-row",role:"row"},(0,_.createElement)(nc,{variation:e,variableAttributes:s,isUpdating:D[e.id],isSelected:A(e),isSelectionDisabled:k,hideActionButtons:!P,onChange:q,onDelete:j,onEdit:X(e),onSelect:I(e)}))))),w>5&&(0,_.createElement)("div",{className:"woocommerce-product-variations__table-footer",role:"row"},(0,_.createElement)(ji,{totalCount:w,onPageChange:v,onPerPageChange:E}))))})),cc=()=>{const[e,t]=(0,_.useState)(!1),o=(0,ne.useEntityId)("postType","product"),r=(0,_.useRef)(),n=(0,_.useMemo)((()=>({product_id:o,page:1,per_page:5,order:"asc",orderby:"menu_order"})),[o]),{totalCount:i}=(0,a.useSelect)((e=>{const{getProductVariationsTotalCount:t}=e(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return{totalCount:t(n)}}),[o]),{updateUserPreferences:c,variable_product_block_tour_shown:l}=(0,x.useUserPreferences)(),s={placement:"top",steps:[{referenceElements:{desktop:".wp-block-woocommerce-product-variation-items-field"},focusElement:{desktop:".wp-block-woocommerce-product-variation-items-field"},meta:{name:"product-variations-2",heading:(0,N.__)("âš¡ï¸ This product now has variations","woocommerce"),descriptions:{desktop:(0,N.__)("From now on, youâ€™ll manage pricing, shipping, and inventory for each variation individuallyâ€”just like any other product in your store.","woocommerce")},primaryButton:{text:(0,N.__)("Got it","woocommerce")}}}],options:{classNames:["variation-items-product-tour"],effects:{arrowIndicator:!0,spotlight:{interactivity:{enabled:!0}}},callbacks:{onStepViewOnce:()=>{(0,U.recordEvent)("variable_product_block_tour_shown",{variable_count:i})}},popperModifiers:[{name:"offset",options:{offset:[0,32]}}]},closeHandler:()=>{c({variable_product_block_tour_shown:"yes"}),t(!1),(0,U.recordEvent)("variable_product_block_tour_dismissed")}};(0,_.useEffect)((()=>{const o=r.current!==i&&i>0&&0===r.current;r.current=i,o&&!e&&t(!0)}),[i]);const{hasShownProductEditorTour:m}=(0,a.useSelect)((e=>{const{getOption:t}=e(x.OPTIONS_STORE_NAME);return{hasShownProductEditorTour:"yes"===t("woocommerce_block_product_tour_shown")}}));return"yes"!==l&&e&&m?(0,_.createElement)(f.TourKit,{config:s}):null},{name:lc,...sc}=Ii,mc={example:{},edit:function({attributes:e,context:t}){const o=(0,_.useRef)(!1),{invalidateResolution:r}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),n=(0,ne.useEntityId)("postType","product"),i=(0,Ht.useWooBlockProps)(e),[c]=(0,ne.useEntityProp)("postType","product","status"),l=(0,_.useMemo)((()=>({product_id:n,order:"asc",orderby:"menu_order",has_price:!1})),[n]),{totalCountWithoutPrice:s}=(0,a.useSelect)((e=>{const{getProductVariationsTotalCount:t}=e(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME);return{totalCountWithoutPrice:t(l)}}),[l]),{updateUserPreferences:m,variable_items_without_price_notice_dismissed:d}=(0,x.useUserPreferences)(),{ref:u}=wr("variations",(async function(e,t){if(s>0&&!o.current&&"publish"!==c&&"publish"===(null==t?void 0:t.status))return"yes"!==d&&m({variable_items_without_price_notice_dismissed:{...d||{},[n]:"no"}}),(0,N.__)("Set variation prices before adding this product.","woocommerce")}),[s]),p=!d||"yes"!==d[n],f=s>0&&p?(0,N.sprintf)((0,N.__)("%d variations do not have prices. Variations that do not have prices will not be visible to customers.","woocommerce"),s):"";return(0,_.createElement)("div",{...i},(0,_.createElement)(ic,{ref:u,noticeText:f,onNoticeDismiss:()=>{o.current=!0,m({variable_items_without_price_notice_dismissed:{...d||{},[n]:"yes"}})},noticeActions:[{label:(0,N.__)("Set prices","woocommerce"),onClick:function(e){(0,U.recordEvent)("product_variations_set_prices_select",{source:V});const t=(0,a.resolveSelect)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME).getProductVariations({product_id:n,order:"asc",orderby:"menu_order",has_price:!1,_fields:["id"],per_page:s});Mi({onOk(o){(0,U.recordEvent)("product_variations_set_prices_update",{source:V}),t.then((t=>{e(t.map((({id:e})=>({id:e,regular_price:o}))))}))}})},className:"is-destructive"}],onVariationTableChange:(e,t)=>{("delete"===e||"update"===e&&t&&t.find((e=>"regular_price"in e||"sale_price"in e)))&&r("getProductVariationsTotalCount",[l])}}),t.isInSelectedTab&&(0,_.createElement)(cc,null))}};function dc(){return zt({name:lc,metadata:sc,settings:mc})}const uc=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-variations-options-field","title":"Product variations options","category":"woocommerce","description":"The product variations options.","keywords":["products","variations"],"textdomain":"default","attributes":{"description":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),{name:pc,..._c}=uc,fc={example:{},edit:function({attributes:e,context:t}){const o=(0,Ht.useWooBlockProps)(e),{generateProductVariations:r}=ri(),{updateUserPreferences:n,local_attributes_notice_dismissed_ids:a=[]}=(0,x.useUserPreferences)(),[i,c]=(0,ne.useEntityProp)("postType","product","attributes"),[l,s]=(0,ne.useEntityProp)("postType","product","default_attributes"),{postType:m}=t,d=(0,ne.useEntityId)("postType",m),{attributes:u,handleChange:p}=Xa({allAttributes:i,isVariationAttributes:!0,productId:(0,ne.useEntityId)("postType","product"),onChange(e,t){c(e),s(t),r(e,t)}}),g=u.filter((e=>0===e.id)).map((e=>e.name));let h="";return g.length>0&&!(null==a?void 0:a.includes(d))&&(h=(0,_.createInterpolateElement)((0,N.__)("Buyers canâ€™t search or filter by <attributeNames /> to find the variations. Consider adding them again as <globalAttributeLink>global attributes</globalAttributeLink> to make them easier to discover.","woocommerce"),{attributeNames:(0,_.createElement)("span",null,2===g.length?g.join((0,N.__)(" and ","woocommerce")):g.join(", ")),globalAttributeLink:(0,_.createElement)(f.Link,{href:(0,hr.getAdminLink)("edit.php?post_type=product&page=product_attributes"),type:"external",target:"_blank"})})),(0,_.createElement)("div",{...o},(0,_.createElement)(qa,{value:(0,_.useMemo)((function(){return u.map((e=>({...e,isDefault:l.some((t=>t.id===e.id||t.name===e.name))})))}),[u,l]),onAdd:()=>{(0,U.recordEvent)("product_options_modal_add_button_click")},onChange:p,createNewAttributesAsGlobal:!0,useRemoveConfirmationModal:!0,onNoticeDismiss:()=>n({local_attributes_notice_dismissed_ids:[...a,d]}),onAddAnother:()=>{(0,U.recordEvent)("product_add_options_modal_add_another_option_button_click")},onNewModalCancel:()=>{(0,U.recordEvent)("product_options_modal_cancel_button_click")},onNewModalOpen:()=>{(0,U.recordEvent)("product_options_add_option")},onRemoveItem:()=>{(0,U.recordEvent)("product_add_options_modal_remove_option_button_click")},onRemove:()=>(0,U.recordEvent)("product_remove_option_confirmation_confirm_click"),onRemoveCancel:()=>(0,U.recordEvent)("product_remove_option_confirmation_cancel_click"),disabledAttributeIds:i.filter((e=>!e.variation)).map((e=>e.id)),termsAutoSelection:"all",uiStrings:{notice:h,globalAttributeHelperMessage:"",customAttributeHelperMessage:"",newAttributeModalNotice:"",newAttributeModalTitle:(0,N.__)("Add variation options","woocommerce"),newAttributeModalDescription:(0,N.__)("Select from existing attributes or create new ones to add new variations for your product. You can change the order later.","woocommerce"),attributeRemoveLabel:(0,N.__)("Remove variation option","woocommerce"),attributeRemoveConfirmationModalMessage:(0,N.__)("If you continue, some variations of this product will be deleted and customers will no longer be able to purchase them.","woocommerce")}}))}};function gc(){return zt({name:pc,metadata:_c,settings:fc})}const hc=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-single-variation-notice","title":"Notice","category":"woocommerce","description":"Notice description","keywords":["products","notice"],"textdomain":"default","attributes":{"title":{"type":"string"},"content":{"type":"string"},"isDismissible":{"type":"boolean"},"type":{"type":"string"}},"supports":{"align":false,"html":true,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}');const{name:wc,...vc}=hc,Ec={example:{},edit:function({attributes:e}){const t=(0,Ht.useWooBlockProps)(e),{content:o,isDismissible:r,title:n,type:i="info"}=e,[c]=(0,ne.useEntityProp)("postType","product_variation","parent_id"),{dismissedNotices:l,dismissNotice:s,isResolving:m}=function(){const{updateOptions:e}=(0,a.useDispatch)(x.OPTIONS_STORE_NAME),{dismissedNotices:t,isResolving:o}=(0,a.useSelect)((e=>{const{getOption:t,hasFinishedResolution:o}=e(x.OPTIONS_STORE_NAME);return{dismissedNotices:t(M)||[],isResolving:!o("getOption",[M])}}),[]);return{dismissedNotices:t,dismissNotice:async t=>{const{dismissedNoticesOption:o}=await(async()=>{const{getOption:e}=(0,a.resolveSelect)(x.OPTIONS_STORE_NAME);return{dismissedNoticesOption:await e(M)||[]}})();e({[M]:[...o,t]})},isResolving:o}}(),{parentName:d,isParentResolving:u}=(0,a.useSelect)((e=>{const{getEditedEntityRecord:t,hasFinishedResolution:o}=e("core"),{name:r}=t("postType","product",c);return{parentName:r||"",isParentResolving:!o("getEditedEntityRecord",["postType","product",c])}}));return l.includes(c)||m||u||""===d?null:(0,_.createElement)("div",{...t},(0,_.createElement)(Ma,{title:n,type:i,isDismissible:r,handleDismiss:()=>{(0,U.recordEvent)("product_single_variation_notice_dismissed"),s(c)}},(0,_.createInterpolateElement)(o,{strong:(0,_.createElement)("strong",null),noticeLink:(0,_.createElement)(f.Link,{href:(0,Ie.getNewPath)({tab:"variations"},`/product/${c}`),onClick:()=>{(0,U.recordEvent)("product_single_variation_notice_click")}}),parentProductName:(0,_.createElement)("span",null,d)})))}};function bc(){return zt({name:wc,metadata:vc,settings:Ec})}const yc=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-has-variations-notice","title":"Notice","category":"woocommerce","description":"Notice description","keywords":["products","notice"],"textdomain":"default","attributes":{"title":{"type":"string"},"content":{"type":"string"},"buttonText":{"type":"string"},"type":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),{name:Cc,...kc}=yc,Sc={example:{},edit:function({attributes:e}){const t=(0,Ht.useWooBlockProps)(e),{buttonText:o,content:r,title:n,type:a="info"}=e,[i]=(0,ne.useEntityProp)("postType","product","attributes"),c=ni(i);return(0,_.createElement)("div",{...t},c&&(0,_.createElement)(Ma,{content:r,title:n,type:a},(0,_.createElement)(h.Button,{isSecondary:!0,onClick:()=>(0,Ie.navigateTo)({url:(0,Ie.getNewPath)({tab:"variations"})})},o)))}};function Nc(){return zt({name:Cc,metadata:kc,settings:Sc})}const Tc=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-taxonomy-field","title":"Taxonomy","category":"widgets","description":"A block that displays a taxonomy field, allowing searching, selection, and creation of new items","keywords":["taxonomy"],"textdomain":"default","attributes":{"slug":{"type":"string","__experimentalRole":"content"},"property":{"type":"string","__experimentalRole":"content"},"label":{"type":"string","__experimentalRole":"content"},"createTitle":{"type":"string","__experimentalRole":"content"},"dialogNameHelpText":{"type":"string","__experimentalRole":"content"},"parentTaxonomyText":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}');async function xc(e,t){const o=[],r={};return e.forEach((e=>{r[e.id]=e})),e.forEach((e=>{e.parent>0&&!r[e.parent]&&o.push(e.parent)})),o.length>0?(0,a.resolveSelect)("core").getEntityRecords("taxonomy",t,{include:o}).then((o=>xc([...o,...e],t))):e}const Pc=(e,t={fetchParents:!0})=>{const[o,r]=(0,_.useState)(!1);return{searchEntity:async function(o){r(!0);let n=[];try{n=await(0,a.resolveSelect)("core").getEntityRecords("taxonomy",e,{per_page:30,search:(0,f.escapeHTML)(o)}),(null==t?void 0:t.fetchParents)&&(n=await xc(n,e))}finally{r(!1)}return n},isResolving:o}},Ac=({onCancel:e,onCreate:t,initialName:o,slug:r,hierarchical:n,dialogNameHelpText:i,parentTaxonomyText:c,title:l})=>{const[s,m]=(0,_.useState)(""),[d,u]=(0,_.useState)([]),{searchEntity:p,isResolving:g}=Pc(r),w=(0,se.useDebounce)((0,_.useCallback)((e=>p(e||"").then(u)),[]),150);(0,_.useEffect)((()=>{w("")}),[]);const{saveEntityRecord:v}=(0,a.useDispatch)("core"),[E,b]=(0,_.useState)(!1),[y,C]=(0,_.useState)(null),[k,S]=(0,_.useState)(o||""),[T,x]=(0,_.useState)(null),P=(0,se.useInstanceId)(h.BaseControl,"taxonomy_name"),A=(0,se.useInstanceId)(f.__experimentalSelectTreeControl,"parent-taxonomy-select");return(0,_.createElement)(h.Modal,{title:l,onRequestClose:e,className:"woocommerce-create-new-taxonomy-modal"},(0,_.createElement)("div",{className:"woocommerce-create-new-taxonomy-modal__wrapper"},(0,_.createElement)(h.BaseControl,{id:P,label:(0,N.__)("Name","woocommerce"),help:y||i,className:le()({"has-error":y})},(0,_.createElement)(h.TextControl,{id:P,value:k,onChange:S})),n&&(0,_.createElement)(f.__experimentalSelectTreeControl,{isLoading:g,label:(0,_.createInterpolateElement)(`${c||(0,N.__)("Parent","woocommerce")} <optional/>`,{optional:(0,_.createElement)("span",{className:"woocommerce-create-new-taxonomy-modal__optional"},(0,N.__)("(optional)","woocommerce"))}),id:A,items:d.map((e=>({label:e.name,value:String(e.id),parent:e.parent>0?String(e.parent):void 0}))),shouldNotRecursivelySelect:!0,selected:T?{value:String(T.id),label:T.name}:void 0,onSelect:e=>e&&x({id:+e.value,name:e.label,parent:e.parent?+e.parent:0}),onRemove:()=>x(null),onInputChange:e=>{w(e),m(e||"")},createValue:s}),(0,_.createElement)("div",{className:"woocommerce-create-new-taxonomy-modal__buttons"},(0,_.createElement)(h.Button,{variant:"tertiary",onClick:e,disabled:E},(0,N.__)("Cancel","woocommerce")),(0,_.createElement)(h.Button,{variant:"primary",disabled:0===k.length||E,isBusy:E,onClick:async()=>{C(null),b(!0);try{const e=await v("taxonomy",r,{name:k,parent:T?T.id:null},{throwOnError:!0});b(!1),t(e)}catch(e){if(b(!1),!e.message)throw C((0,N.__)("Failed to create taxonomy","woocommerce")),e;C(e.message)}}},(0,N.__)("Create","woocommerce")))))},{name:Ic}=Tc,Mc={example:{},edit:function({attributes:e,context:{postType:t}}){const o=(0,Ht.useWooBlockProps)(e),{hierarchical:r}=(0,a.useSelect)((t=>t("core").getTaxonomy(e.slug)||{hierarchical:!1})),{label:n,slug:i,property:c,createTitle:l,dialogNameHelpText:s,parentTaxonomyText:m,disabled:d}=e,[u,p]=(0,_.useState)(""),[g,h]=(0,_.useState)([]),{searchEntity:w,isResolving:v}=Pc(i,{fetchParents:r}),E=(0,se.useDebounce)((0,_.useCallback)((e=>{p(e),w(e||"").then(h)}),[r]),150);(0,_.useEffect)((()=>{E("")}),[]);const[b,y]=Zt(c,{postType:t,fallbackValue:[]}),C=(b||[]).map((e=>({value:String(e.id),label:e.name}))),[k,S]=(0,_.useState)(!1),N=g.map((e=>({parent:r&&e.parent&&e.parent>0?String(e.parent):void 0,label:e.name,value:String(e.id)})));return(0,_.createElement)("div",{...o},(0,_.createElement)(_.Fragment,null,(0,_.createElement)(f.__experimentalSelectTreeControl,{id:(0,se.useInstanceId)(f.__experimentalSelectTreeControl,"woocommerce-taxonomy-select"),label:n,isLoading:v,disabled:d,multiple:!0,createValue:u,onInputChange:E,shouldNotRecursivelySelect:!0,shouldShowCreateButton:e=>!e||-1===N.findIndex((t=>t.label.toLowerCase()===e.toLowerCase())),onCreateNew:()=>S(!0),items:N,selected:C,onSelect:e=>{Array.isArray(e)?y([...e.map((e=>({id:+e.value,name:e.label,parent:+(e.parent||0)}))),...b||[]]):y([{id:+e.value,name:e.label,parent:+(e.parent||0)},...b||[]])},onRemove:e=>{Array.isArray(e)?y((b||[]).filter((t=>!e.find((e=>e.value===String(t.id)))))):y((b||[]).filter((t=>String(t.id)!==e.value)))}}),k&&(0,_.createElement)(Ac,{slug:i,hierarchical:r,title:l,dialogNameHelpText:s,parentTaxonomyText:m,onCancel:()=>S(!1),onCreate:e=>{S(!1),p(""),y([{id:e.id,name:e.name,parent:e.parent},...b||[]])},initialName:u})))}},Rc=()=>zt({name:Ic,metadata:Tc,settings:Mc}),Lc=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-text-field","title":"Product text field","category":"woocommerce","description":"A text field for use in the product editor.","keywords":["products","text"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"property":{"type":"string"},"placeholder":{"type":"string"},"help":{"type":"string"},"tooltip":{"type":"string"},"suffix":{"type":"object"},"type":{"type":"object"},"required":{"type":"object"},"pattern":{"type":"object"},"minLength":{"type":"object"},"maxLength":{"type":"object"},"min":{"type":"object"},"max":{"type":"object"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css","usesContext":["postType"]}'),Dc=(0,_.forwardRef)((function({label:e,help:t,error:o,tooltip:r,className:n,required:a,onChange:i,onBlur:c,...l},s){return(0,_.createElement)(h.__experimentalInputControl,{...l,ref:s,className:le()(n,{"has-error":o}),label:(0,_.createElement)(Pr,{label:e,required:a,tooltip:r}),required:a,help:o||t,onChange:i,onBlur:c})})),{name:Oc,...Bc}=Lc,Fc={example:{},edit:function({attributes:e,context:{postType:t}}){var o;const r=(0,Ht.useWooBlockProps)(e),{property:n,label:a,placeholder:i,required:c,pattern:l,minLength:s,maxLength:m,min:d,max:u,help:p,tooltip:g,disabled:h,type:w,suffix:v}=e,[E,b]=Zt(n,{postType:t,fallbackValue:""}),{hasEdit:y}=et(),C=(0,_.useRef)(null),{error:k,validate:S}=wr(n,(async function(){var e,t,o,r,n,a;if(!C.current)return;const i=C.current;let p="";return i.validity.typeMismatch&&(p=null!==(e=null==w?void 0:w.message)&&void 0!==e?e:(0,N.__)("Invalid value for the field.","woocommerce")),i.validity.valueMissing&&(p="string"==typeof c?c:(0,N.__)("This field is required.","woocommerce")),i.validity.patternMismatch&&(p=null!==(t=null==l?void 0:l.message)&&void 0!==t?t:(0,N.__)("Invalid value for the field.","woocommerce")),i.validity.tooShort&&(p=(0,N.sprintf)(null!==(o=null==s?void 0:s.message)&&void 0!==o?o:(0,N.__)("The minimum length of the field is %d","woocommerce"),null==s?void 0:s.value)),i.validity.tooLong&&(p=(0,N.sprintf)(null!==(r=null==m?void 0:m.message)&&void 0!==r?r:(0,N.__)("The maximum length of the field is %d","woocommerce"),null==m?void 0:m.value)),i.validity.rangeUnderflow&&(p=(0,N.sprintf)(null!==(n=null==d?void 0:d.message)&&void 0!==n?n:(0,N.__)("The minimum value of the field is %d","woocommerce"),null==d?void 0:d.value)),i.validity.rangeOverflow&&(p=(0,N.sprintf)(null!==(a=null==u?void 0:u.message)&&void 0!==a?a:(0,N.__)("The maximum value of the field is %d","woocommerce"),null==u?void 0:u.value)),i.setCustomValidity(p),i.validity.valid?void 0:i.validationMessage}),[w,c,l,s,m,d,u]);return(0,_.createElement)("div",{...r},(0,_.createElement)(Dc,{ref:C,type:null!==(o=null==w?void 0:w.value)&&void 0!==o?o:"text",value:E,disabled:h,label:a,onChange:b,onBlur:()=>{y(n)&&S()},error:k,help:p,placeholder:i,tooltip:g,suffix:function(){if(!v||!E||!C.current)return;const e="url"===C.current.type&&!C.current.validity.typeMismatch;return!0===v&&e?(0,_.createElement)(f.Link,{type:"external",href:E,target:"_blank",rel:"noreferrer",className:"wp-block-woocommerce-product-text-field__suffix-link"},(0,_.createElement)(Pe,{icon:gt,size:20})):"string"==typeof v?v:void 0}(),required:Boolean(c),pattern:null==l?void 0:l.value,minLength:null==s?void 0:s.value,maxLength:null==m?void 0:m.value,min:null==d?void 0:d.value,max:null==u?void 0:u.value}))}},Vc=()=>zt({name:Oc,metadata:Bc,settings:Fc}),Hc=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-number-field","title":"Product number control","category":"woocommerce","description":"A reusable number field for the product editor.","keywords":["products","number","input"],"textdomain":"default","attributes":{"label":{"type":"string","__experimentalRole":"content"},"property":{"type":"string"},"suffix":{"type":"string"},"help":{"type":"string"},"placeholder":{"type":"string"},"min":{"type":"number"},"max":{"type":"number"},"tooltip":{"type":"string"},"required":{"type":"boolean","default":false},"step":{"type":"number","default":1}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),Uc=({value:e,onChange:t,label:o,suffix:r,help:n,error:a,onBlur:i,required:c,tooltip:l,placeholder:s,disabled:m,step:d})=>{const u=$o({value:e||"",onChange:t}),p=(0,se.useInstanceId)(h.BaseControl,"product_number_field");return(0,_.createElement)(h.BaseControl,{className:le()({"has-error":a}),id:p,label:(0,_.createElement)(Pr,{label:o,required:c,tooltip:l}),help:a||n},(0,_.createElement)(h.__experimentalInputControl,{...u,step:d,disabled:m,id:p,suffix:r,placeholder:s,onBlur:i}))},{name:zc,...$c}=Hc,Wc={example:{},edit:function({attributes:e,context:{postType:t}}){const o=(0,Ht.useWooBlockProps)(e),{label:r,property:n,suffix:a,placeholder:i,help:c,min:l,max:s,required:m,tooltip:d,disabled:u,step:p}=e,[f,g]=Zt(n,{postType:t,fallbackValue:""}),{hasEdit:h}=et(),{error:w,validate:v}=wr(n,(async function(){return"number"==typeof l&&f&&parseFloat(f)<l?(0,N.sprintf)((0,N.__)("Value must be greater than or equal to %d","woocommerce"),l):"number"==typeof s&&f&&parseFloat(f)>s?(0,N.sprintf)((0,N.__)("Value must be less than or equal to %d","woocommerce"),s):m&&!f?(0,N.__)("This field is required.","woocommerce"):void 0}),[f]);return(0,_.createElement)("div",{...o},(0,_.createElement)(Uc,{label:r,onChange:g,value:f||"",help:c,suffix:a,placeholder:i,error:w,onBlur:()=>{h(n)&&v()},required:m,tooltip:d,disabled:u,step:p}))}},Gc=()=>zt({name:zc,metadata:$c,settings:Wc});function jc(){const e=(0,Ft.__experimentalGetCoreBlocks)().filter((e=>!(0,K.getBlockType)(e.name)));(0,Ft.registerCoreBlocks)(e);const t=Object.values(n).map((e=>e())),o=[...e,...t];return function(){o.forEach((e=>e&&(0,K.unregisterBlockType)(e.name)))}}function qc({clientId:e}){const t=(0,a.useSelect)((t=>{const{getBlockAttributes:o,getBlockName:r}=t("core/block-editor"),n=o(e);if(null==n?void 0:n.icon)return n.icon;const{getBlockType:a}=t("core/blocks"),i=r(e),c=a(null!=i?i:void 0);return null==c?void 0:c.icon}),[e]);if(!t)return null;if("object"==typeof t){const{src:e,...o}=t;if(/^<(.)+>$/.test(e)){const t=(0,_.createElement)(_.RawHTML,{"aria-hidden":"true",...o},e);return(0,_.createElement)(Ye.BlockIcon,{icon:t,showColors:!0})}if(/^https?:\/\/(.)+/.test(e)){const t=(0,_.createElement)("img",{src:e,alt:"","aria-hidden":"true",...o,height:24,width:24});return(0,_.createElement)(Ye.BlockIcon,{icon:t,showColors:!0})}}return(0,_.createElement)(Ye.BlockIcon,{icon:t,showColors:!0})}const Zc=window.wc.customerEffortScore,Jc=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());function Xc({productType:e}){const{hideFeedbackBar:t,shouldShowFeedbackBar:o}=ze(),{showCesModal:r,showProductMVPFeedbackModal:n}=(0,Zc.useCustomerEffortScoreModal)(),a=()=>({product_type:e});return(0,_.createElement)(_.Fragment,null,o&&(0,_.createElement)("div",{className:"woocommerce-product-mvp-ces-footer"},(0,_.createElement)(f.Pill,null,"Beta"),(0,_.createElement)("div",{className:"woocommerce-product-mvp-ces-footer__message"},(0,_.createInterpolateElement)((0,N.__)("How is your experience with the new product form? <span><shareButton>Share feedback</shareButton> or <turnOffButton>turn it off</turnOffButton></span>","woocommerce"),{span:(0,_.createElement)("span",{className:"woocommerce-product-mvp-ces-footer__message-buttons"}),shareButton:(0,_.createElement)(h.Button,{variant:"link",onClick:()=>{(0,U.recordEvent)("product_editor_feedback_bar_share_feedback_click",{...a()}),r({action:A,showDescription:!1,title:(0,N.__)("What do you think of the new product form?","woocommerce"),firstQuestion:(0,N.__)("The product editing screen is easy to use","woocommerce"),secondQuestion:(0,N.__)("Product form is easy to use","woocommerce"),onsubmitLabel:(0,N.__)("Thanks for the feedback â€” we'll put it to good use!","woocommerce"),shouldShowComments:()=>!1,getExtraFieldsToBeShown:(e,t,o)=>(0,_.createElement)(_.Fragment,null,(0,_.createElement)(h.BaseControl,{id:"feedback_additional_thoughts",className:"woocommerce-product-feedback__additional-thoughts",label:(0,_.createInterpolateElement)((0,N.__)("ADDITIONAL THOUGHTS <optional />","woocommerce"),{optional:(0,_.createElement)("span",{className:"woocommerce-product-feedback__optional-input"},(0,N.__)("(OPTIONAL)","woocommerce"))})},(0,_.createElement)(h.TextareaControl,{value:e.additional_thoughts||"",onChange:o=>t({...e,additional_thoughts:o}),help:(null==o?void 0:o.additional_thoughts)||""})),(0,_.createElement)(h.BaseControl,{id:"feedback_email",className:"woocommerce-product-feedback__email",label:(0,_.createInterpolateElement)((0,N.__)("YOUR EMAIL ADDRESS <optional />","woocommerce"),{optional:(0,_.createElement)("span",{className:"woocommerce-product-feedback__optional-input"},(0,N.__)("(OPTIONAL)","woocommerce"))})},(0,_.createElement)(h.TextControl,{value:e.email||"",onChange:o=>t({...e,email:o}),help:(null==o?void 0:o.email)||""}),(0,_.createElement)("span",null,(0,N.__)("In case you want to participate in further discussion and future user research.","woocommerce")))),validateExtraFields:({email:e="",additional_thoughts:t=""})=>{const o={};return e.length>0&&!Jc(e)&&(o.email=(0,N.__)("Please enter a valid email address.","woocommerce")),(null==t?void 0:t.length)>500&&(o.additional_thoughts=(0,N.__)("Please enter no more than 500 characters.","woocommerce")),o}},{},{type:"snackbar"})}}),turnOffButton:(0,_.createElement)(h.Button,{onClick:()=>{(0,U.recordEvent)("product_editor_feedback_bar_turnoff_editor_click",{...a()}),t(),n()},variant:"link"})})),(0,_.createElement)(h.Button,{className:"woocommerce-product-mvp-ces-footer__close-button",icon:xt,label:(0,N.__)("Hide this message","woocommerce"),onClick:()=>{(0,U.recordEvent)("product_editor_feedback_bar_dismiss_click",{...a()}),t()}})))}var Yc=o(7862),Kc=o.n(Yc);const Qc=window.wc.experimental;function el({recordScoreCallback:e,onCloseModal:t}){const[o,r]=(0,_.useState)(!1),[n,i]=(0,_.useState)(!1),[c,l]=(0,_.useState)(!1),[s,m]=(0,_.useState)(!1),[d,u]=(0,_.useState)(!1),p=[{key:"missing-features",label:(0,N.__)("Missing features","woocommerce"),checked:o,onChange:r},{key:"missing-plugins",label:(0,N.__)("Missing plugins","woocommerce"),checked:n,onChange:i},{key:"difficult-to-use",label:(0,N.__)("It's difficult to use","woocommerce"),checked:c,onChange:l},{key:"slow-buggy-or-broken",label:(0,N.__)("It's slow, buggy, or broken","woocommerce"),checked:s,onChange:m},{key:"other",label:(0,N.__)("Other (describe below)","woocommerce"),checked:d,onChange:u}],[f,g]=(0,_.useState)(""),[w,v]=(0,_.useState)(""),E=p.filter((e=>e.checked)).map((e=>e.key)),{createSuccessNotice:b}=(0,a.useDispatch)("core/notices"),y=(0,_.createElement)("span",{className:"woocommerce-product-mvp-feedback-modal__optional"},(0,N.__)("(optional)","woocommerce"));return(0,_.createElement)(Zc.FeedbackModal,{title:(0,N.__)("Thanks for trying out the new product form!","woocommerce"),onSubmit:()=>{e(E,f,w),b((0,N.__)("Thanks for the feedback â€” we'll put it to good use!","woocommerce"))},onModalClose:t,isSubmitButtonDisabled:!E.length,submitButtonLabel:(0,N.__)("Send","woocommerce"),cancelButtonLabel:(0,N.__)("Skip","woocommerce"),className:"woocommerce-product-mvp-feedback-modal"},(0,_.createElement)(_.Fragment,null,(0,_.createElement)(Qc.Text,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px"}),(0,_.createElement)("fieldset",{className:"woocommerce-product-mvp-feedback-modal__reason"},(0,_.createElement)("legend",null,(0,N.__)("What made you turn off the new product form?","woocommerce")),(0,_.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__checkboxes"},p.map(((e,t)=>(0,_.createElement)(h.CheckboxControl,{key:t,label:e.label,name:e.key,checked:e.checked,onChange:e.onChange}))))),(0,_.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__comments"},(0,_.createElement)(h.TextareaControl,{label:(0,_.createInterpolateElement)((0,N.__)("Additional thoughts <optional/>","woocommerce"),{optional:y}),value:f,onChange:e=>g(e),rows:5})),(0,_.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__email"},(0,_.createElement)(h.TextControl,{label:(0,_.createInterpolateElement)((0,N.__)("Your email address <optional/>","woocommerce"),{optional:y}),value:w,onChange:e=>v(e),rows:5,help:(0,N.__)("In case you want to participate in further discussion and future user research.","woocommerce")}))))}el.propTypes={recordScoreCallback:Kc().func.isRequired,onCloseModal:Kc().func};const tl=({productId:e})=>{const{values:t}=(0,f.useFormContext)(),{hideProductMVPFeedbackModal:o}=(0,a.useDispatch)(Zc.STORE_KEY),{isProductMVPModalVisible:r}=(0,a.useSelect)((e=>{const{isProductMVPFeedbackModalVisible:t}=e(Zc.STORE_KEY);return{isProductMVPModalVisible:t()}})),n=null!=e?e:null==t?void 0:t.id,{_feature_nonce:i}=(0,hr.getSetting)("admin",{}),c=n?(0,hr.getAdminLink)(`post.php?post=${n}&action=edit&product_block_editor=0&_feature_nonce=${i}`):(0,hr.getAdminLink)(`post-new.php?post_type=product&product_block_editor=0&_feature_nonce=${i}`);return r?(0,_.createElement)(el,{recordScoreCallback:(e,t,r)=>{(0,U.recordEvent)("product_mvp_feedback",{action:"disable",checked:e,comments:t||"",email:r}),o(),window.location.href=`${c}&new-product-experience-disabled=true`},onCloseModal:()=>{(0,U.recordEvent)("product_mvp_feedback",{action:"disable",checked:"",comments:""}),o(),window.location.href=c}}):null},ol=(0,_.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_.createElement)(de.Path,{d:"M14.3 6.7l-1.1 1.1 4 4H4v1.5h13.3l-4.1 4.4 1.1 1.1 5.8-6.3z"}));function rl({position:e}){return(0,_.createElement)(h.Button,{"data-testid":"woocommerce-product-variation-switcher-footer-placeholder",className:"woocommerce-product-variation-switcher-footer__button is-placeholder",disabled:!0},"left"===e&&(0,_.createElement)(_.Fragment,null,(0,_.createElement)(Pe,{icon:ot,size:16,className:"woocommerce-product-variation-switcher-footer__arrow"}),(0,_.createElement)("div",{className:"woocommerce-product-variation-switcher-footer__product-image"})),(0,_.createElement)("div",{className:"woocommerce-product-variation-switcher-footer__item-label"}),"right"===e&&(0,_.createElement)(_.Fragment,null,(0,_.createElement)("div",{className:"woocommerce-product-variation-switcher-footer__product-image"}),(0,_.createElement)(Pe,{icon:ol,size:16,className:"woocommerce-product-variation-switcher-footer__arrow"})))}function nl({className:e}){return(0,_.createElement)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:{borderRadius:"3px",background:"var(--wp-gray-gray-0, #F6F7F7)"}},(0,_.createElement)("g",{clipPath:"url(#clip0_7819_478402)"},(0,_.createElement)("path",{d:"M22.9869 7.07134C19.8275 7.07134 17.9977 7.62377 16.9543 8.85386C17.6297 6.47326 18.8776 4.68605 21.1572 3.06738C18.4558 3.41616 16.8877 4.44261 16.1282 5.91147C15.3688 4.44378 13.8007 3.41733 11.0993 3.06738C13.3789 4.68605 14.6268 6.47209 15.3021 8.85386C14.2587 7.62377 12.429 7.07134 9.26953 7.07134C13.0354 8.83982 14.4761 10.263 15.7029 12.8133H16.5524C17.7792 10.263 19.2211 8.83982 22.9858 7.07134H22.9869Z",fill:"#BBBBBB"}),(0,_.createElement)("path",{d:"M18.6464 34.8438C19.8718 34.3897 24.3648 33.3925 24.3648 29.0402C24.3648 26.4551 22.0269 24.5052 19.3727 24.0527C20.5536 23.6669 22.278 21.9488 22.278 20.0211C22.278 17.5377 20.0307 16.5469 18.1934 16.1626C18.1934 15.5957 20.2357 12.6709 20.2357 12.6709H11.7932C11.7932 12.6709 13.8355 15.5957 13.8355 16.1626C11.9966 16.5485 9.75086 17.5377 9.75086 20.0211C9.75086 21.9488 11.4753 23.6669 12.6562 24.0527C10.0004 24.5068 7.66406 26.4567 7.66406 29.0402C7.66406 33.3941 12.1571 34.3913 13.3825 34.8438C10.4772 35.1154 9.02453 36.2491 8.79885 37.1558H23.2316C23.0043 36.2491 21.5517 35.1154 18.648 34.8438H18.6464Z",fill:"#DDDDDD"})),(0,_.createElement)("defs",null,(0,_.createElement)("clipPath",{id:"clip0_7819_478402"},(0,_.createElement)("rect",{width:"34.0881",height:"25.9994",fill:"white",transform:"translate(-1)"}))))}function al({variationId:e,parentId:t,parentProductType:o}){const{invalidateResolution:r}=(0,a.useDispatch)("core"),{invalidateResolutionForStoreSelector:n}=(0,a.useDispatch)(x.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),i=(0,a.useSelect)((r=>{if(void 0===t)return{};const{getEntityRecord:n}=r("core"),a=n("postType",o||"product",t);if(void 0!==e&&a&&a.variations){const t=a.variations.indexOf(e),o=t>0?t-1:null,r=t!==a.variations.length-1?t+1:null;return{activeVariationIndex:t,nextVariationIndex:r,previousVariationIndex:o,numberOfVariations:a.variations.length,previousVariationId:null!==o?a.variations[o]:null,nextVariationId:null!==r?a.variations[r]:null}}return{}}),[e,t]);function c(e){(0,Ie.navigateTo)({url:(0,Ie.getNewPath)({},`/product/${t}/variation/${e}`)})}return{...i,invalidateVariationList:function(){r("getEntityRecord",["postType",o||"product",t]),n("getProductVariations"),n("getProductVariationsTotalCount")},goToVariation:c,goToNextVariation:function(){return void 0!==i.nextVariationId&&null!==i.nextVariationId&&(c(i.nextVariationId),!0)},goToPreviousVariation:function(){return void 0!==i.previousVariationId&&null!==i.previousVariationId&&(c(i.previousVariationId),!0)}}}function il({parentProductType:e,variationId:t,parentId:o}){const{numberOfVariations:r,nextVariationId:n,previousVariationId:i,activeVariationIndex:c,nextVariationIndex:l,previousVariationIndex:s,goToNextVariation:m,goToPreviousVariation:d}=al({variationId:t,parentId:o,parentProductType:e}),{previousVariation:u,nextVariation:p}=(0,a.useSelect)((e=>{const{getEntityRecord:t}=e("core");return r&&r>0?{previousVariation:null!==i&&t("postType","product_variation",i),nextVariation:null!==n&&t("postType","product_variation",n)}:{}}),[n,i,r]);return!r||r<2?null:(0,_.createElement)("div",{className:"woocommerce-product-variation-switcher-footer"},u&&(0,_.createElement)(h.Button,{className:"woocommerce-product-variation-switcher-footer__button woocommerce-product-variation-switcher-footer__button-previous",label:(0,N.__)("Previous","woocommerce"),onClick:function(){u&&((0,U.recordEvent)("product_variation_switch_previous",{variation_length:r,variation_id:null==u?void 0:u.id,variation_index:c,previous_variation_index:s}),d())}},(0,_.createElement)(Pe,{icon:ot,size:16}),u.image?(0,_.createElement)("img",{alt:u.image.alt||"",src:u.image.src,className:"woocommerce-product-variation-switcher-footer__product-image"}):(0,_.createElement)(nl,{className:"woocommerce-product-variation-switcher-footer__product-image"}),u.name),!u&&null!==i&&(0,_.createElement)(rl,{position:"left"}),p&&(0,_.createElement)(h.Button,{className:"woocommerce-product-variation-switcher-footer__button woocommerce-product-variation-switcher-footer__button-next",label:(0,N.__)("Next","woocommerce"),onClick:function(){p&&((0,U.recordEvent)("product_variation_switch_next",{variation_length:r,variation_id:null==p?void 0:p.id,variation_index:c,next_variation_index:l}),m())}},p.name,p.image?(0,_.createElement)("img",{alt:p.image.alt||"",src:p.image.src,className:"woocommerce-product-variation-switcher-footer__product-image"}):(0,_.createElement)(nl,{className:"woocommerce-product-variation-switcher-footer__product-image"}),(0,_.createElement)(Pe,{icon:ol,size:16})),!p&&null!==n&&(0,_.createElement)(rl,{position:"right"}))}function cl(){return(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton","aria-hidden":"true"},(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header"},(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header-row"},(0,_.createElement)("div",null),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header-title"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions"},(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions-other"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions-main"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header-actions-config"}))),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__header-row"},(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__tabs"},Array(7).fill(0).map(((e,t)=>(0,_.createElement)("div",{key:t,className:"woocommerce-product-page-skeleton__tab-item"})))))),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__body"},(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__body-tabs-content"},(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-title"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-input"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-separator"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-title"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-input"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-label"}),(0,_.createElement)("div",{className:"woocommerce-product-page-skeleton__block-textarea"}))))}const ll=e=>{const{symbol:t,symbolPosition:o}=e;return{[o.includes("left")?"prefix":"suffix"]:t}};var sl;!function(e){e.unsaved="unsaved",e.draft="draft",e.instock="instock",e.outofstock="outofstock"}(sl||(sl={}));const ml={[sl.unsaved]:(0,N.__)("Unsaved","woocommerce"),[sl.draft]:(0,N.__)("Draft","woocommerce"),[sl.instock]:(0,N.__)("In stock","woocommerce"),[sl.outofstock]:(0,N.__)("Out of stock","woocommerce")},dl=e=>e?"draft"===e.status?sl.draft:"instock"===e.stock_status?sl.instock:sl.outofstock:sl.unsaved,ul=(e,t,o)=>(null==e?void 0:e.length)?e:o&&o!==j?o:"simple"===t?(0,N.__)("New standard product","woocommerce"):(0,N.__)("New product","woocommerce"),pl=e=>{var t;return(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.length)?e.attributes.map((e=>e.option)).join(", "):"#"+e.id},_l=e=>{const t=pl(e);return t.length>32?t.substring(0,32)+"â€¦":t};function fl(e){if(fe()("initBlock()",{alternative:"registerProductEditorBlockType()"}),e)return zt(e)}const gl=window.wp.apiFetch;var hl=o.n(gl);const wl=[{matcher:new RegExp("^/wp/v2/product(?!_)"),getReplaceString:()=>"/wc/v3/products"},{matcher:new RegExp("^/wp/v2/product_variation"),replacement:"/wc/v3/products/0/variations",getReplaceString:()=>{const e=(0,Ie.getQuery)(),t=new RegExp("/product/([0-9]+)/variation/([0-9]+)"),o=(e.path||"").match(t);return o&&3===o.length?"/wc/v3/products/"+o[1]+"/variations":"/wc/v3/products/0/variations"}}],vl=()=>{hl().use(((e,t)=>{if(e.path&&(()=>{const e=(0,Ie.getQuery)();return"wc-admin"===(null==e?void 0:e.page)&&["/add-product","/product/"].some((t=>{var o;return null===(o=null==e?void 0:e.path)||void 0===o?void 0:o.startsWith(t)}))})())for(const{matcher:t,getReplaceString:o}of wl)if(t.test(e.path)){e.path=e.path.replace(t,o());break}return t(e)}))};function El(e){return`${e.id}:${e.menu_order}`}function bl({key:e}){return"string"==typeof e?Number.parseInt(e.split(":")[1],10):Number.MAX_SAFE_INTEGER}function yl(e,t,{variationsOrder:o}){if(!o||!o[t])return e;const r=o[t];return[...e].sort(((e,t)=>r[e.id]&&r[t.id]?r[e.id]-r[t.id]:0))}const Cl=({variations:e,currentPage:t})=>{const{setValue:o,values:r}=(0,f.useFormContext)();return{sortedVariations:yl(e,t,r),getVariationKey:El,onOrderChange:function(e){const n=Math.min(...e.map(bl));o("variationsOrder",{...r.variationsOrder,[t]:e.reduce(((e,t,o)=>({...e,[function({key:e}){return"string"==typeof e?Number.parseInt(e.split(":")[0],10):0}(t)]:n+o})),{})})}}},kl=function(e){const[t,o]=(0,ne.useEntityProp)("postType",e||"product","meta_data");return{updateMetadata:e=>{o([...t.filter((t=>-1===e.findIndex((e=>e.key===t.key)))),...e])}}};(0,a.register)(p)})(),(window.wc=window.wc||{}).productEditor=r})();
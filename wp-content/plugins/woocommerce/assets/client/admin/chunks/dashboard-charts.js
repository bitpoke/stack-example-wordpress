"use strict";(globalThis.webpackChunk_wcAdmin_webpackJsonp=globalThis.webpackChunk_wcAdmin_webpackJsonp||[]).push([[1133],{620:(e,o,r)=>{r.d(o,{Qc:()=>i,eg:()=>m,uW:()=>_});var t=r(27723),c=r(52619),l=r(47143),a=r(27752),s=r(33958);const{addCesSurveyForAnalytics:n}=(0,l.dispatch)(a.STORE_KEY),m=(0,c.applyFilters)("woocommerce_admin_coupons_report_charts",[{key:"orders_count",label:(0,t.__)("Discounted orders","woocommerce"),order:"desc",orderby:"orders_count",type:"number"},{key:"amount",label:(0,t.__)("Amount","woocommerce"),order:"desc",orderby:"amount",type:"currency"}]),i=(0,c.applyFilters)("woocommerce_admin_coupon_report_advanced_filters",{filters:{},title:(0,t._x)("Coupons match <select/> filters","A sentence describing filters for Coupons. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce")}),d=[{label:(0,t.__)("All coupons","woocommerce"),value:"all"},{label:(0,t.__)("Single coupon","woocommerce"),value:"select_coupon",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_coupon",chartMode:"item-comparison",path:["select_coupon"],settings:{type:"coupons",param:"coupons",getLabels:s.U4,labels:{placeholder:(0,t.__)("Type to search for a coupon","woocommerce"),button:(0,t.__)("Single Coupon","woocommerce")}}}]},{label:(0,t.__)("Comparison","woocommerce"),value:"compare-coupons",settings:{type:"coupons",param:"coupons",getLabels:s.U4,labels:{title:(0,t.__)("Compare Coupon Codes","woocommerce"),update:(0,t.__)("Compare","woocommerce"),helpText:(0,t.__)("Check at least two coupon codes below to compare","woocommerce")},onClick:n}}];Object.keys(i.filters).length&&d.push({label:(0,t.__)("Advanced filters","woocommerce"),value:"advanced"});const _=(0,c.applyFilters)("woocommerce_admin_coupons_report_filters",[{label:(0,t.__)("Show","woocommerce"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:d}])},80170:(e,o,r)=>{r.d(o,{Qc:()=>n,eg:()=>a,uW:()=>s});var t=r(27723),c=r(52619),l=r(33958);const a=(0,c.applyFilters)("woocommerce_admin_downloads_report_charts",[{key:"download_count",label:(0,t.__)("Downloads","woocommerce"),type:"number"}]),s=(0,c.applyFilters)("woocommerce_admin_downloads_report_filters",[{label:(0,t.__)("Show","woocommerce"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:(0,t.__)("All downloads","woocommerce"),value:"all"},{label:(0,t.__)("Advanced filters","woocommerce"),value:"advanced"}]}]),n=(0,c.applyFilters)("woocommerce_admin_downloads_report_advanced_filters",{title:(0,t._x)("Downloads match <select/> filters","A sentence describing filters for Downloads. See screen shot for context: https://cloudup.com/ccxhyH2mEDg","woocommerce"),filters:{product:{labels:{add:(0,t.__)("Product","woocommerce"),placeholder:(0,t.__)("Search","woocommerce"),remove:(0,t.__)("Remove product filter","woocommerce"),rule:(0,t.__)("Select a product filter match","woocommerce"),title:(0,t.__)("<title>Product</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select product","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","products","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","products","woocommerce")}],input:{component:"Search",type:"products",getLabels:l.p0}},customer:{labels:{add:(0,t.__)("Username","woocommerce"),placeholder:(0,t.__)("Search customer username","woocommerce"),remove:(0,t.__)("Remove customer username filter","woocommerce"),rule:(0,t.__)("Select a customer username filter match","woocommerce"),title:(0,t.__)("<title>Username</title> <rule/> <filter />","woocommerce"),filter:(0,t.__)("Select customer username","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","customer usernames","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","customer usernames","woocommerce")}],input:{component:"Search",type:"usernames",getLabels:l.wd}},order:{labels:{add:(0,t.__)("Order #","woocommerce"),placeholder:(0,t.__)("Search order number","woocommerce"),remove:(0,t.__)("Remove order number filter","woocommerce"),rule:(0,t.__)("Select an order number filter match","woocommerce"),title:(0,t.__)("<title>Order #</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select order number","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","order numbers","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","order numbers","woocommerce")}],input:{component:"Search",type:"orders",getLabels:async e=>{const o=e.split(",");return await o.map((e=>({id:e,label:"#"+e})))}}},ip_address:{labels:{add:(0,t.__)("IP Address","woocommerce"),placeholder:(0,t.__)("Search IP address","woocommerce"),remove:(0,t.__)("Remove IP address filter","woocommerce"),rule:(0,t.__)("Select an IP address filter match","woocommerce"),title:(0,t.__)("<title>IP Address</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select IP address","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","IP addresses","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","IP addresses","woocommerce")}],input:{component:"Search",type:"downloadIps",getLabels:async e=>{const o=e.split(",");return await o.map((e=>({id:e,label:e})))}}}}})},13560:(e,o,r)=>{r.d(o,{Qc:()=>m,eg:()=>s,uW:()=>n});var t=r(27723),c=r(52619),l=r(33958),a=r(56109);const s=(0,c.applyFilters)("woocommerce_admin_orders_report_charts",[{key:"orders_count",label:(0,t.__)("Orders","woocommerce"),type:"number"},{key:"net_revenue",label:(0,t.__)("Net sales","woocommerce"),order:"desc",orderby:"net_total",type:"currency"},{key:"avg_order_value",label:(0,t.__)("Average order value","woocommerce"),type:"currency"},{key:"avg_items_per_order",label:(0,t.__)("Average items per order","woocommerce"),order:"desc",orderby:"num_items_sold",type:"average"}]),n=(0,c.applyFilters)("woocommerce_admin_orders_report_filters",[{label:(0,t.__)("Show","woocommerce"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:(0,t.__)("All orders","woocommerce"),value:"all"},{label:(0,t.__)("Advanced filters","woocommerce"),value:"advanced"}]}]),m=(0,c.applyFilters)("woocommerce_admin_orders_report_advanced_filters",{title:(0,t._x)("Orders match <select/> filters","A sentence describing filters for Orders. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce"),filters:{status:{labels:{add:(0,t.__)("Order status","woocommerce"),remove:(0,t.__)("Remove order status filter","woocommerce"),rule:(0,t.__)("Select an order status filter match","woocommerce"),title:(0,t.__)("<title>Order status</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select an order status","woocommerce")},rules:[{value:"is",label:(0,t._x)("Is","order status","woocommerce")},{value:"is_not",label:(0,t._x)("Is Not","order status","woocommerce")}],input:{component:"SelectControl",options:Object.keys(a.wm).map((e=>({value:e,label:a.wm[e]})))}},product:{labels:{add:(0,t.__)("Product","woocommerce"),placeholder:(0,t.__)("Search products","woocommerce"),remove:(0,t.__)("Remove product filter","woocommerce"),rule:(0,t.__)("Select a product filter match","woocommerce"),title:(0,t.__)("<title>Product</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select products","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","products","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","products","woocommerce")}],input:{component:"Search",type:"products",getLabels:l.p0}},variation:{labels:{add:(0,t.__)("Product variation","woocommerce"),placeholder:(0,t.__)("Search product variations","woocommerce"),remove:(0,t.__)("Remove product variation filter","woocommerce"),rule:(0,t.__)("Select a product variation filter match","woocommerce"),title:(0,t.__)("<title>Product variation</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select variation","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","variations","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","variations","woocommerce")}],input:{component:"Search",type:"variations",getLabels:l.b8}},coupon:{labels:{add:(0,t.__)("Coupon code","woocommerce"),placeholder:(0,t.__)("Search coupons","woocommerce"),remove:(0,t.__)("Remove coupon filter","woocommerce"),rule:(0,t.__)("Select a coupon filter match","woocommerce"),title:(0,t.__)("<title>Coupon code</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select coupon codes","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","coupon code","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","coupon code","woocommerce")}],input:{component:"Search",type:"coupons",getLabels:l.U4}},customer_type:{labels:{add:(0,t.__)("Customer type","woocommerce"),remove:(0,t.__)("Remove customer filter","woocommerce"),rule:(0,t.__)("Select a customer filter match","woocommerce"),title:(0,t.__)("<title>Customer is</title> <filter/>","woocommerce"),filter:(0,t.__)("Select a customer type","woocommerce")},input:{component:"SelectControl",options:[{value:"new",label:(0,t.__)("New","woocommerce")},{value:"returning",label:(0,t.__)("Returning","woocommerce")}],defaultOption:"new"}},refunds:{labels:{add:(0,t.__)("Refund","woocommerce"),remove:(0,t.__)("Remove refund filter","woocommerce"),rule:(0,t.__)("Select a refund filter match","woocommerce"),title:(0,t.__)("<title>Refund</title> <filter/>","woocommerce"),filter:(0,t.__)("Select a refund type","woocommerce")},input:{component:"SelectControl",options:[{value:"all",label:(0,t.__)("All","woocommerce")},{value:"partial",label:(0,t.__)("Partially refunded","woocommerce")},{value:"full",label:(0,t.__)("Fully refunded","woocommerce")},{value:"none",label:(0,t.__)("None","woocommerce")}],defaultOption:"all"}},tax_rate:{labels:{add:(0,t.__)("Tax rate","woocommerce"),placeholder:(0,t.__)("Search tax rates","woocommerce"),remove:(0,t.__)("Remove tax rate filter","woocommerce"),rule:(0,t.__)("Select a tax rate filter match","woocommerce"),title:(0,t.__)("<title>Tax Rate</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select tax rates","woocommerce")},rules:[{value:"includes",label:(0,t._x)("Includes","tax rate","woocommerce")},{value:"excludes",label:(0,t._x)("Excludes","tax rate","woocommerce")}],input:{component:"Search",type:"taxes",getLabels:l.jx}},attribute:{allowMultiple:!0,labels:{add:(0,t.__)("Product attribute","woocommerce"),placeholder:(0,t.__)("Search product attributes","woocommerce"),remove:(0,t.__)("Remove product attribute filter","woocommerce"),rule:(0,t.__)("Select a product attribute filter match","woocommerce"),title:(0,t.__)("<title>Product attribute</title> <rule/> <filter/>","woocommerce"),filter:(0,t.__)("Select attributes","woocommerce")},rules:[{value:"is",label:(0,t._x)("Is","product attribute","woocommerce")},{value:"is_not",label:(0,t._x)("Is Not","product attribute","woocommerce")}],input:{component:"ProductAttribute"}}}})},95519:(e,o,r)=>{r.d(o,{Qc:()=>_,eg:()=>m,uW:()=>u});var t=r(27723),c=r(52619),l=r(47143),a=r(27752),s=r(33958);const{addCesSurveyForAnalytics:n}=(0,l.dispatch)(a.STORE_KEY),m=(0,c.applyFilters)("woocommerce_admin_products_report_charts",[{key:"items_sold",label:(0,t.__)("Items sold","woocommerce"),order:"desc",orderby:"items_sold",type:"number"},{key:"net_revenue",label:(0,t.__)("Net sales","woocommerce"),order:"desc",orderby:"net_revenue",type:"currency"},{key:"orders_count",label:(0,t.__)("Orders","woocommerce"),order:"desc",orderby:"orders_count",type:"number"}]),i={label:(0,t.__)("Show","woocommerce"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:(0,t.__)("All products","woocommerce"),value:"all"},{label:(0,t.__)("Single product","woocommerce"),value:"select_product",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_product",chartMode:"item-comparison",path:["select_product"],settings:{type:"products",param:"products",getLabels:s.p0,labels:{placeholder:(0,t.__)("Type to search for a product","woocommerce"),button:(0,t.__)("Single product","woocommerce")}}}]},{label:(0,t.__)("Comparison","woocommerce"),value:"compare-products",chartMode:"item-comparison",settings:{type:"products",param:"products",getLabels:s.p0,labels:{helpText:(0,t.__)("Check at least two products below to compare","woocommerce"),placeholder:(0,t.__)("Search for products to compare","woocommerce"),title:(0,t.__)("Compare Products","woocommerce"),update:(0,t.__)("Compare","woocommerce")},onClick:n}}]},d={showFilters:e=>"single_product"===e.filter&&!!e.products&&e["is-variable"],staticParams:["filter","products","chartType","paged","per_page"],param:"filter-variations",filters:[{label:(0,t.__)("All variations","woocommerce"),chartMode:"item-comparison",value:"all"},{label:(0,t.__)("Single variation","woocommerce"),value:"select_variation",subFilters:[{component:"Search",value:"single_variation",path:["select_variation"],settings:{type:"variations",param:"variations",getLabels:s.b8,labels:{placeholder:(0,t.__)("Type to search for a variation","woocommerce"),button:(0,t.__)("Single variation","woocommerce")}}}]},{label:(0,t.__)("Comparison","woocommerce"),chartMode:"item-comparison",value:"compare-variations",settings:{type:"variations",param:"variations",getLabels:s.b8,labels:{helpText:(0,t.__)("Check at least two variations below to compare","woocommerce"),placeholder:(0,t.__)("Search for variations to compare","woocommerce"),title:(0,t.__)("Compare Variations","woocommerce"),update:(0,t.__)("Compare","woocommerce")}}}]},_=(0,c.applyFilters)("woocommerce_admin_products_report_advanced_filters",{filters:{},title:(0,t._x)("Products Match <select/> Filters","A sentence describing filters for Products. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce")});Object.keys(_.filters).length&&(i.filters.push({label:(0,t.__)("Advanced Filters","woocommerce"),value:"advanced"}),d.filters.push({label:(0,t.__)("Advanced Filters","woocommerce"),value:"advanced"}));const u=(0,c.applyFilters)("woocommerce_admin_products_report_filters",[i,d])},94693:(e,o,r)=>{r.d(o,{Qc:()=>s,eg:()=>a,uW:()=>m});var t=r(27723),c=r(52619);const l=(0,r(56109).Qk)("usesNewFullRefundData",!0),a=(0,c.applyFilters)("woocommerce_admin_revenue_report_charts",[{key:"gross_sales",label:(0,t.__)("Gross sales","woocommerce"),order:"desc",orderby:"gross_sales",type:"currency",isReverseTrend:!1},{key:"refunds",label:(0,t.__)("Returns","woocommerce"),order:"desc",orderby:"refunds",type:"currency",isReverseTrend:!0,labelTooltipText:l?(0,t.__)("Returns include returned shipping and tax amounts.","woocommerce"):null},{key:"coupons",label:(0,t.__)("Coupons","woocommerce"),order:"desc",orderby:"coupons",type:"currency",isReverseTrend:!1},{key:"net_revenue",label:(0,t.__)("Net sales","woocommerce"),orderby:"net_revenue",type:"currency",isReverseTrend:!1,labelTooltipText:l?null:(0,t.__)("Full refunds are not deducted from tax or net sales totals","woocommerce")},{key:"taxes",label:(0,t.__)("Taxes","woocommerce"),order:"desc",orderby:"taxes",type:"currency",isReverseTrend:!1,labelTooltipText:l?null:(0,t.__)("Full refunds are not deducted from tax or net sales totals","woocommerce")},{key:"shipping",label:(0,t.__)("Shipping","woocommerce"),orderby:"shipping",type:"currency",isReverseTrend:!1},{key:"total_sales",label:(0,t.__)("Total sales","woocommerce"),order:"desc",orderby:"total_sales",type:"currency",isReverseTrend:!1}]),s=(0,c.applyFilters)("woocommerce_admin_revenue_report_advanced_filters",{filters:{},title:(0,t._x)("Revenue Matches <select/> Filters","A sentence describing filters for Revenue. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce")}),n=[];Object.keys(s.filters).length&&(n.push({label:(0,t.__)("All Revenue","woocommerce"),value:"all"}),n.push({label:(0,t.__)("Advanced Filters","woocommerce"),value:"advanced"}));const m=(0,c.applyFilters)("woocommerce_admin_revenue_report_filters",[{label:(0,t.__)("Show","woocommerce"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>n.length>0,filters:n}])},9622:(e,o,r)=>{r.d(o,{Qc:()=>_,eg:()=>d,uW:()=>p});var t=r(27723),c=r(52619),l=r(27752),a=r(40314),s=r(47143),n=r(33958),m=r(32639);const{addCesSurveyForAnalytics:i}=(0,s.dispatch)(l.STORE_KEY),d=(0,c.applyFilters)("woocommerce_admin_taxes_report_charts",[{key:"total_tax",label:(0,t.__)("Total tax","woocommerce"),order:"desc",orderby:"total_tax",type:"currency"},{key:"order_tax",label:(0,t.__)("Order tax","woocommerce"),order:"desc",orderby:"order_tax",type:"currency"},{key:"shipping_tax",label:(0,t.__)("Shipping tax","woocommerce"),order:"desc",orderby:"shipping_tax",type:"currency"},{key:"orders_count",label:(0,t.__)("Orders","woocommerce"),order:"desc",orderby:"orders_count",type:"number"}]),_=(0,c.applyFilters)("woocommerce_admin_taxes_report_advanced_filters",{filters:{},title:(0,t._x)("Taxes match <select/> filters","A sentence describing filters for Taxes. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce")}),u=[{label:(0,t.__)("All taxes","woocommerce"),value:"all"},{label:(0,t.__)("Comparison","woocommerce"),value:"compare-taxes",chartMode:"item-comparison",settings:{type:"taxes",param:"taxes",getLabels:(0,n.Dn)(a.NAMESPACE+"/taxes",(e=>({id:e.id,key:e.id,label:(0,m.H)(e)}))),labels:{helpText:(0,t.__)("Check at least two tax codes below to compare","woocommerce"),placeholder:(0,t.__)("Search for tax codes to compare","woocommerce"),title:(0,t.__)("Compare Tax Codes","woocommerce"),update:(0,t.__)("Compare","woocommerce")},onClick:i}}];Object.keys(_.filters).length&&u.push({label:(0,t.__)("Advanced filters","woocommerce"),value:"advanced"});const p=(0,c.applyFilters)("woocommerce_admin_taxes_report_filters",[{label:(0,t.__)("Show","woocommerce"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:u}])},32639:(e,o,r)=>{r.d(o,{H:()=>c});var t=r(27723);function c(e){return[e.country,e.state,e.name||(0,t.__)("TAX","woocommerce"),e.priority].map((e=>e.toString().toUpperCase().trim())).filter(Boolean).join("-")}},31861:(e,o,r)=>{r.r(o),r.d(o,{default:()=>R});var t=r(27723),c=r(4921),l=r(86087),a=r(92272),s=r(9294),n=r(56427),m=r(98846),i=r(40314),d=r(77374),_=r(83306),u=r(96476),p=r(15703),w=r(14908),h=r(55737),b=r(39793);class y extends l.Component{handleChartClick=()=>{const{selectedChart:e}=this.props;(0,u.getHistory)().push(this.getChartPath(e))};getChartPath(e){return(0,u.getNewPath)({chart:e.key},"/analytics/"+e.endpoint,(0,u.getPersistedQuery)())}render(){const{charts:e,endpoint:o,path:r,query:c,selectedChart:l,filters:a}=this.props;return l?(0,b.jsx)("div",{role:"presentation",className:"woocommerce-dashboard__chart-block-wrapper",onClick:this.handleChartClick,children:(0,b.jsxs)(n.Card,{className:"woocommerce-dashboard__chart-block",children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsx)(w.Text,{as:"h3",size:16,weight:600,color:"#23282d",children:l.label})}),(0,b.jsxs)(n.CardBody,{size:null,children:[(0,b.jsx)("a",{className:"screen-reader-text",href:(0,p.getAdminLink)(this.getChartPath(l)),children:(0,t.sprintf)((0,t.__)("%s Report","woocommerce"),l.label)}),(0,b.jsx)(h.A,{charts:e,endpoint:o,query:c,interactiveLegend:!1,legendPosition:"bottom",path:r,selectedChart:l,showHeaderControls:!1,filters:a})]})]})}):null}}const v=y;var f=r(52619),g=r(13560),x=r(95519),k=r(94693),S=r(620),C=r(9622),A=r(80170);const T={revenue:k.eg,orders:g.eg,products:x.eg,coupons:S.eg,taxes:C.eg,downloads:A.eg},P=[{label:(0,t.__)("Total sales","woocommerce"),report:"revenue",key:"total_sales"},{label:(0,t.__)("Net sales","woocommerce"),report:"revenue",key:"net_revenue"},{label:(0,t.__)("Orders","woocommerce"),report:"orders",key:"orders_count"},{label:(0,t.__)("Average order value","woocommerce"),report:"orders",key:"avg_order_value"},{label:(0,t.__)("Items sold","woocommerce"),report:"products",key:"items_sold"},{label:(0,t.__)("Returns","woocommerce"),report:"revenue",key:"refunds"},{label:(0,t.__)("Discounted orders","woocommerce"),report:"coupons",key:"orders_count"},{label:(0,t.__)("Gross discounted","woocommerce"),report:"coupons",key:"amount"},{label:(0,t.__)("Total tax","woocommerce"),report:"taxes",key:"total_tax"},{label:(0,t.__)("Order tax","woocommerce"),report:"taxes",key:"order_tax"},{label:(0,t.__)("Shipping tax","woocommerce"),report:"taxes",key:"shipping_tax"},{label:(0,t.__)("Shipping","woocommerce"),report:"revenue",key:"shipping"},{label:(0,t.__)("Downloads","woocommerce"),report:"downloads",key:"download_count"}],j=(0,f.applyFilters)("woocommerce_admin_dashboard_charts_filter",P.map((e=>({...T[e.report].find((o=>o.key===e.key)),label:e.label,endpoint:e.report})))),O=({hiddenBlocks:e,onToggleHiddenBlock:o})=>j.map((r=>{const t=r.endpoint+"_"+r.key,c=!e.includes(t);return(0,b.jsx)(m.MenuItem,{checked:c,isCheckbox:!0,isClickable:!0,onInvoke:()=>{o(t)(),(0,_.recordEvent)("dash_charts_chart_toggle",{status:c?"off":"on",key:t})},children:r.label},r.endpoint+"_"+r.key)})),F=({chartInterval:e,setInterval:o,query:r,defaultDateRange:c})=>{const l=(0,d.getAllowedIntervalsForQuery)(r,c);if(!l||l.length<1)return null;const a={hour:(0,t.__)("By hour","woocommerce"),day:(0,t.__)("By day","woocommerce"),week:(0,t.__)("By week","woocommerce"),month:(0,t.__)("By month","woocommerce"),quarter:(0,t.__)("By quarter","woocommerce"),year:(0,t.__)("By year","woocommerce")};return(0,b.jsx)(n.SelectControl,{className:"woocommerce-chart__interval-select",value:e,options:l.map((e=>({value:e,label:a[e]}))),"aria-label":"Chart period",onChange:o})},E=({hiddenBlocks:e,path:o,query:r,filters:t})=>{const c=j.reduce(((e,o)=>(void 0===e[o.endpoint]&&(e[o.endpoint]=[]),e[o.endpoint].push(o),e)),{});return(0,b.jsx)("div",{className:"woocommerce-dashboard__columns",children:j.map((l=>e.includes(l.endpoint+"_"+l.key)?null:(0,b.jsx)(v,{charts:c[l.endpoint],endpoint:l.endpoint,path:o,query:r,selectedChart:l,filters:t},l.endpoint+"_"+l.key)))})},R=e=>{const{controls:o,hiddenBlocks:r,isFirst:d,isLast:u,onMove:p,onRemove:w,onTitleBlur:h,onTitleChange:y,onToggleHiddenBlock:v,path:f,title:g,titleInput:x,filters:k,defaultDateRange:S}=e,{updateUserPreferences:C,...A}=(0,i.useUserPreferences)(),[T,P]=(0,l.useState)(A.dashboard_chart_type||"line"),[j,R]=(0,l.useState)(A.dashboard_chart_interval||"day"),I={...e.query,chartType:T,interval:j},N=e=>()=>{P(e),C({dashboard_chart_type:e}),(0,_.recordEvent)("dash_charts_type_toggle",{chart_type:e})};return(0,b.jsxs)("div",{className:"woocommerce-dashboard__dashboard-charts",children:[(0,b.jsxs)(m.SectionHeader,{title:g||(0,t.__)("Charts","woocommerce"),menu:(0,b.jsx)(m.EllipsisMenu,{label:(0,t.__)("Choose which charts to display","woocommerce"),placement:"bottom-end",renderContent:({onToggle:e})=>(0,b.jsxs)(l.Fragment,{children:[(0,b.jsx)(m.MenuTitle,{children:(0,t.__)("Charts","woocommerce")}),O({hiddenBlocks:r,onToggleHiddenBlock:v}),(0,b.jsx)(o,{onToggle:e,onMove:p,onRemove:w,isFirst:d,isLast:u,onTitleBlur:h,onTitleChange:y,titleInput:x})]})}),className:"has-interval-select",children:[F({chartInterval:j,setInterval:e=>{R(e),C({dashboard_chart_interval:e}),(0,_.recordEvent)("dash_charts_interval",{interval:e})},query:I,defaultDateRange:S}),(0,b.jsxs)(n.NavigableMenu,{className:"woocommerce-chart__types",orientation:"horizontal",role:"menubar",children:[(0,b.jsx)(n.Button,{className:(0,c.A)("woocommerce-chart__type-button",{"woocommerce-chart__type-button-selected":!I.chartType||"line"===I.chartType}),title:(0,t.__)("Line chart","woocommerce"),"aria-checked":"line"===I.chartType,role:"menuitemradio",tabIndex:"line"===I.chartType?0:-1,onClick:N("line"),children:(0,b.jsx)(a.A,{})}),(0,b.jsx)(n.Button,{className:(0,c.A)("woocommerce-chart__type-button",{"woocommerce-chart__type-button-selected":"bar"===I.chartType}),title:(0,t.__)("Bar chart","woocommerce"),"aria-checked":"bar"===I.chartType,role:"menuitemradio",tabIndex:"bar"===I.chartType?0:-1,onClick:N("bar"),children:(0,b.jsx)(s.A,{})})]})]}),E({hiddenBlocks:r,path:f,query:I,filters:k})]})}},33958:(e,o,r)=>{r.d(o,{Dn:()=>_,U4:()=>p,aG:()=>u,b8:()=>v,jx:()=>b,p0:()=>h,wd:()=>w,xP:()=>y});var t=r(27723),c=r(93832),l=r(1455),a=r.n(l),s=r(66087),n=r(96476),m=r(40314),i=r(32639),d=r(56109);function _(e,o=s.identity){return function(r="",t){const l="function"==typeof e?e(t):e,s=(0,n.getIdsFromQuery)(r);if(s.length<1)return Promise.resolve([]);const m={include:s.join(","),per_page:s.length};return a()({path:(0,c.addQueryArgs)(l,m)}).then((e=>e.map(o)))}}_(m.NAMESPACE+"/products/attributes",(e=>({key:e.id,label:e.name})));const u=_(m.NAMESPACE+"/products/categories",(e=>({key:e.id,label:e.name}))),p=_(m.NAMESPACE+"/coupons",(e=>({key:e.id,label:e.code}))),w=_(m.NAMESPACE+"/customers",(e=>({key:e.id,label:e.name}))),h=_(m.NAMESPACE+"/products",(e=>({key:e.id,label:e.name}))),b=_(m.NAMESPACE+"/taxes",(e=>({key:e.id,label:(0,i.H)(e)})));function y({attributes:e,name:o}){const r=(0,d.Qk)("variationTitleAttributesSeparator"," - ");if(o&&o.indexOf(r)>-1)return o;const c=(e||[]).map((({name:e,option:o})=>(o||(e=e.charAt(0).toUpperCase()+e.slice(1),o=(0,t.sprintf)((0,t.__)("Any %s","woocommerce"),e)),o))).join(", ");return c?o+r+c:o}const v=_((({products:e})=>e?m.NAMESPACE+`/products/${e}/variations`:m.NAMESPACE+"/variations"),(e=>({key:e.id,label:y(e)})))},92272:(e,o,r)=>{o.A=function(e){var o=e.size,r=void 0===o?24:o,t=e.onClick,s=(e.icon,e.className),n=function(e,o){if(null==e)return{};var r,t,c=function(e,o){if(null==e)return{};var r,t,c={},l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],0<=o.indexOf(r)||(c[r]=e[r]);return c}(e,o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],0<=o.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}(e,l),m=["gridicon","gridicons-line-graph",s,!1,!1,!1].filter(Boolean).join(" ");return c.default.createElement("svg",a({className:m,height:r,width:r,onClick:t},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),c.default.createElement("g",null,c.default.createElement("path",{d:"M3 19h18v2H3zm3-3c1.1 0 2-.9 2-2 0-.5-.2-1-.5-1.3L8.8 10H9c.5 0 1-.2 1.3-.5l2.7 1.4v.1c0 1.1.9 2 2 2s2-.9 2-2c0-.5-.2-.9-.5-1.3L17.8 7h.2c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2c0 .5.2 1 .5 1.3L15.2 9H15c-.5 0-1 .2-1.3.5L11 8.2V8c0-1.1-.9-2-2-2s-2 .9-2 2c0 .5.2 1 .5 1.3L6.2 12H6c-1.1 0-2 .9-2 2s.9 2 2 2z"})))};var t,c=(t=r(51609))&&t.__esModule?t:{default:t},l=["size","onClick","icon","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var o,r=1;r<arguments.length;r++)for(var t in o=arguments[r])Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);return e},a.apply(this,arguments)}},9294:(e,o,r)=>{o.A=function(e){var o=e.size,r=void 0===o?24:o,t=e.onClick,s=(e.icon,e.className),n=function(e,o){if(null==e)return{};var r,t,c=function(e,o){if(null==e)return{};var r,t,c={},l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],0<=o.indexOf(r)||(c[r]=e[r]);return c}(e,o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],0<=o.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}(e,l),m=["gridicon","gridicons-stats-alt",s,!1,!1,!!function(e){return 0==e%18}(r)&&"needs-offset-y"].filter(Boolean).join(" ");return c.default.createElement("svg",a({className:m,height:r,width:r,onClick:t},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),c.default.createElement("g",null,c.default.createElement("path",{d:"M21 21H3v-2h18v2zM8 10H4v7h4v-7zm6-7h-4v14h4V3zm6 3h-4v11h4V6z"})))};var t,c=(t=r(51609))&&t.__esModule?t:{default:t},l=["size","onClick","icon","className"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var o,r=1;r<arguments.length;r++)for(var t in o=arguments[r])Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);return e},a.apply(this,arguments)}}}]);
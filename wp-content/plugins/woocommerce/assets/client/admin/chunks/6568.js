"use strict";(globalThis.webpackChunk_wcAdmin_webpackJsonp=globalThis.webpackChunk_wcAdmin_webpackJsonp||[]).push([[6568],{46568:(I,M,i)=>{var g=i(40314),N=i(47143),e=i(92279),D=i(85816),j=i(29491),o=i(27723),c=i(66087),t=i(86087),z=i(98846),n=i(56427),s=i(15703),A=i(83306),a=i(68191),T=i(39793);const S=({onConnect:I})=>(0,T.jsx)(a.A,{from:"woocommerce-shipping",onConnect:()=>{(0,A.recordEvent)("tasklist_shipping_recommendation_connect_store",{connect:!0}),I?.()}});var u=i(46772),x=i(98642);const l=I=>"object"==typeof I&&null!==I,d=({nextStep:I,pluginsToActivate:M})=>{const{updateOptions:i}=(0,N.useDispatch)(g.optionsStore),{isResolving:e,tosAccepted:D}=(0,N.useSelect)((I=>{const{getOption:M,hasFinishedResolution:i}=I(g.optionsStore),N=M("wcshipping_options");return{isResolving:!i("getOption",["woocommerce_setup_jetpack_opted_in"])||!i("getOption",["wcshipping_options"]),tosAccepted:l(N)&&N?.tos_accepted||"1"===M("woocommerce_setup_jetpack_opted_in")}}),[]);return(0,t.useEffect)((()=>{D&&!M.length&&I()}),[I,M,D]),e?null:(0,T.jsxs)(T.Fragment,{children:[!D&&(0,T.jsx)(x.U,{buttonText:(0,o.__)("Install & enable","woocommerce")}),(0,T.jsx)(z.Plugins,{onComplete:(M,g)=>{(0,u.R)(g),(0,A.recordEvent)("tasklist_shipping_recommendation_install_extensions",{install_extensions:!0}),i({woocommerce_setup_jetpack_opted_in:!0}),I()},onError:(I,M)=>(0,u.R)(M),pluginSlugs:M})]})};var C=i(18886),O=i(41418),y=i(62513);const p=({nextStep:I,onLocationComplete:M})=>{const{createNotice:i}=(0,N.useDispatch)("core/notices"),{updateAndPersistSettingsForGroup:e}=(0,N.useDispatch)(g.settingsStore),{generalSettings:D,isResolving:j}=(0,N.useSelect)((I=>{const{getSettings:M,hasFinishedResolution:i}=I(g.settingsStore);return{generalSettings:M("general")?.general,isResolving:!i("getSettings",["general"])}}),[]);return(0,t.useEffect)((()=>{!j&&(0,O.Ud)(D||{})&&M()}),[D,M,j]),j?null:(0,T.jsx)(y.A,{onComplete:M=>{const i=(0,C.gI)(M.countryState);(0,A.recordEvent)("tasklist_shipping_recommendation_set_location",{country:i}),I()},isSettingsRequesting:!1,settings:D,updateAndPersistSettingsForGroup:e,createNotice:i})};var L=i(41040);const m=[{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjkiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOSAyOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMC42NDU1MDgiIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgcng9IjQiIGZpbGw9IiNGNkY3RjciLz4KPG1hc2sgaWQ9Im1hc2swXzg4N18xMTY5MTQiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjciIHk9IjgiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxMyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjEuMzEyMyAxNy4zMzMzSDE5LjMxMjNWMTkuMzMzM0MxOS4zMTIzIDIwLjA3IDE4LjcxNTcgMjAuNjY2NyAxNy45NzkgMjAuNjY2N0gxMS4zMTIzQzEwLjU3NTcgMjAuNjY2NyA5Ljk3OSAyMC4wNyA5Ljk3OSAxOS4zMzMzVjE3LjMzMzNINy45NzlWMTJDNy45NzkgMTEuMjYzMyA4LjU3NTY3IDEwLjY2NjcgOS4zMTIzNCAxMC42NjY3SDkuOTc5VjkuMzMzMzNDOS45NzkgOC41OTY2NyAxMC41NzU3IDggMTEuMzEyMyA4SDE3Ljk3OUMxOC43MTU3IDggMTkuMzEyMyA4LjU5NjY3IDE5LjMxMjMgOS4zMzMzM1YxMC42NjY3SDE5Ljk3OUMyMC43MTU3IDEwLjY2NjcgMjEuMzEyMyAxMS4yNjMzIDIxLjMxMjMgMTJWMTcuMzMzM1pNMTIuNjQ1NyAxNi42NjY3SDE2LjY0NTdWMThIMTIuNjQ1N1YxNi42NjY3Wk0xNy45NzkgMTAuNjY2N0gxMS4zMTIzVjkuMzMzMzNIMTcuOTc5VjEwLjY2NjdaTTE3Ljk3OSAxNS4zMzMzSDExLjMxMjNWMTkuMzMzM0gxNy45NzlWMTUuMzMzM1pNMTguOTc5IDEyQzE5LjUzMSAxMiAxOS45NzkgMTIuNDQ4IDE5Ljk3OSAxM0MxOS45NzkgMTMuNTUyIDE5LjUzMSAxNCAxOC45NzkgMTRDMTguNDI3IDE0IDE3Ljk3OSAxMy41NTIgMTcuOTc5IDEzQzE3Ljk3OSAxMi40NDggMTguNDI3IDEyIDE4Ljk3OSAxMloiIGZpbGw9IndoaXRlIi8+CjwvbWFzaz4KPGcgbWFzaz0idXJsKCNtYXNrMF84ODdfMTE2OTE0KSI+CjxyZWN0IHg9IjYuNjQ1NTEiIHk9IjYiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iIzhDOEY5NCIvPgo8L2c+Cjwvc3ZnPgo=",title:(0,o.__)("Buy postage when you need it","woocommerce"),description:(0,o.__)("No need to wonder where that stampbook went.","woocommerce")},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjkiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOSAyOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMC42NDU1MDgiIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgcng9IjQiIGZpbGw9IiNGNkY3RjciLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS45Nzg3IDguNjY2NzFWMTYuNjY2N0wxNS45Nzg3IDIwLjY2NjdIMTAuNjQ1M0M5LjkwODY4IDIwLjY2NjcgOS4zMTIwMSAyMC4wNyA5LjMxMjAxIDE5LjMzMzRWOC42NjY3MUM5LjMxMjAxIDcuOTMwMDQgOS45MDg2OCA3LjMzMzM3IDEwLjY0NTMgNy4zMzMzN0gxOC42NDUzQzE5LjM4MiA3LjMzMzM3IDE5Ljk3ODcgNy45MzAwNCAxOS45Nzg3IDguNjY2NzFaTTExLjk3ODcgMTEuMzMzNEgxNy4zMTJWMTBIMTEuOTc4N1YxMS4zMzM0Wk0xMS45Nzg3IDEyLjY2NjdIMTcuMzEyVjE0SDExLjk3ODdWMTIuNjY2N1pNMTguNjQ1MyA4LjY2NjcxVjE1LjMzMzRIMTUuOTc4N0MxNS4yNDIgMTUuMzMzNCAxNC42NDUzIDE1LjkzIDE0LjY0NTMgMTYuNjY2N1YxOS4zMzM0SDEwLjY0NTNWOC42NjY3MUgxOC42NDUzWiIgZmlsbD0iYmxhY2siLz4KPG1hc2sgaWQ9Im1hc2swXzg4N18xMTY5MjAiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjkiIHk9IjciIHdpZHRoPSIxMSIgaGVpZ2h0PSIxNCI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTkuOTc4NyA4LjY2NjcxVjE2LjY2NjdMMTUuOTc4NyAyMC42NjY3SDEwLjY0NTNDOS45MDg2OCAyMC42NjY3IDkuMzEyMDEgMjAuMDcgOS4zMTIwMSAxOS4zMzM0VjguNjY2NzFDOS4zMTIwMSA3LjkzMDA0IDkuOTA4NjggNy4zMzMzNyAxMC42NDUzIDcuMzMzMzdIMTguNjQ1M0MxOS4zODIgNy4zMzMzNyAxOS45Nzg3IDcuOTMwMDQgMTkuOTc4NyA4LjY2NjcxWk0xMS45Nzg3IDExLjMzMzRIMTcuMzEyVjEwSDExLjk3ODdWMTEuMzMzNFpNMTEuOTc4NyAxMi42NjY3SDE3LjMxMlYxNEgxMS45Nzg3VjEyLjY2NjdaTTE4LjY0NTMgOC42NjY3MVYxNS4zMzM0SDE1Ljk3ODdDMTUuMjQyIDE1LjMzMzQgMTQuNjQ1MyAxNS45MyAxNC42NDUzIDE2LjY2NjdWMTkuMzMzNEgxMC42NDUzVjguNjY2NzFIMTguNjQ1M1oiIGZpbGw9IndoaXRlIi8+CjwvbWFzaz4KPGcgbWFzaz0idXJsKCNtYXNrMF84ODdfMTE2OTIwKSI+CjxyZWN0IHg9IjYuNjQ1NTEiIHk9IjYiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iIzhDOEY5NCIvPgo8L2c+Cjwvc3ZnPgo=",title:(0,o.__)("Print at home","woocommerce"),description:(0,o.__)("Pick up an order, then just pay, print, package and post.","woocommerce")},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjkiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOSAyOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMC42NDU1MDgiIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgcng9IjQiIGZpbGw9IiNGNkY3RjciLz4KPHJlY3QgeD0iMTAuNzI5IiB5PSIxMC4wODM0IiB3aWR0aD0iMi41IiBoZWlnaHQ9IjIuNSIgcng9IjEuMjUiIHN0cm9rZT0iIzhDOEY5NCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPHJlY3QgeD0iMTYuMDYyNSIgeT0iMTUuNDE2NyIgd2lkdGg9IjIuNSIgaGVpZ2h0PSIyLjUiIHJ4PSIxLjI1IiBzdHJva2U9IiM4QzhGOTQiIHN0cm9rZS13aWR0aD0iMS41Ii8+CjxsaW5lIHgxPSIxMC42NDU1IiB5MT0iMTcuNjA2MSIgeDI9IjE4LjI1MTUiIHkyPSIxMC4wMDAxIiBzdHJva2U9IiM4QzhGOTQiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+Cg==",title:(0,o.__)("Discounted rates","woocommerce"),description:(0,o.__)("Access discounted shipping rates with USPS, UPS, and DHL.","woocommerce")}],k=()=>(0,T.jsx)(L.y,{logo:{image:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEyNSIgdmlld0JveD0iMCAwIDE1MCAxMjUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMzI5NV8zNTM5KSI+CiAgICAgICAgPHBhdGggZD0iTTk5Ljk3MjIgMTIuMTA0MkM5OS45NzIyIDQuMzc1IDk1LjY1NCAwIDg3Ljk0NzggMEgxMi4wMjQ0QzQuMzE4MjQgMCAwIDQuMzc1IDAgMTIuMTA0MlYxMTIuODg5QzAgMTIwLjYxOCA0LjMxODI0IDEyNC45OTMgMTIuMDI0NCAxMjQuOTkzSDg3Ljk1NDdDOTUuNjYwOSAxMjQuOTkzIDk5Ljk3OTIgMTIwLjYxOCA5OS45NzkyIDExMi44ODlWMTIuMTA0Mkg5OS45NzIyWiIgZmlsbD0iI0I5OTlGRiIvPgogICAgICAgIDxwYXRoIGQ9Ik0xNTAgNTBINzQuOTc5M1YxMjVIMTUwVjUwWiIgZmlsbD0iI0QxQzFGRiIvPgogICAgICAgIDxwYXRoIGQ9Ik00Ny40MzgzIDI4LjYwNDNDNDcuNDM4MyAyNS45NTE1IDUwLjg4ODcgMjUuMDYyNiA1MC44ODg3IDIyLjMzMzRDNTAuODg4NyAxOS42MDQzIDQ3LjQzODMgMTguNzE1NCA0Ny40MzgzIDE2LjA1NTdDNDcuNDM4MyAxMy4zOTU5IDUwLjA5NzMgMTAuODc1MSA0OC4xODgxIDguOTY1MzlDNDYuMjc4OSA3LjA1NTY2IDQzLjc2NTcgOS42OTQ1NSA0MS4xMDY3IDkuNjk0NTVDMzguNDQ3NyA5LjY5NDU1IDM3LjU2NiA2LjI0MzE2IDM0LjgzMDcgNi4yNDMxNkMzMi4wOTUzIDYuMjQzMTYgMzEuMjI3NSA5LjY5NDU1IDI4LjU2ODUgOS42OTQ1NUMyNS45MDk1IDkuNjk0NTUgMjUuMDM0OCA2LjI0MzE2IDIyLjMwNjQgNi4yNDMxNkMxOS41NzggNi4yNDMxNiAxOC42ODkzIDkuNjk0NTUgMTYuMDMwMyA5LjY5NDU1QzEzLjM3MTMgOS42OTQ1NSAxMC44NTEyIDcuMDU1NjYgOC45NDg5NiA4Ljk2NTM5QzcuMDQ2NzEgMTAuODc1MSA5LjY5ODc1IDEzLjM4OSA5LjY5ODc1IDE2LjA1NTdDOS42OTg3NSAxOC43MjIzIDYuMjQ4MzIgMTkuNTk3MyA2LjI0ODMyIDIyLjMzMzRDNi4yNDgzMiAyNS4wNjk2IDkuNjkxODEgMjUuOTQ0NiA5LjY5ODc1IDI4LjYwNDNDOS42OTg3NSAzMS4yNTcxIDYuMjQ4MzIgMzIuMTQ1OSA2LjI0ODMyIDM0Ljg3NTFDNi4yNDgzMiAzNy42MDQzIDkuNjk4NzUgMzguNDkzMiA5LjY5ODc1IDQxLjE1MjlDOS42OTg3NSA0My44MTI2IDcuMDM5NzcgNDYuMzMzNCA4Ljk0ODk2IDQ4LjI0MzJDMTAuODU4MiA1MC4xNTI5IDEzLjM3MTMgNDcuNTE0IDE2LjAzMDMgNDcuNTE0QzE4LjY4OTMgNDcuNTE0IDE5LjU3MSA1MC45NjU0IDIyLjMwNjQgNTAuOTY1NEMyNS4wNDE3IDUwLjk2NTQgMjUuOTA5NSA0Ny41MTQgMjguNTY4NSA0Ny41MTRDMzEuMjI3NSA0Ny41MTQgMzIuMTAyMiA1MC45NjU0IDM0LjgzMDcgNTAuOTY1NEMzNy41NTkxIDUwLjk2NTQgMzguNDQ3NyA0Ny41MTQgNDEuMTA2NyA0Ny41MTRDNDMuNzY1NyA0Ny41MTQgNDYuMjg1OCA1MC4xNTI5IDQ4LjE4ODEgNDguMjQzMkM1MC4wOTczIDQ2LjMzMzQgNDcuNDM4MyA0My44MTk2IDQ3LjQzODMgNDEuMTUyOUM0Ny40MzgzIDM4LjQ4NjIgNTAuODg4NyAzNy42MTEyIDUwLjg4ODcgMzQuODc1MUM1MC44ODg3IDMyLjEzOSA0Ny40NDUyIDMxLjI2NCA0Ny40MzgzIDI4LjYwNDNaIiBmaWxsPSJ3aGl0ZSIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMTIuNDY5IDUwSDk5Ljk3MjJWNzAuMzYxMUM5OS45NzIyIDc0LjA2MjUgMTAxLjg4MSA3NSAxMDMuNDg1IDc1QzEwNi4yMjcgNzUgMTA5LjgxIDcxLjU0ODYgMTEyLjQ2OSA3MS41NDg2QzExNS4xMjggNzEuNTQ4NiAxMTguNzAzIDc1IDEyMS40NTIgNzVDMTIzLjA2MyA3NSAxMjQuOTY1IDc0LjA2MjUgMTI0Ljk2NSA3MC4zNjExVjUwSDExMi40NjlaIiBmaWxsPSIjODczRUZGIi8+CiAgICAgICAgPHBhdGggZD0iTTc0Ljk3OTMgNTBWMTI1SDQ1Ljg5NzFMNzQuOTc5MyA1MFoiIGZpbGw9IiM1MDA3QUEiLz4KICAgICAgICA8cmVjdCB4PSIxMTMuMTk0IiB5PSIxMDAuNjk0IiB3aWR0aD0iMzEuMjUiIGhlaWdodD0iMTguMDU1NiIgZmlsbD0id2hpdGUiLz4KICAgICAgICA8cmVjdCB4PSIxMjIuOTE3IiB5PSIxMDQuMTY4IiB3aWR0aD0iMS4zODg4OSIgaGVpZ2h0PSIxMS44MDU2IiBmaWxsPSIjM0MwODdFIi8+CiAgICAgICAgPHJlY3QgeD0iMTE2LjY2NyIgeT0iMTA0LjE2OCIgd2lkdGg9IjIuMDgzMzMiIGhlaWdodD0iMTEuODA1NiIgZmlsbD0iIzNDMDg3RSIvPgogICAgICAgIDxyZWN0IHg9IjEzMy4zMzMiIHk9IjEwNC4xNjgiIHdpZHRoPSIyLjA4MzMzIiBoZWlnaHQ9IjExLjgwNTYiIGZpbGw9IiMzQzA4N0UiLz4KICAgICAgICA8cmVjdCB4PSIxMjAuMTM5IiB5PSIxMDQuMTY4IiB3aWR0aD0iMS4zODg4OSIgaGVpZ2h0PSIxMS44MDU2IiBmaWxsPSIjM0MwODdFIi8+CiAgICAgICAgPHJlY3QgeD0iMTM2LjgwNiIgeT0iMTA0LjE2OCIgd2lkdGg9IjEuMzg4ODkiIGhlaWdodD0iMTEuODA1NiIgZmlsbD0iIzNDMDg3RSIvPgogICAgICAgIDxyZWN0IHg9IjEzOS41ODMiIHk9IjEwNC4xNjgiIHdpZHRoPSIxLjM4ODg5IiBoZWlnaHQ9IjExLjgwNTYiIGZpbGw9IiMzQzA4N0UiLz4KICAgICAgICA8cmVjdCB4PSIxMjUuNjk0IiB5PSIxMDQuMTY4IiB3aWR0aD0iMy40NzIyMiIgaGVpZ2h0PSIxMS44MDU2IiBmaWxsPSIjM0MwODdFIi8+CiAgICAgICAgPHJlY3QgeD0iMTMwLjU1NiIgeT0iMTA0LjE2OCIgd2lkdGg9IjEuMzg4ODkiIGhlaWdodD0iMTEuODA1NiIgZmlsbD0iIzNDMDg3RSIvPgogICAgICAgIDxyZWN0IHg9IjIzLjI1IiB5PSIyOSIgd2lkdGg9IjEuMzg4ODkiIGhlaWdodD0iMTEuODA1NiIgZmlsbD0iIzNDMDg3RSIvPgogICAgICAgIDxyZWN0IHg9IjE3IiB5PSIyOSIgd2lkdGg9IjIuMDgzMzMiIGhlaWdodD0iMTEuODA1NiIgZmlsbD0iIzNDMDg3RSIvPgogICAgICAgIDxyZWN0IHg9IjMzLjY2NjciIHk9IjI5IiB3aWR0aD0iMi4wODMzMyIgaGVpZ2h0PSIxMS44MDU2IiBmaWxsPSIjM0MwODdFIi8+CiAgICAgICAgPHJlY3QgeD0iMjAuNDcyMiIgeT0iMjkiIHdpZHRoPSIxLjM4ODg5IiBoZWlnaHQ9IjExLjgwNTYiIGZpbGw9IiMzQzA4N0UiLz4KICAgICAgICA8cmVjdCB4PSIzNy4xMzg5IiB5PSIyOSIgd2lkdGg9IjEuMzg4ODkiIGhlaWdodD0iMTEuODA1NiIgZmlsbD0iIzNDMDg3RSIvPgogICAgICAgIDxyZWN0IHg9IjM5LjkxNjciIHk9IjI5IiB3aWR0aD0iMS4zODg4OSIgaGVpZ2h0PSIxMS44MDU2IiBmaWxsPSIjM0MwODdFIi8+CiAgICAgICAgPHJlY3QgeD0iMjYuMDI3OCIgeT0iMjkiIHdpZHRoPSIzLjQ3MjIyIiBoZWlnaHQ9IjExLjgwNTYiIGZpbGw9IiMzQzA4N0UiLz4KICAgICAgICA8cmVjdCB4PSIzMC44ODg5IiB5PSIyOSIgd2lkdGg9IjEuMzg4ODkiIGhlaWdodD0iMTEuODA1NiIgZmlsbD0iIzNDMDg3RSIvPgogICAgICAgIDxyZWN0IHg9IjQxIiB5PSIxNiIgd2lkdGg9IjMiIGhlaWdodD0iMjQiIHRyYW5zZm9ybT0icm90YXRlKDkwIDQxIDE2KSIgZmlsbD0iI0YxRUVFQiIvPgogICAgICAgIDxyZWN0IHg9IjMxIiB5PSIyMiIgd2lkdGg9IjMiIGhlaWdodD0iMTQiIHRyYW5zZm9ybT0icm90YXRlKDkwIDMxIDIyKSIgZmlsbD0iI0YxRUVFQiIvPgogICAgPC9nPgogICAgPGRlZnM+CiAgICAgICAgPGNsaXBQYXRoIGlkPSJjbGlwMF8zMjk1XzM1MzkiPgogICAgICAgICAgICA8cmVjdCB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEyNSIgZmlsbD0id2hpdGUiLz4KICAgICAgICA8L2NsaXBQYXRoPgogICAgPC9kZWZzPgo8L3N2Zz4K"},features:m});var r=i(3246);const E=["woocommerce-shipping"],w=(0,j.compose)((0,N.withSelect)((I=>{const{getSettings:M}=I(g.settingsStore),{hasFinishedResolution:i}=I(g.optionsStore),{getActivePlugins:N}=I(g.pluginsStore);return{activePlugins:N(),generalSettings:M("general")?.general,isJetpackConnected:I(g.pluginsStore).isJetpackConnected(),isResolving:!i("getOption",["woocommerce_setup_jetpack_opted_in"])||!i("getOption",["wcshipping_options"])||!I(g.pluginsStore).hasFinishedResolution("isJetpackConnected",[])}})))((({activePlugins:I,isJetpackConnected:M,isResolving:i})=>{const[g,N]=(0,t.useState)([]),[e,D]=(0,t.useState)(0),[j,A]=(0,t.useState)(!1),[a,u]=(0,t.useState)(!1),x=()=>{D(e+1)},l=()=>{A(!0),window?.location&&(window.location.href=(0,s.getAdminLink)("admin.php?page=wc-settings&tab=shipping&section=woocommerce-shipping-settings"))};(0,t.useEffect)((()=>{const e=(0,c.difference)(E,I);!i&&0===e.length&&M&&l(),e.length<=g.length||N(e)}),[I,M,i,g]);const C=[{key:"store_location",label:(0,o.__)("Set store location","woocommerce"),description:(0,o.__)("The address from which your business operates","woocommerce"),content:(0,T.jsx)(p,{nextStep:x,onLocationComplete:()=>{a||(u(!0),x())}}),onClick:()=>{D(0)}},{key:"plugins",label:(0,o.__)("Install WooCommerce Shipping","woocommerce"),description:(0,o.__)("Enable shipping label printing and discounted rates","woocommerce"),content:(0,T.jsxs)("div",{children:[(0,T.jsx)(k,{}),(0,T.jsx)(d,{nextStep:x,pluginsToActivate:g})]})},{key:"connect",label:(0,o.__)("Connect your store","woocommerce"),description:(0,o.__)("Connect your store to WordPress.com to enable WooCommerce Shipping","woocommerce"),content:M?(0,T.jsx)(n.Button,{onClick:l,isBusy:j,isPrimary:!0,children:(0,o.__)("Complete task","woocommerce")}):(0,T.jsx)(S,{})}],O=C[e];return(0,T.jsxs)("div",{className:"woocommerce-task-shipping-recommendation",children:[(0,T.jsx)(n.Card,{className:"woocommerce-task-card",children:(0,T.jsx)(n.CardBody,{children:(0,T.jsx)(z.Stepper,{isPending:i,isVertical:!0,currentStep:O.key,steps:C})})}),(0,T.jsx)(r.d,{textProps:{as:"div",className:"woocommerce-task-dashboard__container woocommerce-task-marketplace-link"},message:(0,o.__)("Visit the {{Link}}Official WooCommerce Marketplace{{/Link}} to find more shipping, delivery, and fulfillment solutions.","woocommerce"),eventName:"tasklist_shipping_recommendation_visit_marketplace_click",targetUrl:(0,s.getAdminLink)("admin.php?page=wc-admin&tab=extensions&path=/extensions&category=shipping-delivery-and-fulfillment")})]})}));(0,e.registerPlugin)("wc-admin-onboarding-task-shipping-recommendation",{scope:"woocommerce-tasks",render:()=>(0,T.jsx)(D.WooOnboardingTask,{id:"shipping-recommendation",children:({onComplete:I,query:M,task:i})=>(0,T.jsx)(w,{onComplete:I,query:M,task:i})})})}}]);